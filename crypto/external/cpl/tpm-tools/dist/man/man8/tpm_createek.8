.\" Copyright (C) 2005 International Business Machines Corporation
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "tpm_createek" 8 "2005-05-05"  "TPM Management"
.ce 1
TPM Management - tpm_createek 
.SH NAME
tpm_createek \- create an Endorsement Key Pair on the TPM
.SH "SYNOPSIS"
.ad l
.hy 0
.B tpm_createek
.RB [ OPTION ]

.SH "DESCRIPTION"
.PP
\fBtpm_createek\fR creates and Endorsement Key Pair on the TPM   
(via the TPM_CreateEndorsementKeyPair API).  This should rarely be required as the Endorsement Key is normally installed as part of manufacturing.  However, you might need to run this command once if commands such as tpm_getpubek are returning error code 35 from the TPM layer.

.TP
\fB\-h\fR, \fB\-\-help\fR
Display command usage info.
.TP
\fB-v\fR, \fB\-\-version\fR
Display command version info.
.TP
\fB-l\fR, \fB\-\-log\fR [none|error|info|debug]
Set logging level.

.SH "OPTIONS VALID ONLY FOR TPM VERSION 1.2"
.PP
.TP
\fB-r\fR, \fB\-\-revocable\fR
Creates a \fBrevocable\fR key pair instead of non-revocable one. Requires secret data (either \fB-g\fR \fB-o\fR or \fB-i\fR - see below).
\.TP
\fB-i\fR, \fB\-\-infile\fR [input file]
Specifies the file that contains the secret data used as revoke data do the new revocable EK pair. Only the first 20 bytes of this file  are used
and the remaining ones are ignored.
\.TP
\fB-g\fR, \fB\-\-generate-secret\fR
Generates a random 20 bytes value that is used as the EK pair revocable secret data. Requires \fB-o\fR (see below).
\.TP
\fB-o\fR, \fB\-\-outfile\fR [output file]
Specifies the file to write the generated revocable secret data to, for further use. 

.SH "SEE ALSO"
.PP
\fBtpm_version\fR(1), \fBtpm_getpubek\fR(8), \fBtcsd\fR(8)

.SH "REPORTING BUGS"
Report bugs to <trousers-users@lists.sourceforge.net>
