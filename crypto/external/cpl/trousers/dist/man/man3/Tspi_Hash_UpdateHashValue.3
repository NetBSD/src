.\" Copyright (C) 2004 International Business Machines Corporation
.\" Written by Megan Schneider based on the Trusted Computing Group Software Stack Specification Version 1.1 Golden
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_Hash_UpdateHashValue" 3 "2004-05-25" "TSS 1.1"
.ce 1
TCG Software Stack Developer's Reference
.SH NAME
Tspi_Hash_UpdateHashValue \- update the hash value of a hash object
.SH "SYNOPSIS"
.ad l
.hy 0
.nf
.B #include <tss/platform.h>
.B #include <tss/tcpa_defines.h>
.B #include <tss/tcpa_typedef.h>
.B #include <tss/tcpa_struct.h>
.B #include <tss/tss_typedef.h>
.B #include <tss/tss_structs.h>
.B #include <tss/tspi.h>
.sp
.BI "TSS_RESULT Tspi_Hash_UpdateHashValue(TSS_HHASH " hHash ", UINT32 " ulDataLength ", BYTE* " rgbData ");"
.fi
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTspi_Hash_UpdateHashValue\fR updates the hash value
of a hash object with new information. If the object was created with
the flag TSS_HASH_OTHER, then this method will return an error. \fBThe
object can't be modified after Tspi_Hash_SetHashValue,
Tspi_Hash_GetHashValue, Tspi_Hash_Sign, or Tspi_Hash_VerifySignature
have been called on it.\fR

.SH "PARAMETERS"
.PP
.SS hHash
The handle to the hash object instance whose hash value should be signed.
.SS ulDataLength
Indicates the length of the data provided at the parameter \fIrgbData\fR.
.SS rgbData
A pointer to the data.

.SH "RETURN CODES"
.PP
\fBTspi_Hash_UpdateHashValue\fR returns TSS_SUCCESS on success,
otherwise one of the following values is returned:
.TP
.SM TSS_E_INVALID_HANDLE
\fIhHash\fR is not a valid handle.

.TP
.SM TSS_E_INTERNAL_ERROR
An internal SW error has been detected.

.TP
.SM TSS_E_BAD_PARAMETER
One or more parameters is bad.

.TP
.SM TSS_E_HASH_INVALID_LENGTH
Hash length is inconsistent with hash algorithm.

.TP
.SM TSS_E_HASH_NO_DATA
Hash object has no internal hash value.


.SH "CONFORMING TO"

.PP
\fBTspi_Hash_UpdateHashValue\fR conforms to the Trusted Computing Group
Software Specification version 1.1 Golden

.SH "SEE ALSO"

.PP
\fBTspi_Hash_GetHashValue\fR(3), \fBTspi_Hash_Sign\fR(3),
\fBTspi_Hash_SetHashValue\fR(3), \fBTspi_Hash_VerifySignature\fR(3).

