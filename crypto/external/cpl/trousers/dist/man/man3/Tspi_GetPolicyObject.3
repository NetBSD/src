.\" Copyright (C) 2004 International Business Machines Corporation
.\" Written by Megan Schneider based on the Trusted Computing Group Software Stack Specification Version 1.1 Golden
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_GetPolicyObject" 3 "2004-05-25" "TSS 1.1"
.ce 1
TCG Software Stack Developers Reference
.SH NAME
Tspi_GetPolicyObject \- get a policy object assigned to a working object
.SH "SYNOPSIS"
.ad l
.hy 0
.nf
.B #include <tss/platform.h>
.B #include <tss/tcpa_defines.h>
.B #include <tss/tcpa_typedef.h>
.B #include <tss/tcpa_struct.h>
.B #include <tss/tss_typedef.h>
.B #include <tss/tss_structs.h>
.B #include <tss/tspi.h>
.sp
.BI "TSS_RESULT Tspi_GetPolicyObject(TSS_HOBJECT  " hObject ", TSS_FLAG " policyType ","
.BI "                                TSS_HPOLICY* " phPolicy "); "
.fi
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTspi_GetPolicyObject\fR 
returns a policy object currently assigned to a working object. If you
determine that the policy is different from what you require, you can
change the policy by creating a new one and using Tspi_Policy_AssignToObject.

.SH "PARAMETERS"
.PP
.SS hObject
The \fIhObject\fR parameter is the handle of the object.
.SS policyType
The \fIpolicyType\fR parameter indicates the policy type of interest.
Types are TSS_POLICY_USAGE and TSS_POLICY_MIGRATION.
.SS phPolicy
The \fIphPolicy\fR parameter receives the handle to the assigned policy object.

.SH "RETURN CODES"
.PP
\fBTspi_GetPolicyObject\fR returns TSS_SUCCESS on success, otherwise
one of the following values is returned:
.TP
.SM TSS_E_INVALID_HANDLE
\fIhContext\fR is not a valid handle.

.TP
.SM TSS_E_INTERNAL_ERROR
An internal SW error has been detected.

.TP
.SM TSS_E_BAD_PARAMETER
One or more parameters is bad.

.SH "CONFORMING TO"

.PP
\fBTspi_GetPolicyObject\fR conforms to the Trusted Computing Group
Software Specification version 1.1 Golden

.SH "SEE ALSO"

.PP
\fBTspi_Context_GetTpmObject\fR(3), \fBTspi_Context_LoadKeyByUUID\fR(3),
\fBTspi_SetAttribUint32\fR(3), \fBTspi_Policy_AssignToObject\fR(3).

