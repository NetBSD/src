.\" Copyright (C) 2007 International Business Machines Corporation
.\" Written by Loulwa Salem based on the Trusted Computing Group Software Stack Specification Version 1.2
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_TPM_OwnerGetSRKPubKey" 3 "2007-07-19" "TSS 1.1"
.ce 1
TCG Software Stack Developer's Reference
.SH NAME
Tspi_TPM_OwnerGetSRKPubKey \- get public key of the SRK 
.SH "SYNOPSIS"
.ad l
.hy 0
.nf
.sp
.B  "#include <tss/tspi.h>"
.B  ""
.BI "TSS_RESULT Tspi_TPM_OwnerGetSRKPubKey(TSS_HTPM " hTPM ","
.BI "                                      UINT32*  " pulPubKeyLength ","
.BI "                                      BYTE**   " prgbPubKey ");"
.fi
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTspi_TPM_OwnerGetSRKPubKey\fR
returns the public key of the key object using owner authorization.
This can only be used on 1.2 TPMs, and only to return the public key of the SRK.

.SH "PARAMETERS"
.PP
.SS hTPM
The \fIhTPM\fR parameter is used to specify the handle of the TPM object.
.SS pulPubKeyLength 
The \fIpulPubKeyLength\fR parameter is the length (in bytes) of the prgbPubKey parameter. 
.SS prgbPubKey 
The \fIprgbPubKey\fR parameter is the pointer to the memory block containing the public key blob retrieved for the key object referenced by hKey. 

.SH "RETURN CODES"
.PP
\fBTspi_TPM_OwnerGetSRKPubKey\fR returns TSS_SUCCESS on success, otherwise
one of the following values is returned:
.TP
.SM TSS_E_INVALID_HANDLE
\fIhTPM\fR is not a valid handle.

.TP
.SM TSS_E_BAD_PARAMETER
One or more parameters is bad.

.TP
.SM TSS_E_INTERNAL_ERROR
An internal SW error has been detected.

.TP 
.SM TSS_E_TPM_UNSUPPORTED
The TPM is not version 1.2 or later - (Note: still unimplemented)

.SH "CONFORMING TO"

.PP
\fBTspi_TPM_OwnerGetSRKPubKey\fR conforms to the Trusted Computing Group
Software Specification version 1.2

.SH "SEE ALSO"

.PP
\fBTspi_Context_FreeMemory\fR(3), \fBTspi_Key_GetPubKey\fR(3).

