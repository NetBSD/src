.\" Copyright (C) 2006 International Business Machines Corporation
.\" Written by Kent Yoder based on the Trusted Computing Group Software Stack Specification Version 1.1 Golden
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_TPM_DirRead" 3 "2004-05-25" "TSS 1.1"
.ce 1
TCG Software Stack Developer's Reference
.SH NAME
Tspi_TPM_DirRead \- Read a Data Integrity Register
.SH "SYNOPSIS"
.ad l
.hy 0
.nf
.B #include <tss/platform.h>
.B #include <tss/tcpa_defines.h>
.B #include <tss/tcpa_typedef.h>
.B #include <tss/tcpa_struct.h>
.B #include <tss/tss_typedef.h>
.B #include <tss/tss_structs.h>
.B #include <tss/tspi.h>
.sp
.BI "TSS_RESULT Tspi_TPM_DirRead(TSS_HTPM " hTPM ",             UINT32 " ulDirIndex ","
.BI "                            UINT32*  " pulDirDataLength ", BYTE** " prgbDirData ");"
.fi
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTspi_TPM_DirRead\fR reads a data integrity register. DIRs are non-volatile (persistent
across reboots) memory areas maintained by the TPM.

.SH "PARAMETERS"
.PP
.SS hTPM
The \fIhTPM\fR parameter is used to specify the handle of the TPM
object.
.SS ulDirIndex
The \fIulDirIndex\fR parameter is the index of the DIR to read. To query the TPM for the
number of DIR registers it supports, use \fBTspi_TPM_GetCapability\fR(3).
.SS pulDirDataLength
The \fIpulDirDataLength\fR parameter receives the length in bytes of the \fIprgbDirData\fR parameter.
.SS prgbDirData
The \fIprgbDirData\fR parameter receives a pointer to memory containing the DIR data.

.SH "RETURN CODES"
.PP
\fBTspi_TPM_DirRead\fR returns TSS_SUCCESS on success, otherwise one of
the following values is returned:
.TP
.SM TSS_E_INVALID_HANDLE
\fIhTPM\fR is not a valid handle.

.TP
.SM TSS_E_INTERNAL_ERROR
An internal SW error has been detected.

.TP
.SM TSS_E_BAD_PARAMETER
One or more parameters is bad.

.SH "CONFORMING TO"

.PP
\fBTspi_TPM_DirRead\fR conforms to the Trusted Computing Group Software
Specification version 1.1 Golden

.SH "SEE ALSO"
.PP
\fBTspi_TPM_GetCapability\fR(3), \fBTspi_TPM_DirWrite\fR(3).

