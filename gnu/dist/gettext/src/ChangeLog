1998-04-30  Ulrich Drepper  <drepper@cygnus.com>

	* dir-list.c: Update Peter Miller's mail address.
	* dir-list.h: Likewise.
	* message.c: Likewise.
	* message.h: Likewise.
	* msgcmp.c: Likewise.
	* msgcomm.c: Likewise.
	* msgmerge.c: Likewise.
	* po-gram.h: Likewise.
	* po-gram.y: Likewise.
	* po-hash.h: Likewise.
	* po-hash.y: Likewise.
	* po-lex.c: Likewise.
	* po-lex.h: Likewise.
	* po.c: Likewise.
	* po.h: Likewise.
	* str-list.c: Likewise.
	* str-list.h: Likewise.
	* xget-lex.c: Likewise.
	* xget-lex.h: Likewise.

1998-04-30  Ulrich Drepper  <drepper@cygnus.com>

	* msgfmt.c: Fix typo in --help text.
	Reported by Jan.Djarv@mbox200.swipnet.se.

1998-04-03 01:18 1998  Philippe De Muyter  <phdm@macqel.be>

	* str-list.h (stddef.h): Include that file only if STDC_HEADERS.
	Otherwise include sys/types.h and stdio.h.
	* msgmerge.c (string.h): Include that file if HAVE_STRING_H, not
	if STDC_HEADERS.

1998-04-29  Ulrich Drepper  <drepper@cygnus.com>

	* message.c: Use unsigned char for various local variables.
	* xgettext.c (comment_tag): Define as unsigned char *.
	For loosing Solaris systems.  Patches by Jim Meyering.

	* msgfmt.c: Use extra braces in if to shut up gcc.
	* po-lex.h: Don't declare function po_gram_error and
	gram_error_at_line if macros with the same names are defined.
	* Makefile.am (MAINTAINERCLEANFILES): New variable.
	Patches by Jim Meyering.

1998-04-27  Ulrich Drepper  <drepper@cygnus.com>

	* xgettext.c: Update year and bug report address.  Add little
	explanation in --help messages.
	* msgfmt.c: Likewise.

	* msgmerge.c: Update year and bug report address.
	* msgcomm.c: Likewise.
	* msgcmp.c: Likewise.
	* msgunfmt.c: Likewise.

1997-08-31 22:20  Ulrich Drepper  <drepper@cygnus.com>

	* msgfmt.c (format_directive_message): Count fuzzy messages as
	fuzzy, even if they are not written to the output file.

1997-08-18 13:47  Philippe De Muyter  <phdm@info.ucl.ac.be>

	* msgcomm.c (sys/types.h): File included.

1997-08-15 12:38  Ulrich Drepper  <drepper@cygnus.com>

	* xgettext.c: Include <sys/param.h> to define MIN/MAX for HP/UX.
	Patch by Kaveh R. Ghazi <ghazi@caip.rutgers.edu>.

	* msgfmt.c: Change DEFAULT_ALIGNMENT to DEFAULT_OUTPUT_ALIGNMENT
	to avoid clash with macro with same name in obstack.c.
	Reported by Akim Demaille <demaille@inf.enst.fr>.

1997-08-01 15:48  Ulrich Drepper  <drepper@cygnus.com>

	* Makefile.am (AUTOMAKE_OPTIONS): Require version 1.2.

1997-05-07 04:21  Ulrich Drepper  <drepper@cygnus.com>

	* msgcomm.c (main): Print author in --version message.
	* msgunfmt.c: Likewise.
	* msgcmp.c: Likewise.
	* msgmerge.c: Likewise.
	* msgfmt.c: Likewise.
	* xgettext.c: Likewise.
	* gettextp.c: Likewise.

1997-05-01 02:33  Ulrich Drepper  <drepper@cygnus.com>

	* msgcmp.c (main): Update copyright.
	* msgunfmt.c (main): Likewise.
	* msgcomm.c (main): Likewise.
	* msgmerge.c (main): Likewise.
	* msgfmt.c (main): Likewise.
	* gettextp.c (main): Likewise.

	* msgcomm.c: Fix comment about default output (Jan Djarv).  Split
	help message.

1997-03-31 16:09  Ulrich Drepper  <drepper@cygnus.com>

	* msgcomm.c (usage): Use program_name as argument for print to
	print message, not stdout.
	Patch by Jan Djarv <jan.djarv@mbox200.swipnet.se>.

Mon Mar 10 06:18:58 1997  Ulrich Drepper  <drepper@cygnus.com>

	* xgettext.c: Implement generic language scanner handling.

	* xget-lex.c (phase7_getc): Better comments.
	(phase5_get): Print warnings about unterminated strings and
	character constants.

	* po-lex.c (po_gram_error): Don't count continuation lines in
	messages as errors.
	(gram_error_at_line): Likewise.
	* po-lex.h: Likewise for macro versions.

	* po-hash.y: Correct typo.

	* msgunfmt.c: Implement --force-po option.

	* msgmerge.c: Implement --force-po, --no-location, and
	--add-location options.

	* msgfmt.c (format_directive_message): If messages are duplicated
	and translations are different this is a fatal error.

	* msgcmp.c (compare_directive_message): Use correct format for
	continuation line in message.

	* message.h: Add prototype for message_list_delete_nth.

	* message.c: Add message_list_delete_nth function.

	* Makefile.am (bin_PROGRAMS): Add msgcomm.  (l): New variable.
	Set to `l' is using libtool.  (LDADD): Change for the needs of
	libtool.  (msgcomm_SOURCES): New variable.

	* msgcomm.c: New file.

Wed Dec  4 01:58:10 1996  Ulrich Drepper  <drepper@cygnus.com>

	* Makefile.am (LDADD): Change for use of libtool.

Tue Dec  3 18:08:46 1996  Ulrich Drepper  <drepper@cygnus.com>

	* xget-lex.c (phase7_getc): Return \n when newline is seen, not
	P7_NEWLINE.

	* xgettext.c (main): Implement --foreign-user flag.

	* msgcmp.c (main): Change --version output to what is required by
	GNU standards.  (usage): Correct bug report address.
	* msgfmt.c: Likewise.
	* msgunfmt.c: Likewise.
	* msgmerge.c: Likewise.
	* xgettext.c: Likewise.
	* gettextp.c: Likewise.

Sat Sep 14 04:28:09 1996  Ulrich Drepper  <drepper@cygnus.com>

	* msgunfmt.c (usage): Put bug report address in separate string.
	* msgmerge.c (usage): Likewise.
	* msgcmp.c (usage): Likewise.
	* xgettext.c (usage): Likewise.
	* msgfmt.c (usage): Likewise.
	* gettextp.c (usage): Likewise.

Thu Sep 12 21:40:48 1996  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>

	* msgfmt.c (check_pair): Fix error messages.

Sat Aug 31 14:05:29 1996  Ulrich Drepper  <drepper@cygnus.com>

	* msgunfmt.c (usage): Add hint about where to report bugs to.
	* msgmerge.c (usage): Likewise.
	* msgcmp.c (usage): Likewise.
	* xgettext.c (usage): Likewise.
	* msgfmt.c (usage): Likewise.
	* gettextp.c (usage): Likewise.

Sat Aug 31 04:49:38 1996  Ulrich Drepper  <drepper@cygnus.com>

	* gettextp.c: Don't include <libintl.h> since this can generate
	conflicts.

Mon Jul 15 02:21:25 1996  Ulrich Drepper  <drepper@cygnus.com>

	* msgfmt.c: Major change: msgfmt now does not write fuzzy messages
	out by default.  The option -f/--use-fuzzy must be used to
	explicitely tell to do it.

Sat Jul 13 20:23:34 1996  Ulrich Drepper  <drepper@cygnus.com>

	* xget-lex.c (phase6_get): Reset selected comments on every
	preprocessor directive.

Fri Jul 12 12:38:49 1996  Ulrich Drepper  <drepper@cygnus.com>

	* xgettext.c (main): Remove `v' from short option list.

Sat Jul  6 11:22:47 1996  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* message.c (message_merge): Add some casts to (char *) in alloca
	calls.  Make KNOWN_FIELDS array static.

Sat Jul  6 11:15:43 1996  Jim Meyering  <meyering@na-net.ornl.gov>

	* msgfmt.c (check_pair): Correct English in Message.

Fri Jul  5 17:27:11 1996  Ulrich Drepper  <drepper@cygnus.com>

	* message.c (message_merge): Terminate string for UNKNOWN fields
	in header entry.

	* message.c (message_merge): Don't print POT-Revision-Date twice.

	* msgfmt.c: Implement --statistics.
	Suggested by Santiago Vila Doncel.

	* msgfmt.c: and change message checking so that tests for leading
	and trailing \n are always performed.
	Suggested by François Pinard.

Wed Jun 19 02:42:52 1996  Ulrich Drepper  <drepper@cygnus.com>

	* message.c (message_merge): Implement sorting of header entry
	lines.

Sat Jun 15 19:46:50 1996  Ulrich Drepper  <drepper@cygnus.com>

	* msgmerge.c (usage): Correct -w option in help string (was -W).

Tue Jun 11 15:28:44 1996  Ulrich Drepper  <drepper@cygnus.com>

	* xget-lex.c, xget-lex.h (xgettext_lex_comment): Change parameter
	type to size_t.

	* po-lex.h, po-lex.c (gram_max_allowed_errors): Change type to
	size_t.

	* message.c, message.h (message_page_width_set): Change parameter
	type to size_t.

	* Makefile.am (AUTOMAKE_OPTIONS): Add variable.  Must be defined
	in all subdirs.

Mon Jun 10 02:53:52 1996  Marcus Daniels  <marcus@sysc.pdx.edu>

	* dir-list.c: Include system.h in order to get size_t and NULL.

Thu Jun  6 01:59:31 1996  Ulrich Drepper  <drepper@cygnus.com>

	* str-list.h: Include <stddef.h> to get size_t defined.
	Reported by Philippe Defert.

	* Makefile.am (LDADD): Remove `@INTLLIBS@ ../lib/libnlsut.a
	@LIBS@'.  This is not necessary anymore.

Wed Jun  5 00:00:08 1996  Ulrich Drepper  <drepper@cygnus.com>

	* xgettext.c, msgunfmt.c (usage): Correct --page-width to --width
	in usage string.

	* open-po.c (open_po_file): Implement search path for PO files.

	* xget-lex.c (xgettext_lex_open): Implement search path for PO
	files.  Patch by Peter Miller.

	* message.h (struct message_ty): Add do_wrap member.
	Add prototypes for parse_c_width_description_string and
	message_page_width_set.

	* xgettext.c: Implement --width option to specify width for which
	line wrapping is done.  Change --directory option implement search
	path instead of single directory.  Patch by Peter Miller.

	* message.c (wrap): Implement no-wrap special comment.  If given
	no wrapping is performed.

	* gettextp.c, msgcmp.c, msgfmt.c, msgmerge.c, msgunfmt.c,
	xgettext.c: Add `no-wrap' comments at usage message strings.

	* msgcmp.c: Implement --directory to specify search path for .po
	files.  Patch by Peter Miller.

Tue Jun  4 23:57:59 1996  Ulrich Drepper  <drepper@cygnus.com>

	* msgfmt.c: Implement --width option to specify width for which
        line wrapping is done.  Patch by Peter Miller.

	* msgmerge.c: Implement --width option to specify width for which
	line wrapping is done.  Implement --directory to specify search
	path for .po files.  Patch by Peter Miller.

	* msgunfmt.c: Implement --width option to specify width for which
        line wrapping is done.  Patch by Peter Miller.

Tue Jun  4 00:12:25 1996  Ulrich Drepper  <drepper@cygnus.com>

	* po-hash.y: Add new clause where in GNU style format the name is
        `file'.

	* Makefile.am (noinst_HEADERS): Add dir-list.h.
	(msgcmp_SOURCES, msgfmt_SOURCES, msgmerge_SOURCES, xgettext_SOURCES):
	Add dir-list.c

Mon Jun  3 00:43:07 1996  Ulrich Drepper  <drepper@cygnus.com>

	* message.h: Add new parameter for message_list_print.

	* msgmerge.c, msgunfmt.c (main): Add new parameter to
	message_list_print.  Set to 0 because we don't need to know about
	the reasoning.

	* xgettext.c: Implement new option --debug which determines
	whether a difference is made between c-format and
	possible-c-format.  Default is to print c-format for both cases.

	* message.c (make_c_format_description_string): Take additional
	parameter DEBUG.  If nonzero, distinguish between c-format and
	possible-c-format.

	* message.c (message_print_obsolete): Copy precious translator
	comment to output file.  Reported by Santiago Vila Doncel.

	* dir-list.c: Include file now is called dir-list.h, not
        dir_list.h.

	* message.c: Include <limits.h>.

	* Makefile.am (EXTRA_DIST): Add variable to distribute po-gram.y
        and po-hash.y.

	* Makefile.am (msgfmt_SOURCES): Fix typo: msgfmt.o -> msgfmt.c.

Sat Jun  1 04:33:48 1996  Ulrich Drepper  <drepper@cygnus.com>

	* Makefile.in: Remove support for tupdate.  msgmerge is stable
        now.

Wed Apr 10 01:20:49 1996  Ulrich Drepper  <drepper@myware>

	* message.c (message_print_obsolete): Don't print
	c-format/no-c-format flags for obsolete entries.

	* xgettext.c (construct_header): Change DIST to ZONE in header
        entry template.

	* message.c (message_merge): Insert POT-Creation-Date field before
        PO-Revision-Date.

Tue Apr  9 17:13:34 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (construct_header): Move POT-Creation-Date line
	before PO-Revision-Date line.

Fri Apr  5 12:07:19 1996  Ulrich Drepper  <drepper@myware>

	* msgmerge.c: Implement --quiet option to prevent dots printed as
        progress report.
	(merge): Don't print dots if `quiet'.

	* msgmerge.c (merge): Nicer statistics message.

	* message.c (message_merge): Update POT-Creation-Date field in
	header entry from contents in reference file.

	* msgfmt.c (format_directive_message): Better test for unchanged
	fields in header entry.

	* xgettext.c (difftm): Is back.
	(construct_header): Print distance to GMT in POT file time stamp.

	* xgettext.c (construct_header): Print leading comment and fuzzy
        flag.

	* message.c (message_print): Allow translator comment to fill more
        than one line.

	* xgettext.c (construct_header): Introduce POT-Creation-Date
        field.

Fri Apr  5 03:05:07 1996  Ulrich Drepper  <drepper@myware>

	* msgmerge.c (merge): Rename empty in missing.  There might be
	more empty messages which are not missed.

	* msgmerge.c (merge): Terminate `.' line if no verbose output is
        selected.

	* msgmerge.c (main): Implement -v option to increase verbosity
        level.
	(merge): Print `.' to signal ongoing work.
	Unless verbosity level > 1 don't print information about fuzzy and
	missing matches.  Instead print statistics at the end.
	Suggested by François Pinard and Santiago Vila Doncel.

Thu Apr  4 11:59:20 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (difftm): Remove unused function.
	(construct_header): Don't fill Last-Translator field with information
	about curent user but instead constant text mentioning xgettext.

	* message.c (message_list_search_fuzzy): Initialize mp before
        using it.

	* message.c (message_print): Normalize printed messages even more.
	Don't print fuzzy flag is msgstr is empty.

	* message.c (message_list_search_fuzzy): Don't try to match
	against msgid if none if the msgstr of this message in non-empty.

Thu Apr  4 01:57:37 1996  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (format_directive_message): When testing header entry
	also check whether they still contain the initial values.
	Suggested by François Pinard.

Tue Apr  2 16:19:42 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (main): Add "warning" to message about unknown input
        file type.

	* Makefile.in (all-gettext): New goal.  Same as all.

	* xgettext.c (usage): Rearange help strings.  One of them was too
	long for some dumb catgets programs.  Reported by Marcus Daniels.

	* msgfmt.c (format_directive_message): Check for standard header
        entry fields.

	* xgettext.c (construct_header): MIME-VERSION should be written
        MIME-Version.

	* msgmerge.c (main): Don't recognize -f option anymore.  This is
        the default now.

	* msgfmt.c (format_debrief): New function.  Warn if no header
        entry is found.
	(format_directive_message): Remember if header entry is found.

Tue Apr  2 11:12:15 1996  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (format_constructor): New function.  Initialize
        is_c_format field.
	(format_directive_message): Clear is_c_format field for next message
	at the end.

	* xgettext.c, po-lex.h, po-lex.c, po-gram.y, msgmerge.c, msgfmt.c,
	msgcmp.c: Use gram_error_at_line instead of gram_error_with_loc
	and error_at_line instead of error_with_loc.  Roland does not like
	my English.

Tue Apr  2 03:27:34 1996  Ulrich Drepper  <drepper@myware>

	* msgunfmt.c (main): Removed -S option.  People should think twice
	before using this and so are forced to use the long version.

Tue Apr  2 03:25:56 1996  François Pinard  <pinard@iro.umontreal.ca>

	* msgunfmt.c (usage): Remove Tab character from message.

Tue Apr  2 03:15:16 1996  Marcus Daniels  <marcus@sysc.pdx.edu>

	* message.c (significant_c_format_p): If is_c_format is `no' this
        is significant.

Tue Apr  2 03:12:24 1996  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* po.c (po_comment_filepos): Make definition static as declaration
        was before.

	* msgunfmt.c (usage): Add missing \n to help string.

Mon Apr  1 02:37:45 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (main): When recognizing file type, default to C
	instead of regarding it as an error.  Suggested by Marcus Daniels.

	* po.c (po_callback_comment): For now recognize #! also as special
        comment.

	* msgmerge.c (merge): Remove --force option.  We now always write
	the result.  It makes no sense to reject the output because some
	messages are not matching.

	* po-lex.c (po-gram_error, gram_error_with_loc): Use
	error_message_count instead of gram_nerrors.
	(gram_nerrors): Remove definition.

	* po-lex.h (po-gram_error, gram_error_with_loc): Use
	error_message_count instead of gram_nerrors.

	* xgettext.c: Remove verbose option and variable.
	(test_whether_c_format): Don't return `possible' is string
	contains no format specifier.

Sun Mar 31 23:23:40 1996  Ulrich Drepper  <drepper@myware>

	* xget-lex.c (xgettext_lex): Fix typo.  Reported by François
        Pinard.

Thu Mar 28 19:01:22 1996  Ulrich Drepper  <drepper@myware>

	* po.c (po_callback_comment): Correct handling of special
	comments.  Give whole comment to callback function instead of
	tokenized form.

Thu Mar 28 18:37:49 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (remember_a_message): Always look through comments
	because we have to look for c-format comments.

	* message.h, msgmerge.c, xgettext.c, message.c, msgfmt.c:
	Implement more detailed C format string handling.  Basically coded
	by Marcus Daniels.

Thu Mar 28 16:52:56 1996  Marcus Daniels  <marcus@sysc.pdx.edu>

	* Makefile.in (MSGFMT_OBJ): Add message.o.

Wed Mar 27 03:16:01 1996  Ulrich Drepper  <drepper@myware>

	* xget-lex.c (xgettext_lex): Correct implementation of comments
        grouped with messages.

Tue Mar 26 21:23:54 1996  Ulrich Drepper  <drepper@myware>

	* po.c (po_callback_comment): Remove unused variable string.
	Include <ctype.h> because isspace is used.

	* message.h (message_list_print): Undo change of Mon Mar 25
	03:34:44 1996.  Don't print trailing comment.  Remove additional
	argument.

	* message.c (message_list_print): Undo change of Mon Mar 25
	03:34:44 1996.  Don't print trailing comment.  We now have a
	correct implementation of obsolete entry handling.
	* msgmerge.c: Ditto.

	* po-lex.h: Add prototype for po_lex_pass_obsolete_entries.

	* po-lex.c (po_gram_lex): Implement handling of comments for
        obsolete entries (#~).

	* msgunfmt.c, xgettext.c (main): Undo change of Mon Mar 25
	03:34:44 1996.  Remove added argument to message_list_print again.

	* po-lex.c (po_gram_lex): Small optimization in string collection.

	* message.c (message_print_obsolete): Obsolete messages are now
	preceded by #~ on each line.

	* xgettext.c (remember_a_message): Fix bug with dereferencing
	dangling pointer.  This caused xgettext test 1 to fail.

	* xgettext.c (construct_header): Update format for file header.

	* xgettext.c (extract_directive_message): Don't report error when
	message variant exists but the value is the same.  Reported by
	Roland McGrath.

	* message.c (wrap): Only write characters in escape notation if
	explicitely wanted or if it is one of the well known escapes like
	\n.

	* msgunfmt.c (main): Adopt interface to GNU coding standard.  All
	given files on command line are input files.  Output by default is
	written to standard output and can be redirected using -o.

Mon Mar 25 04:25:42 1996  Ulrich Drepper  <drepper@myware>

	* message.c, message.h (message_list_print): Parameter filename is
        const.

	* message.c (wrap): Change line break behaviour a bit.  While it
	is reasonable to break long line containing #: comments
	immediately when reaching the the limit, this could lead to unnice
	results for the strings in msgid and msgstr.  The programmer
	usually knows why the lines are that long.

	So we break for now after reaching 2 * PAGE_WIDTH instead of
        PAGE_WIDTH.

	* message.c (message_list_print): Print blank line before trailing
        comments.

	* message.c (message_print_obsolete): Don't print anything for
	obsolete entries with empty msgstr.

Mon Mar 25 03:34:44 1996  Ulrich Drepper  <drepper@myware>

	* msgunfmt.c (main): Make program by default read from stdin and
	by default write to stdout in the appropriate argument is not
	given.  Suggested by Franc,ois Pinard.

	* msgfmt.c (format_directive_domain): Only check for correct
	format string elements is special comment contains c-format.

	* msgfmt.c: Use sizeof instead of strlen to determine length of
	constant string.

	* xgettext.c: Implement generation of c-format special comments.

	* msgunfmt.c (main): Call message_list_print with additional
        argument set to NULL.

	* xgettext.c (main): Call message_list_print with additional
        argument set to NULL;
	(extract_class_ty): We don't have field comment_special anymore, but
	instead flags fuzzy and c_format.
	(extract_constructor): Reset fields fuzzy and c_format.
	(extract_directive_message): Set flags according to special comments,
	not string list.
	(extract_comment_special): Set flags according to special comment.

	* message.h (message_ty): We don't have field comment_special
	anymore.  Instead flags fuzzy and c_format.
	(message_comment_special_append): Remove prototype.
	(message_list_print): Add new argument to prototype.

	* message.c (message_alloc): We don't have the comment_special,
        but fuzzy and c_format.
	(message_comment_special_append): Remove function.  We now have flags.
	(message_copy, message_merge): Copy fuzzy and c_format flag
	appropriately.
	(message_print, message_print_obsolete): Print special comment using
	flags, not string list.
	(message_list_print): Additional argument with trailing comments.
	Printed at the end if not NULL.

	* msgmerge.c (merge_class_ty): New fields fuzzy and c_format for
        flags;
	(trailing_comments): New global variable for list of trailing
	comments in definition file.
	(grammar): Takes an additional argument which if NULL gets the list of
	trailing comments assigned to.
	(main): Call message_list_print with additional argument of trailing
	comments.
	(merge_comment_special): Recognize fuzzy and c-format special comment.

Sun Mar 24 17:35:26 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (usage): Option --output-suffix does not exist
        anymore.

	* msgmerge.c (usage): --strict does not have short form -S.

	* message.h (message_ty): New field `obsolete'.

	* msgmerge.c (merge): Change behaviour not not matched entries.
	Instead of giving a message write them out at the end of the
	regular output and precede each line with `# '.

	* message.c (message_list_print): Handle obsolete entries
	separately by printing them at the end and preceded by `# '.
	(message_print_obsolete): New function to print obsolete entries.

	* Makefile.in ($(PROGRAMS)): Add generated libraries as
        dependencies for programs.

	* Makefile.in (PROGRAMS): Remove msgjoin.

Sun Mar 24 01:03:32 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (extract_comment_filepos): Only add line comment if
        requested by -n option.

	* po.c (po_callback_comment): Short by one bug in special comment
        entry copying.

	* po.c (po_callback_comment): Handle special comments.  Separate
	them into a list of comma separate entries.

	* message.c (message_print): Format of lines containing fuzzy
	comments et.al. is now `#, xxx'.

	* Makefile.in: msgjoin program is not anymore generated.

	* xgettext.c: First step to implementing general input file
	handling.  The program now recognizes the file type by the file
	name extension and uses the appropriate function.  For now two
	file types are recognized: C/C++ and PO.  Especially handling PO
	files make the msgjoin program obsolete.

Sat Mar 23 01:50:00 1996  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (verbose): Rename to verbose_level.
	(main): Increment verbose_level each time -v option is given.
	(format_directive_domain): Print some of the diagnostic messages only
	if verbosity level is > 1.  Suggested by Franc,ois Pinard for a
	better interface to PO mode.

	* xgettext.c (scan_c_file): Extract all string if `extract-all'
	option is given.  Reported by Roland McGrath.

Thu Mar 14 14:55:20 1996  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (format_comment_special): Be prepared that special
	comment contains more than one entry, separated by commas.

	* message.c (message_print): Special comments are now written in a
	line, separated by commas.

	* msgmerge.c (merge): Replace `INEXACT' with `fuzzy'.

Thu Mar 14 11:50:48 1996  Marcus Daniels  <marcus@sysc.pdx.edu>

	* po-hash.h (po_hash): Change __P to PARAMS in prototype.

Fri Mar  1 13:35:01 1996  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (main): Set error_one_per_line to 1 to prevent more
	than one error message per line.  Suggested by Franc,ois Pinard.

	* po-lex.h (po_gram_error): Don't write source file name in fatal
        message.
	(po_gram_error_with_loc): Ditto.

	* po-lex.c (lex_close): Don't write source file name in fatal
        message.
	(po_gram_error): Ditto.
	(po_gram_error_with_loc): Ditto.

Fri Mar  1 00:30:49 1996  Ulrich Drepper  <drepper@myware>

	* po-lex.h: Use PARAMS instead of __P in header declarations.

	* msgcmp.c (compare_methods): Set new field comment_special to
        NULL.

	* msgjoin.c (join_methods): Set new field comment_special to NULL.

	* xgettext.c (exclude_methods): Set new field comment_special to
        NULL.

	* po.h (struct po_method_ty): New field comment_special.
	(po_directive_domain, po_directive_message, po_parse_brief,
	po_parse_debrief, po_comment, po_comment_dot, po_comment_filepos):
	Remove prototypes.  Now are local functions.

	* po.c (po_parse_brief, po_parse_debrief, po_directive_domain,
	po_directive_message, po_comment, po_comment_dot,
	po_comment_filepos): Declare functions as local and add
	prototypes.
	(po_comment_special): New function.
	(po_callback_comment): For special comments call po_comment_special.

	* msgmerge.c (usage): Add --force in help message.
	(merge_methods): Set special comment callback to NULL.

	* po-lex.c (lex_open): Don't set pass_comments to 0.  This has to
	be done in upper layer functions.
	(po_gram_lex): Also pass #! comments up.

	* msgfmt.c (main): Make lexer pass comments up.
	(format_comment_special): New function.  Warns about `#! INEXACT'
	comments.
	(format_methods): Add callback for special comment.

Wed Feb 14 01:56:14 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (main): Remove option --output-suffix.  When default
	domain name is "-" write to stdout.

Mon Feb 12 02:20:09 1996  Ulrich Drepper  <drepper@myware>

	* xgettext.c (main): Implement --output-suffix parameter to
	determine alternative form of suffix for output file.

	* xgettext.c, msgjoin.c, msgmerge.c, msgunfmt.c (main): Add
        additional argument to message_list_print call: control output in
        case of empty PO file.
	* message.c (message_list_print): Implement FORCE parameter.
	* message.h: Change prototype.

Sun Jan 21 17:24:56 1996  Ulrich Drepper  <drepper@myware>

	* Makefile.in (install-exec): Include empty else case for case
	when Perl is not available.  Reported by John David Anglin.

Sat Dec 23 12:41:43 1995  Jun Young  <bangjy@nownuri.nowcom.co.kr>

	* gettextp.c (usage): Short option for version info is -V.

Tue Dec 19 22:10:12 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (Makefile, tupdate): Explicitly use $(SHELL) for
        running shell scripts.

Sat Dec  9 17:06:11 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c, xget-lex.h, xget-lex.c, str-list.h, po.h, po.c,
	po-lex.c, po-hash.y, po-gram.h, open-po.c, msgunfmt.c, msgmerge.c,
	msgjoin.c, msgfmt.c, msgcmp.c, message.h, message.c, gettextp.c:
	Use PARAMS instead of __P.  Suggested by Roland McGrath.

Fri Dec  8 01:38:40 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (PROGRAMS): Add definitions for new msgjoin program.

	* msgjoin.c: Initial revision.

Wed Dec  6 18:43:14 1995  Ulrich Drepper  <drepper@myware>

	* open-po.c (open_po_file): Recognize /dev/stdin as name for
	stdin.  Recognize .pot as valid extension.

Wed Dec  6 18:05:11 1995  Ulrich Drepper  <drepper@myware>

	* msgmerge.c (main): Sort options in getopt loop.

Mon Dec  4 15:37:22 1995  Ulrich Drepper  <drepper@myware>

	* msgmerge.c: (main): Remove unused variable `exit_status'.

Sun Dec  3 02:51:31 1995  Ulrich Drepper  <drepper@myware>

	* xget-lex.h: [xgettext_token_type_ty]: We now have two keyword
	types and also the comma is important.

	* xgettext.c (remember_a_message):
	Correct handling of -c option.  This is not a
	string to prepend to output.  Instead it selects single strings to
	include (instead of all).  Reported by Marcus Daniels.
	(scan_c_file): Extend state machine.  We have to retrieve the second
	argument for the keywords `dgettext' and `dcgetetxt`.

	* xget-lex.c (phase5_get): Recognize ','.
	(xgettext_lex): Pass ',' on caller.
	Return different value for keywords `dgetetxt' and `dcgettext`.

	* xget-lex.c (xgettext_lex): `gettext_noop' is an default keyword.

	* msgunfmt.c (usage):
	Message should not contain TABs.  Reported by Franc,ois Pinard.

	* msgunfmt.c (usage):
	Correct typo: Uniforun -> Uniforum.  Reported by Franc,ois Pinard.

Mon Nov 20 21:12:52 1995  Ulrich Drepper  <drepper@myware>

	* po-lex.c, message.c: Some more pretty printing.

	* message.c (wrap): Don't support '\a' and '\v'.

	* xget-lex.c (phase7_getc): Don't support '\v'.

	* po-lex.c (control_sequence): Don't support '\v'.

	* gettextp.c (expand_escape): Don't support \a and \v.

	* msgcmp.c (compare): Really define static.

Thu Nov 16 22:42:33 1995  Ulrich Drepper  <drepper@myware>

	* msgmerge.c (merge): Remove additional parameter in in prototype.

	* xgettext.c: Reomved unused type definition.  Patch by Peter Miller.

	* xget-lex.c: Correct some comments and better implementation of
	-k option.  Patch by Peter Miller.

	* po.h: Fix typos.  By Peter Miller.

	* po-lex.c (po_gram_lex): Prevent accumulation of #! comments.

	* po-gram.y (comments): Remove unused rule.

	* msgmerge.c: Implement new options sort-by-file and sort-output.
	Patches by Peter Miller.

	* msgcmp.c (domain): Remove unused global variable.
	(domain_directive): Remove unused function.

	* message.h: Fix comment for MESSAGE_DOMAIN_DEFAULT definition.

	* message.c (message_print): Correct typo.
	Clarify comments about ANSI escape sequences.
	Patches by Peter Miller.

	* Makefile.in (DISTFILES): Remove $(COMSRCS).
	(MSGFMT_OBJ): Correct indentation.  Patches by Peter Miller.

Sun Nov 12 12:52:29 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (line, string, comment): Remove unused global variables.
	(read_name_from_file): Remove unused variable `cp'.

	* msgmerge.c (merge): Add missing return statement.

	* msgfmt.c (check_pair): Correctly pair comparisons.

	* msgcmp.c (domain_list, mlp): Remove unused global variables.

Sat Nov 11 21:39:17 1995  Ulrich Drepper  <drepper@myware>

	* message.c (message_list_print):
	Prevent output if we have no (real) entry.

	* xgettext.c (remember_a_message): Implement exclude file handling.

Sat Nov 11 17:38:05 1995  Ulrich Drepper  <drepper@myware>

	* msgunfmt.c: Fix message.

	* xgettext.c: Use string handling from str-list and .po file
	handling use xget-lex et.al.

	* xget-lex.h, xget-lex.c, str-list.h, str-list.c, po.h:
	Initial revision.

	* po-lex.h: Allow variable upper limit of errors.
	New prototypes.

	* po-lex.c: Allow variable upper limit of errors.
	Make comment's text available to the caller.

	* po.c, po-hash.y, po-hash.h: Initial revision.

	* po-gram.y: Add handling of comments.

	* po-gram.h: Remove all but one declaration.

	* msgunfmt.c, msgmerge.c: Initial revision.

	* msgfmt.c: Adopt for new interface to parser.

	* msgcmp.c: Move lot's of general code to other files.

	* message.h, message.c:
	Extended functionality for Peter Miller's pseudo-OO programming.

	* Makefile.in: Rewrite after adding rules for new programs.

Fri Nov 10 10:01:37 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (PROGRAMS): Add new programs msgmerge and msgunfmt.

Thu Nov  9 01:29:46 1995  Ulrich Drepper  <drepper@myware>

	* gettextp.c (usage): Split message in two parts.

	* xgettext.c (usage): Split message in three parts.

	* xgettext.c (main):
	Print warning if --files-from option and file names on command
	line are given.

	* xgettext.c (long_options):
	Mixed up `default-domain' and `directory' values.

Wed Nov  8 23:31:34 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c: Implement -D and -f option.

Tue Nov  7 13:44:44 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (LIBS): One @LIBS@ must be @INTLLIBS@.

	* Makefile.in (LIBS): Correct definition.  We must be prepared to
	use two different libintl.a libraries.
	(po-gram.gen.c): Don't use $< in non-implicit rule.

	* Makefile.in (install-exec): Use `test -n' instead of
	`test XXX != ""'.  Proposed by Franc,ois Pinard.

Sun Nov  5 23:59:03 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (INSTALL_PROGRAM): Do not specify mode.

Sun Nov  5 21:13:57 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c, msgfmt.c:
	Comments describing what has to be done should start with FIXME.

Sun Nov  5 19:39:56 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (dist-gettext): Make synonym for dist.

Sun Nov  5 18:11:15 1995  Ulrich Drepper  <drepper@myware>

	* po-lex.h (gram_error, gram_error_with_loc):
	Don't define macros when !__STDC__
	even when using gcc.

	* po-lex.c (gram_error, gram_error_with_loc):
	Compile if !__STDC__ even if using gcc.

	* Makefile.in (po-gram.gen.c po-gram.gen.h):
	Remove file prior of generation.

Sun Nov  5 11:39:21 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (dist): Suppress error message when ln failed.
	Get files from $(srcdir) explicitly.

	* xgettext.c (process_c_source):
	Make gettext_noop the forth builtin marker.

Fri Nov  3 00:57:52 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (main): Don't free fname when no suffix was added.

Thu Nov  2 22:55:44 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (dist): Also remove msgcmp.

Tue Oct 31 22:27:52 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c: New option --strict: Only if this is given the .mo
	file ending is forced.

	* msgfmt.c (message_directive):
	Call error_with_loc with correct parameters.

	* msgfmt.c (message_directive):
	Ignores empty message does not count as fatal error.

	* Makefile.in (po-gram.gen.c):
	Add g suffix to make multiple substitution in one
	line possible.

Mon Oct 30 22:35:41 1995  Ulrich Drepper  <drepper@myware>

	* po-gram.h:
	Don't give defines for translation of yy* symbols.  This is not enough
	to be able to have more than one parser.  See src/Makefile for the way
	we chose.

	* Makefile.in (po-gram.gen.c):
	Rewrite generated source while copying.  This is the
	only portable way to get more than one parser in the same program.
	Patch by Peter Miller.

Sun Oct 29 10:49:59 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (INSTALL_SCRIPT): New variable.
	(install-exec): Install tupdate using INSTALL_SCRIPT to prevent error
	when using strip flag.

Sat Oct 28 14:39:33 1995  Ulrich Drepper  <drepper@myware>

	* po-gram.h: Include <sys/types.h>.

	* xgettext.c (main):
	Honour -n option even if --omit-header is given.  By Peter Miller.

	* msgcmp.c (check_domain_coverage):
	No double space in message.  By Peter Miller.

	* msgcmp.c (grammar):
	Close input file after coverage check.  Patch by Peter Miller.

Wed Sep 27 20:27:26 1995  Ulrich Drepper  <drepper@myware>

	* msgcmp.c:
	Don't try to include <string.h>.  This is done in "system.h".

	* po-lex.c (gram_error, gram_error_with_loc):
	Add argument definition for K&R style.
	(gram_error, gram_error_with_loc): We increase gram_nerrors,
	not nerrors.  Reported by Francesco Potorti`.

Tue Sep 26 10:03:29 1995  Ulrich Drepper  <drepper@myware>

	* po-gram.h (yyparse): Add redefinition to gram_parse.

	* Makefile.in (YFLAGS):
	Don't use -p option.  Stupid old yaccs do not know it.

	* po-lex.c: Include po-gram.h to get redefinitions of yy* symbols.

	* po-gram.h (yylex, yylval, yyerror):
	Redefine these symbols to gram_* because the
	yacc is now called without -p option.

	* Makefile.in (LIBS):
	Undid last change.  On some systems libintl.a is not
	completely self-contained.  alloca() is miisong e.g. on HP-UX.

Mon Sep 25 22:35:55 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (add_mo_suffix): Fix typo.

	* po-lex.h: Include <sys/types.h>.
	(lex_open): Argument is now `const char *'.

	* msgfmt.c (add_mo_suffix):
	Allow .gmo suffix.  Great idea by Marcus Daniels.

Sat Sep 23 08:20:54 1995  Ulrich Drepper  <drepper@myware>

	* po-gram.y, po-lex.c: Include error.h.

	* open-po.c (open_po_file):
	Remove unused variables `path_dir' and `open_po_file'.

Thu Sep 21 15:30:36 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (LIBS):
	using libnlsut.a twice is not necessary anymore.  libintl.a is
	selfcontained.

	* gettextp.c (main):
	Use dcgettext__ and bindtextdomain__ instead of __dcgettext
	and __bindtextdomain.

	* msgfmt.c, xgettext.c (exit_status):
	New variables.  Contains exit status for the case the program
	ends normally.  Changed when non-fatal error messages are given.

Wed Sep 20 09:16:57 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (xgettext): No also link po-gram.gen.o and po-lex.o.

	* po-lex.c: Pretty print comments.
	Do some CSE in computation of hex value.

	* xgettext.c (read_po_file): Now use the generated scanner.
	(domain_directive, message_directive): New functions needed for
 	scanner.
	(add_id_str): Correct test for exclude files.  The messages in the
 	exclude table are in raw format, not C format.
	(write_out_domain): Check for zero messages and don't write anything in
	this case.

	* po-lex.c (lex_open): Argument NAME is now const.
	(gram_error): Move VARARGS1 comment to right place.
	(control_sequence): Pretty print some comments.

Mon Sep 18 21:23:55 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (add_mo_suffix): Really check for not .mo suffix.

	* xgettext.c (write_out_domain):
	Write file names in #: lines to file, not stdout.

	* po-gram.y (grammar):
	Remove function.  This allows sharing this file in different
	programs.

	* domain.h (msg_domain): Member DOMAIN_NAME is now const.

	* Makefile.in (PROGRAMS): Add msgcmp.
	(HEADERS): Add message.h.
	(SOURCES): Add message.c and msgcmp.c.
	(OBJECTS): Add message.o and msgcmp.o.
	(msgcmp): Rule to construct program.

	* message.h, message.c: Initial revision

	* msgfmt.c (grammar): Close comment so that function is seen.
	(message_directive): MSGID and MSGSTR are not const.

	* msgcmp.c: Initial revision

	* po-gram.h (message_directive):
	MSGID and MSGSTR argument are not const.

	* po-gram.h (grammar): Remove prototype.  Is now locally defined.

	* po-lex.h (gram_error, gram_error_with_loc):
	Protect the instructions by do while (0).

	* msgfmt.c (grammar):
	Define function here.  This allows sharing the grammar file
	with the msgcmp program.

	* msgfmt.c (domain_directive): Free memory of NAME if not needed.
	(new_domain): Do not duplicate filename, use it as it is.

	* msgfmt.c (message_directive):
	Free parameter string memory here if necessary.
	Was done in po-gram.y before.

	* po-gram.h: Remove comment after closing #endif.

	* po-gram.h (grammar): Name parameter in prototype.

Sun Sep 17 23:29:30 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (read_po_file): We don't have a search path anymore,
 	so third argument to open_po_file is not needed anymore.  Reduce
 	argument list by this parameter, too.

	* po-lex.c (lex_open):
	We don't have a search path anymore, so third argument to
	ope_po_file is not needed anymore.

	* open-po.c (open_po_file): Remove unused `use_path' parameter.

	* Makefile.in (HEADERS): Add po-gram.h and po-lex.h.

	* po-gram.h, po-lex.h: Initial revision

	* Makefile.in (YACC, YFLAGS): New program used for .po file grammar.
	(SOURCES): Add po-gram.y and po-lex.c.
	(GENHEADERS, GENSOURCES): New variables for generated headers
 	and sources.
	(OBJECTS): Add po-gram.gen.o and po-lex.o.
	Add rules for new files and add to dependency list for msgfmt.

	* po-lex.c, po-gram.y: Initial revision

	* xgettext.c: Remove input path handling.
	Adapt for new hashing functions return values.

	* msgfmt.c:
	Rewrite .po file handling.  Use Peter Millers .po file Yacc grammar.

	* open-po.c: Remove handling of input path.

	* xgettext.c (write_out_domain):
	Split #: lines each 80 columns.  Based on a patch by
	Peter Miller.

	* Makefile.in: hash.[ch] moved from src/ to lib/ subdirectory.

Wed Aug 23 21:13:11 1995  Ulrich Drepper  <drepper@myware>

	* tupdate.in: Don't print comment in front of obsolete entries.

Tue Aug 22 22:16:31 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (AR, RANLIB): Remove definition.  Not needed here.
	Reported by Franc,ois Pinard.

Sat Aug 19 17:38:22 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (install-src):
	Make behave like install.  I.e. really install the catalogs.

Sat Aug 19 00:57:07 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (SCRIPTS):
	New variable.  Contains names of scipts to be generated and
	installed.  For now it is tupdate.
	(PROGRAMS): Remove tupdate.
	(all): Also depend on $(SCRIPTS).

Fri Aug 18 13:02:04 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (PROGRAMS): Add tupdate.
	(tupdate): New rule.  Rebuild tupdate if tupdate.in or
 	../config.status changed.

	* tupdate.in: Correct case where message is new: no really print msgid.
	Better help message by Franc,ois Pinard.
	Recognize #\t as comment.
	Print comment for now obsolete entries.
	Handle real comments (translator comments and tupdate generate obsolete
	entries).

	* gettextp.c (usage): Better help message.
	(usage): Add -s description to help screen.

Mon Aug 14 23:50:48 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (install-src): New no-op goal.

Thu Aug 10 11:26:45 1995  Ulrich Drepper  <drepper@myware>

	* tupdate.in: Don't print two " in front of commented out msgstrs.

Wed Aug  9 09:10:30 1995  Ulrich Drepper  <drepper@myware>

	* hash.c:
	Better implementation.  Rehashing is now much faster because the
 	hashing value stored in the `used' field is reused.
	(insert_entry): Split into two function.  `insert_entry_2' now does the
	the work while in `insert_entry' the checks are done.
	(lookup_2): New function.  Expects the search key to be NUL
 	terminated.  This is the case when the key is already in the
 	hash table when rehashing.

	* msgfmt.c (write_table):
	Third argument to `iterate_table' is now a `const' pointer.

	* hash.h (iterate_table): Third arguemtn is `const' pointer.

	* xgettext.c (struct id_str): Make fields `const' pointers.

Fri Aug  4 22:45:39 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (main): Fix typo: me -> we.

	* msgfmt.c (output_file_open): Remove this unused variable.
	Reported by Jim Meyering.

	* Makefile.in (dist): Remove `copying instead' message.

	* gettextp.c: Start to implement non-Uniforum behaviour.
	Implemented new mode where gettext behaves like `echo',
 	while translating the messages available in the specified test.
	New option: -d, -e, -E, also available in normal mode:
	-E: ignored.
	-e: enable expansion of some escape sequences.
	-d: specify text domain to use.
	New option: -s: enable `echo' mode.

Thu Aug  3 18:25:37 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (usage):
	Fix typo: anormalies -> anomalies.
  	Reported by Karl Anders O/ygard.

Wed Aug  2 18:51:08 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (ID, TAGS): Do not use $^.

	* xgettext.c (write-header): Add `Content-Type' field.

Tue Aug  1 20:07:58 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (distclean): Remove ID file.

	* Makefile.in (TAGS, ID): Use $^ as command argument.
	(TAGS): Give etags -o option t write to current directory,
 	not $(srcdir).
	(ID): Use $(srcdir) instead os $(top_srcdir)/src.

Mon Jul 31 20:57:48 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (process_po_file):
	Quote msgstr in message "empty `msgstr' entry ignored".
	Report by Karl Anders O/ygard.

Sun Jul 30 12:14:29 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (LIBS): Always use ../intl/libintl.a.
	(all): Always depend on ../intl/libintl.a.

Tue Jul 25 00:15:01 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (process_po_file): Correct problem with empty lines.

Sun Jul 23 22:47:56 1995  Ulrich Drepper  <drepper@myware>

	* msgfmt.c (process_po_file):
	Give a message when a sole msgid is found at the end of file.

Wed Jul 19 01:52:13 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (PROGRAMS): Always compile all three programs.

	* gettextp.c: Include libgettext.h explicitly, in addition to
 	libintl.h.  On system having libintl.h provided by the C library
 	this assures to have the prototypes for the function defined in
 	GNU gettext library.
	Use __bindtextdomain and __dgettext instead of bindtextdomain and
 	dgettext resp.
	Swap arguments in bindtextdomain call.

Tue Jul 18 23:57:16 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (add_id_str):
	`free(msgstr)' can fail on system not allowing free(0).
	Reported by Francesco Potorti`.

Tue Jul 18 19:43:41 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (getpwuid):
 	Define prototype if !defined _POSIX_VERSION.

	* hash.c: Don't include malloc.h and string.h because it will be
 	done in system.h.

	* msgfmt.c: Don't include malloc.h because it will be done in
 	system.h.

Sat Jul 15 00:45:31 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (main):
	Disable line_comment option when omit_header is selected.
	(write_out_domain): Don't write empty line if !line_comment.

	* Makefile.in (DISTFILES):
	Due shorted file names now distribute tupdate.in.
	(install, clean): Handle tupdate, not tupdate.perl.

	* tupdate.in: Rename tupdate.perl.in to tupdate.in to fit in 14
 	character file systems.

Thu Jul 13 22:21:22 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (install): Test whether Perl was found before
 	installing.

	* tupdate.perl.in: Make die message more GNU-like.

	* gettextp.c (usage):
	Protect prototypes with __P and use K&R form for parameters.

	* xgettext.c (main):
	Don't use 100u; poor K&R compilers need (unsigned) 100.

	* open-po.c (xstrdup): Protect prototype with __P.

	* msgfmt.c (usage, new_domain, process_po_file, compare_id,
 	write_table, check_pair): Protect prototypes with __P.

	* hash.c (xmalloc): Protect prototype with __P.

Thu Jul 13 01:39:47 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in (check): New no-op goal.

Wed Jul 12 10:40:54 1995  Ulrich Drepper  <drepper@myware>

	* tupdate.perl.in: Implement --help and --version options

	* xgettext.c: Add --string-limit option to specify limit on string
 	length.
  	Only warned when verbose mode is selected.
  	Add --verbose option.
  	Help message now correctly says --version == -V.

Tue Jul 11 22:57:54 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c (usage): Split help string because it breaks 1024
 	byte limit.

	* Makefile.in (install-exec): Install tupdate.

	* xgettext.c (stdlib.h): Protect inclusion by STDC_HEADERS.
	(assert): No assertions anymore.
	(HAVE_STRTOUL): strtoul is now substituted when not available.
	Add warning about too long strings (some systems have limits
 	for strings in their compiler and/or tools).  E.g. Sinix's
 	gencat program.

	* msgfmt.c (printf.h): Include always
	(assert): No assertions anymore (all bugs are gone :-).
	(HAVE_STRTOUL): Not needed anymore because we substitute
 	strtoul if not present.

	* Makefile.in (DISTFILES,distclean): tupdate.perl is now found here.

Tue Jul 11 01:31:03 1995  Ulrich Drepper  <drepper@myware>

	* Makefile.in: msgfmt.o depends on ../lib/printf.h.

	* msgfmt.c: protect inclusion of malloc.h and stdlib.h.
  	Don't use GCC's `case b ... e:' feature (NeXT's gcc is
 	gcc-2.xx but does not understand this. Grrr!).

	* open-po.c: Protect inclusion of string.h and stdlib.h.

	* hash.c: Pretty print #define.
	(init_hash, insert_entry): Cast result of calloc.
	(insert_entry): Remove non-ANSI `(type *) var = ...' by
 	`*(type **) &var = ...'.
	(compute_hashval): Cast constant to unsigned long (default: int).
  	Has effects on 64-bit machines.

Tue Jul  4 00:39:58 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c: Don't write "Version:" field for msgid "".

Mon Jul  3 23:02:04 1995  Ulrich Drepper  <drepper@myware>

	* xgettext.c, msgfmt.c: Better comment.

	* Makefile.in: Pretty print with Franc,ois.
	Fix typo in dependencies.
	Even more dependency corrections.
	Correct dependencies of open-po.c.
	Remove unneeded $(srcdir) from Makefile.in dependency.
	(LIBS): Correct for building in different directory.
	(INCLUDES): Correct for building in different directory.
	(DEFS): Rename DEF_MSG_DOM_DIR to LOCALEDIR.
	(INCLUDE): Don't use -I paths when not needed.

	* hash.c: Include malloc.c and protect string.h inclusion.

	* gettextp.c: Protect include of stdlib.h declare prototype for
 	getenv if not __STDC__.
	Include system.h for EXIT_FAILURE.
	(main, usage): Replace DEF_MSG_DOM_DIR by LOCALEDIR.

	* open-po.c: Include system.h for EXIT_FAILURE.

	* msgfmt.c: Fix typo in !__STDC__ path.
	(process_po_file): Change for new .po file format.

	* xgettext.c (main): Rename DEF_MSG_DOM_DIR to LOCALEDIR.
	Update to new .po file format because Solaris' msgfmt can only
 	handle ANSI C style multi-line strings.

Sun Jul  2 21:31:00 1995  Ulrich Drepper  <drepper@myware>

	* gettextp.c: gettextp.c (usage): Fix typo in help message.
	Reported by Franc,ois Pinard.

Sun Jul  2 02:12:41 1995  Ulrich Drepper  <drepper@myware>

	* First official release.  This directory contains the
	source code for the programs specified in the Uniforum proposal
	for internationalization.
