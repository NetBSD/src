<html> <head> </head> <body> <pre>

ACCESS(5)                                               ACCESS(5)

<b>NAME</b>
       access - format of Postfix access table

<b>SYNOPSIS</b>
       <b>postmap</b> <b>/etc/postfix/access</b>

<b>DESCRIPTION</b>
       The  optional <b>access</b> table directs the Postfix SMTP server
       to selectively  reject  or  accept  mail.  Access  can  be
       allowed  or  denied for specific host names, domain names,
       networks, host network addresses or mail addresses.

       Normally, the <b>access</b> table is specified  as  a  text  file
       that  serves  as  input  to  the  <a href="postmap.1.html"><b>postmap</b>(1)</a> command.  The
       result, an indexed file in <b>dbm</b> or <b>db</b> format, is  used  for
       fast  searching  by  the  mail system. Execute the command
       <b>postmap</b>  <b>/etc/postfix/access</b>  in  order  to  rebuild   the
       indexed file after changing the access table.

       When  the  table  is provided via other means such as NIS,
       LDAP or SQL, the same lookups are  done  as  for  ordinary
       indexed files.

       Alternatively,  the  table  can  be provided as a regular-
       expression map where patterns are given as regular expres-
       sions.  In  that  case, the lookups are done in a slightly
       different way as described below.

<b>TABLE</b> <b>FORMAT</b>
       The format of the access table is as follows:

       <i>pattern</i> <i>action</i>
              When <i>pattern</i> matches a mail address, domain or host
              address, perform the corresponding <i>action</i>.

       blank lines and comments
              Empty  lines and whitespace-only lines are ignored,
              as are lines whose first  non-whitespace  character
              is a `#'.

       multi-line text
              A  logical  line starts with non-whitespace text. A
              line that starts with whitespace continues a  logi-
              cal line.

<b>EMAIL</b> <b>ADDRESS</b> <b>PATTERNS</b>
       With lookups from indexed files such as DB or DBM, or from
       networked tables such as NIS, LDAP or SQL,  the  following
       lookup patterns are examined in the order as listed:

       <i>user</i>@<i>domain</i>
              Matches the specified mail address.

       <i>domain.name</i>
              Matches  <i>domain.name</i> as the domain part of an email
              address.

              The pattern <i>domain.name</i>  also  matches  subdomains,
              but  only  when  the  string  <b>smtpd</b><i>_</i><b>access</b><i>_</i><b>maps</b>  is
              listed in the Postfix  <b>parent</b><i>_</i><b>domain</b><i>_</i><b>matches</b><i>_</i><b>subdo-</b>
              <b>mains</b>  configuration  setting.   Otherwise, specify
              <i>.domain.name</i> (note the initial  dot)  in  order  to
              match subdomains.

       <i>user</i>@  Matches  all mail addresses with the specified user
              part.

       Note: lookup of the null sender address may not be  possi-
       ble with all supported types of lookup table. A workaround
       is to specify <b>smtpd</b><i>_</i><b>null</b><i>_</i><b>access</b><i>_</i><b>lookup</b><i>_</i><b>key</b>  <b>=</b>  &lt;&gt;  in  the
       Postfix  <b>main.cf</b>  file, and to specify &lt;&gt; as the left-hand
       field in the access table.

<b>ADDRESS</b> <b>EXTENSION</b>
       When a mail address localpart contains the optional recip-
       ient  delimiter  (e.g., <i>user+foo</i>@<i>domain</i>), the lookup order
       becomes: <i>user+foo</i>@<i>domain</i>, <i>user</i>@<i>domain</i>, <i>domain</i>,  <i>user+foo</i>@,
       and <i>user</i>@.

<b>HOST</b> <b>NAME/ADDRESS</b> <b>PATTERNS</b>
       With lookups from indexed files such as DB or DBM, or from
       networked tables such as NIS, LDAP or SQL,  the  following
       lookup patterns are examined in the order as listed:

       <i>domain.name</i>
              Matches <i>domain.name</i>.

              The  pattern  <i>domain.name</i>  also matches subdomains,
              but  only  when  the  string  <b>smtpd</b><i>_</i><b>access</b><i>_</i><b>maps</b>  is
              listed  in the Postfix <b>parent</b><i>_</i><b>domain</b><i>_</i><b>matches</b><i>_</i><b>subdo-</b>
              <b>mains</b> configuration  setting.   Otherwise,  specify
              <i>.domain.name</i>  (note  the  initial  dot) in order to
              match subdomains.

       <i>net.work.addr.ess</i>

       <i>net.work.addr</i>

       <i>net.work</i>

       <i>net</i>    Matches any host address in the specified  network.
              A  network  address  is  a  sequence of one or more
              octets separated by ".".

<b>ACTIONS</b>
       [<b>45</b>]<i>NN</i> <i>text</i>
              Reject the address etc. that matches  the  pattern,
              and respond with the numerical code and text.

       <b>REJECT</b> Reject the address etc. that matches the pattern. A
              generic error response message is generated.

       <b>OK</b>     Accept the address etc. that matches the pattern.

       <i>restriction...</i>
              Apply the named UCE restriction(s) (<b>permit</b>, reject,
              <b>reject</b><i>_</i><b>unauth</b><i>_</i><b>destination</b>, and so on).

<b>REGULAR</b> <b>EXPRESSION</b> <b>TABLES</b>
       This  section  describes how the table lookups change when
       the table is given in the form of regular expressions. For
       a  description  of regular expression lookup table syntax,
       see <a href="regexp_table.5.html"><b>regexp</b><i>_</i><b>table</b>(5)</a> or <a href="pcre_table.5.html"><b>pcre</b><i>_</i><b>table</b>(5)</a>.

       Each pattern is a regular expression that  is  applied  to
       the entire string being looked up. Depending on the appli-
       cation, that string  is  an  entire  client  hostname,  an
       entire client IP address, or an entire mail address. Thus,
       no  parent  domain  or  parent  network  search  is  done,
       <i>user@domain</i>  mail  addresses  are not broken up into their
       <i>user@</i> and <i>domain</i> constituent parts, nor is <i>user+foo</i> broken
       up into <i>user</i> and <i>foo</i>.

       Patterns  are  applied  in  the  order as specified in the
       table, until a pattern is found that  matches  the  search
       string.

       Actions  are  the  same as with indexed file lookups, with
       the additional feature that parenthesized substrings  from
       the pattern can be interpolated as <b>$1</b>, <b>$2</b> and so on.

<b>BUGS</b>
       The  table format does not understand quoting conventions.

<b>SEE</b> <b>ALSO</b>
       <a href="postmap.1.html">postmap(1)</a> create mapping table
       <a href="smtpd.8.html">smtpd(8)</a> smtp server
       <a href="pcre_table.5.html">pcre_table(5)</a> format of PCRE tables
       <a href="regexp_table.5.html">regexp_table(5)</a> format of POSIX regular expression tables

<b>LICENSE</b>
       The Secure Mailer license must be  distributed  with  this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

                                                                1

</pre> </body> </html>
