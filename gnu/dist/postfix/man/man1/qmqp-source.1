.TH QMQP-SOURCE 1 
.ad
.fi
.SH NAME
qmqp-source
\-
multi-threaded QMQP test generator
.SH "SYNOPSIS"
.na
.nf
.fi
\fBqmqp-source\fR [\fIoptions\fR] [\fBinet:\fR]\fIhost\fR[:\fIport\fR]

\fBqmqp-source\fR [\fIoptions\fR] \fBunix:\fIpathname\fR
.SH DESCRIPTION
.ad
.fi
\fBqmqp-source\fR connects to the named host and TCP port (default 628)
and sends one or more messages to it, either sequentially
or in parallel. The program speaks the QMQP protocol.
Connections can be made to UNIX-domain and IPv4 or IPv6 servers.
IPv4 and IPv6 are the default.

Note: this is an unsupported test program. No attempt is made
to maintain compatibility between successive versions.

Arguments:
.IP \fB-4\fR
Connect to the server with IPv4. This option has no effect when
Postfix is built without IPv6 support.
.IP \fB-6\fR
Connect to the server with IPv6. This option is not available when
Postfix is built without IPv6 support.
.IP \fB-c\fR
Display a running counter that is incremented each time
a delivery completes.
.IP "\fB-C \fIcount\fR"
When a host sends RESET instead of SYN|ACK, try \fIcount\fR times
before giving up. The default count is 1. Specify a larger count in
order to work around a problem with TCP/IP stacks that send RESET
when the listen queue is full.
.IP "\fB-f \fIfrom\fR"
Use the specified sender address (default: <foo@myhostname>).
.IP "\fB-l \fIlength\fR"
Send \fIlength\fR bytes as message payload. The length
includes the message headers.
.IP "\fB-m \fImessage_count\fR"
Send the specified number of messages (default: 1).
.IP "\fB-M \fImyhostname\fR"
Use the specified hostname or [address] in the default
sender and recipient addresses, instead of the machine
hostname.
.IP "\fB-r \fIrecipient_count\fR"
Send the specified number of recipients per transaction (default: 1).
Recipient names are generated by prepending a number to the
recipient address.
.IP "\fB-s \fIsession_count\fR"
Run the specified number of QMQP sessions in parallel (default: 1).
.IP "\fB-t \fIto\fR"
Use the specified recipient address (default: <foo@myhostname>).
.IP "\fB-R \fIinterval\fR"
Wait for a random period of time 0 <= n <= interval between messages.
Suspending one thread does not affect other delivery threads.
.IP \fB-v\fR
Make the program more verbose, for debugging purposes.
.IP "\fB-w \fIinterval\fR"
Wait a fixed time between messages.
Suspending one thread does not affect other delivery threads.
.SH "SEE ALSO"
.na
.nf
qmqp-sink(1), QMQP message dump
.SH "LICENSE"
.na
.nf
.ad
.fi
The Secure Mailer license must be distributed with this software.
.SH "AUTHOR(S)"
.na
.nf
Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA
