#	$NetBSD: CHANGES-1.5.3,v 1.1.2.61 2002/04/03 22:25:04 he Exp $

A complete list of changes from NetBSD 1.5.2 to NetBSD 1.5.3:

File						Revision(s)
----						--------

sys/sys/param.h					patch
sys/conf/osrelease.sh				patch
share/tmac/doc-common				patch

  Mark this with 1.5.3_ALPHA.

etc/etc.pmax/Makefile.inc			1.7

  Use ${KERNOBJDIR} to locate kernel build directory.

sys/dev/usb/umass.c				patch

  Minor coding fix in preprocessor directive.  Fixes PR#13763.

usr.bin/last/last.1				1.8

  Include ``-T'' in the synopsis.

sys/dev/pci/viaenv.c				1.4

  Use PWAIT for the lock, not 0.

sys/ufs/ffs/ffs_inode.c				patch

  Make one call to uvm_vnp_uncache() conditional.  Fixes a panic
  when removing an mmap'ing to an unlinked, closed file.

sys/compat/vax1k/files.vax1k			1.2
sys/compat/vax1k/vax1k_exec.c			1.3-1.4
sys/compat/vax1k/vax1k_subr.c			delete

  Once again make BSD 4.3 binaries run on the vax.

usr.sbin/lpr/common_source/displayq.c		1.21

  Fix buffer overflow reading from queue file.  Also increase the
  size of buffers for file names.  Fixes SA#2001-018.

sys/arch/sun3/sun3/disksubr.c			patch

  Make sure that an unlabeled device gets at least RAW_PART in the
  default in-core disklabel, so that applying a new disklabel can
  work.

share/man/man9/microtime.9			1.5

  Spelling fixes.

share/man/man4/ddb.4				1.51 via patch

  Document fromconsole and DDB_FROMCONSOLE.

sys/ddb/db_variables.c				1.21

  Fix which variable is tweaked for ``fromconsole''.

etc/rc.d/swap1					1.6

  Check for and obey no_swap.

gnu/dist/gcc/combine.c				1.4-1.5

  Fix some optimization bugs related to comparison.

gnu/dist/gcc/rtl.h				1.2
gnu/dist/gcc/jump.c				1.2-1.3
gnu/dist/gcc/rtlanal.c				1.2

  Fix an optimization bug related to reordering of instructions.

gnu/dist/gas/config/tc-sh.c			1.2-1.3
gnu/dist/gas/config/tc-sh.h			1.3

  Fix a range check for 12-bit PC relative access.
  Also fix a big-endian/little-endian bug.

gnu/dist/gcc/config/sh/sh.h			1.4-1.5

  Fix REGISTER_MOVE_COST calculation bug.
  Fix GO_IF_LEGITIMATE_ADDRESS bug.

gnu/dist/gcc/config/sh/sh.c			1.5-1.7

  Fix output_ieee_ccmpeq() bug.
  Print true register for SUBREG cases.
  Fix prepare_scc_operand bug.

gnu/dist/gcc/config/sh/sh.md			1.5-1.7

  Fix expand_block_move() bug.
  Fix insv bug (big-endian mode only).
  Fix misunderstanding whether a register is used in an insn.

share/mk/bsd.own.mk				1.157

  NetBSD/sh3 does not yet support dynamic linking.

sys/arch/sh3/dev/sci.c				1.11,1.15
sys/arch/sh3/dev/scif.c				1.14,1.18

  Fix \n conversion from \n\r to \r\n, and some cleanup.

gnu/dist/bfd/coff-sh.c				1.2
gnu/dist/bfd/elf32-sh.c				1.4

  Fix 32-bit immediate reloc bug.

sys/arch/sh3/include/bus.h			1.5

  Add missing macros for 8-bit PCMCIA access.

sys/arch/sh3/include/pmap.h			1.8

  Fix a serious pmap problem with dummy PMAP_{MAP,UNMAP}_POOLPAGE().

sys/arch/sh3/sh3/vm_machdep.c			1.16

  Fix two SH4 issues in cpu_fork().

sys/arch/sh3/sh3/trap.c				1.20,1.27 via patch

  Add missing SH4_PCMCIA cases.  Fixes PR#11441.
  Fix KERNELMODE macro (check MD bits too).

sys/arch/sh3/include/cpu.h			1.13
sys/arch/sh3/include/segments.h			1.2

  Fix KERNELMODE macro (check MD bits too).

sys/arch/evbsh3/evbsh3/machdep.c		1.20,1.22-1.24

  Add missing shpcmcia_mem*() for SH4_PCMCIA.

sys/arch/sh3/sh3/in_cksum.S			1.3

  Add missing _C_LABEL().

sys/arch/evbsh3/evbsh3/locore.s			1.27,1.31-1.33 via patch

  Fix LDTLB handling bug, add missing _C_LABEL(), and a small
  optimization.

sys/uvm/uvm_map.c				1.104 via patch
sys/vm/vm_map.h					patch (uvm_map.h 1.30)

  Create a new pool for map entries, allocated from kmem_map instead
  of kernel_map.  Use this instead of the static map entries when
  allocating map entries for kernel_map.  This greatly reduces the
  number of static map entries used, and should eliminate the
  problems with running out.

usr.sbin/lpr/lpd/lpd.8				patch

  Add missing command name.

sys/arch/mac68k/include/bus.h			1.18

  Define __BUS_SPACE_HAS_STREAM_METHODS since that fits what we
  have.

sys/kern/uipc_socket.c				1.57

  In soreceive(): do not ignore uiomove() error.  Fixes PR#11692.

bin/sh/expand.c					1.52

  Do not truncate expr > 10 digits.  Fixes PR#13943.

distrib/sun3/common/rd.services			1.2

  Add missing NFS entries; required for mount_nfs.

sys/dev/pci/bktr/bktr_os.c			1.21

  Check unit count correctly (correct fencepost error)
  on device open.  Fixes PR#14289.

distrib/sets/lists/comp/mi			patch
distrib/sets/lists/man/mi			patch
distrib/sets/lists/man/obsolete.mi		patch
distrib/utils/sysinst/arch/alpha/md.h		patch
distrib/utils/sysinst/arch/i386/md.h		patch
etc/etc.alpha/MAKEDEV				1.68-1.69
etc/etc.i386/MAKEDEV				1.129,1.135
share/man/man4/Makefile				patch
share/man/man4/ca.4				deleted
share/man/man4/cac.4				patch
share/man/man4/iop.4				1.1-1.11 (new)
share/man/man4/iopsp.4				1.1-1.4 (new)
share/man/man4/ld.4				1.1-1.4 (new)
share/man/man4/mlx.4				1.1-1.4,1.6
share/man/man4/twe.4				1.1-1.7 (new)
sys/arch/alpha/alpha/conf.c			patch
sys/arch/alpha/conf/ALPHA			patch
sys/arch/alpha/conf/GENERIC			patch
sys/arch/alpha/conf/files.alpha			1.126 via patch
sys/arch/arc/conf/files.arc			1.24
sys/arch/arm32/conf/files.arm32			1.83
sys/arch/atari/conf/files.atari			1.70
sys/arch/bebox/conf/files.bebox			1.21
sys/arch/cobalt/conf/files.cobalt		1.7
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/INSTALL			patch
sys/arch/i386/conf/files.i386			patch
sys/arch/i386/i386/autoconf.c			patch
sys/arch/i386/i386/conf.c			patch
sys/arch/macppc/conf/files.macppc		1.36
sys/arch/sparc64/conf/files.sparc64		patch
sys/conf/files					patch
sys/dev/Makefile				patch
sys/dev/eisa/cac_eisa.c				1.1-1.2 (new)
sys/dev/eisa/eisadevs				1.19-1.24
sys/dev/eisa/eisadevs.h				regenerate
sys/dev/eisa/eisadevs_data.h			regenerate
sys/dev/eisa/files.eisa				1.22
sys/dev/i2o/Makefile				1.1-1.4 (new)
sys/dev/i2o/files.i2o				1.1-1.3 (new)
sys/dev/i2o/i2o.h				1.1-1.8 (new)
sys/dev/i2o/iop.c				1.1-1.16 (new, via patch)
sys/dev/i2o/iopio.h				1.1 (new)
sys/dev/i2o/iopreg.h				1.1 (new)
sys/dev/i2o/iopsp.c				1.1-1.10 (new, via patch)
sys/dev/i2o/iopspvar.h				1.1-1.5 (new, via patch)
sys/dev/i2o/iopvar.h				1.1-1.8 (new)
sys/dev/i2o/ld_iop.c				1.1-1.9 (new)
sys/dev/ic/ca.c					deleted
sys/dev/ic/cac.c				1.10-1.18 via patch
sys/dev/ic/cacreg.h				1.4-1.5 via patch
sys/dev/ic/cacvar.h				1.6-1.8
sys/dev/ic/ld_cac.c				1.1-1.3 (new)
sys/dev/ic/ld_mlx.c				1.1-1.2 (new)
sys/dev/ic/mlx.c				1.1-1.13 (new, via patch)
sys/dev/ic/mlxio.h				1.1 (new)
sys/dev/ic/mlxreg.h				1.1-1.3 (new)
sys/dev/ic/mlxvar.h				1.1-1.4 (new)
sys/dev/ld.c					1.1-1.11 (new)
sys/dev/ldvar.h					1.1-1.5 (new)
sys/dev/pci/Makefile				patch
sys/dev/pci/cac_pci.c				1.5-1.10 via patch
sys/dev/pci/files.pci				patch
sys/dev/pci/iop_pci.c				1.1-1.5 (new, via patch)
sys/dev/pci/ld_twe.c				1.1-1.7 (new)
sys/dev/pci/mlx_pci.c				1.1-1.5 (new, via patch)
sys/dev/pci/pci_subr.c				1.39-1.40
sys/dev/pci/pcidevs				1.282,1.285,1.299
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pcireg.h				1.31-1.32
sys/dev/pci/twe.c				1.1-1.19 (new, via patch)
sys/dev/pci/twereg.h				1.1-1.5 (new)
sys/dev/pci/twevar.h				1.1-1.8 (new)
sys/dev/scsipi/scsiconf.c			1.153
sys/sys/conf.h					patch
sys/sys/device.h				1.43
sys/sys/disklabel.h				patch
sys/sys/scsiio.h				1.9

  Add Mylex DAC960, CAC-EISA, and I2O block/SCSI drivers.

sys/dev/ic/Makefile				patch
sys/dev/pci/Makefile				patch

  Move mlxio.h and mlxreg.h from dev/pci/Makefile to dev/ic/Makefile

usr.sbin/lpr/lpd/lpd.c				1.29

  Use DEFLP ("lp") for printer when printer is zero-length.

lib/libc/gen/getcap.c				1.34

  Avoid an underrun in "buf".  Fixes PR#13292.

gnu/libexec/uucp/uuxqt/uuxqt.c			1.4

  Pay more attention to commandline parsing of long options.

usr.sbin/vipw/vipw.8				1.8

  Correct reference to user(8).

sys/miscfs/specfs/spec_vnops.c			1.59 via patch

  Change spec_{read,write}() to specify block number in units of
  DEV_BSIZE instead of the device's sector size.  With this,
  /dev/rcd0a and /dev/cd0a returns the same data.  Fixes PR#3261
  and PR#14026.

etc/defaults/rc.conf				1.22 via patch

  By default issue Router Solicitation requests on all interfaces
  if someone sets rtsol=YES.

sys/dev/pci/if_sip.c				patch

  Adjust receive and transmit descriptor list structures,
  sip_start(), and sip_txintr() to be more similar to the current
  development version.  Fixes periodic device timeouts.

usr.bin/rpcgen/rpc_clntout.c			1.11 via patch

  Remove an extraneous opening brace from newstyle output.
  Fixes PR#14066.

crypto/dist/ssh/key.c				1.8

  Fix ssh v2 access control vulnerability.

lib/libc/db/recno/rec_get.c			1.11

  Use a ptrdiff_t instead of an indx_t to hold a difference between
  a pair of pointers, since the latter can be a 16 bit data type.
  The effects are that recno databases can now handle records larger
  than 64KB, and nvi can now handle files with lines longer than
  64KB.

lib/libc/gen/fstab.c				1.23

  Two fixes to fstabscan():
   o if fs_type is NULL, warn in stead of crashing
   o clear _fs_fstab before each use
  Fixes PR#13787 and PR#14117.

gnu/usr.bin/send-pr/Makefile			1.26 via patch

  Get the information for the "Release" field via running "uname"
  on the host which is doing the filing.  Fixes PR#14217, PR#13938,
  and PR#14104.

share/man/man5/resolv.conf.5			1.21 via patch

  Typo correction.

sys/dev/usb/uhci.c				1.127

  Fix warnings about interrupts which were not for uhci.

distrib/i386/floppies/Makefile			1.23 partial, via patch
distrib/i386/floppies/fdset-com/Makefile	1.1 (new)
distrib/i386/floppies/ramdisk-big/list		1.3
distrib/utils/sysinst/arch/i386/md.c		1.55
distrib/utils/sysinst/arch/i386/md.h		1.27
distrib/utils/sysinst/arch/i386/menus.md.en	1.35
distrib/utils/sysinst/arch/i386/menus.md.fr	1.28
distrib/utils/sysinst/arch/i386/msg.md.en	1.24
distrib/utils/sysinst/arch/i386/msg.md.fr	1.16

  Create boot-com{1,2}.fs{,.gz} floppy images, for installing or
  upgrading NetBSD/i386 on a machine with no video console at all.

usr.bin/sed/process.c				1.27-1.30

  Don't attempt memmove() if pattern space length is zero.
  Fixes PR#14074.

sys/dev/ic/rtl81x9.c			1.29-1.31,1.33-1.34,1.36 via patch
sys/dev/ic/rtl81x9var.h				1.8-1.10 via patch

  Apply assorted stability fixes:
   o increase early TX threshold if underrun occurred
   o reworked transmit logic
   o fix bug in ring-buffer wrap calculation
  Should fix problems with hung network interfaces of this type.

sys/arch/i386/pci/ali1543.c			1.1-1.2 (new)
sys/arch/i386/pci/pci_intr_fixup.c		1.17
sys/arch/i386/pci/pci_intr_fixup.h		1.3 via patch
sys/arch/i386/conf/files.i386			1.190 via patch

  Add support for ALi M1543 in pcibios as e.g. found in a Toshiba
  Portege 4000.

sys/arch/vax/vax/pmap.c				patch

  Handle remapping of pages entered by pmap_kenter_pa() properly.
  Fixes PR#12231.

sys/arch/hp300/hp300/clock.c			1.22 via patch
sys/arch/hp300/hp300/clockreg.h			1.6 via patch

  Fix two bugs, one Year 2000 bug, one Year 2001 bug, related
  to usage of two-digit BCD year in TOD clock.

sys/kern/vfs_cache.c				1.31

  Safely handle cleanup of namecache entries in the event of multiple
  threads ending up in the same section of code looking for the same
  entry, possible because vget() can sleep.  Fixes PR#14042.

usr.bin/ftp/fetch.c				1.127

  If in a proxied environment and no_proxy is true, use fetch_ftp()
  to fetch FTP type URLs.

sys/net/route.c					1.48

  Avoid memory leak on RTM_DELETE.

sys/dev/scsipi/scsiconf.c			1.162 via patch

  Add a ``no tagged queueing'' for an old Micropolis drive.  Fixes
  PR#14256.

sys/dev/pci/if_tl.c				1.40
share/man/man4/tl.4				1.12

  Fix media support for Compaq Deskpro 4000.  Fixes PR#13244.

sys/dev/pci/if_ti.c				1.26

  When setting/changing an address, do not call ti_init() if the
  interface is already up.  This allows netatalk to start when
  using this interface.

sys/dev/pci/pciide.c				1.121

  Disable UDMA only for SiS controllers which are really buggy,
  not all the ones with revision 0xd0.

sys/dev/pci/pciide.c				1.123
sys/dev/pci/pciide_hpt_reg.h			1.4

  Support HPT-370A controllers.  Fixes PR#13540.

usr.sbin/repquota/repquota.c			1.18

  Fix int underflow for large quota.  Fixes PR#12383.

usr.sbin/repquota/repquota.c			1.19

  Properly display quotas with more than 99999 inodes.

usr.sbin/rpc.lockd/lockd_lock.c			1.8

  Fix a memory leak: when unlocking, make sure we release the memory
  associated with the lock being removed.

usr.bin/rs/rs.c					1.7

  Avoid segmentation fault if ``-z'' option is used.  Fixes PR#14338.

sys/nfs/nfs_subs.c				1.98

  Always initialize ni_rootdir in nfs_namei().  This fixes a problem
  where use of ``..'' would instead use the information for ``.'',
  when using NetBSD/alpha NFS servers, and fixes PR#11618 and
  PR#12953.

sys/arch/mips/mips/pmap.c			1.135 via patch

  Fix problems on MIPS machines without secondary cache.
  Manifestations are random /bin/sh core dumps and log messages like
  ``pmap_unwire: wiring for pmap 0x... va 0x... didn't change''.
  Caused by virtual alias problem in pmap_copy_page().  Fixes PR#13587.

gnu/usr.bin/send-pr/send-pr.sh			1.19-1.20

  Pick up information for the "Release" field from running ``uname'',
  or by falling back to /bin/arch and /bin/machine if they exist.
  Fixes PR#14217, PR#13938, PR$14104 and PR10614.

share/man/man9/hz.9				1.1-1.2 (new)
share/man/man9/hardclock.9			1.1 (new)
share/man/man9/Makefile				1.90-1.91 via patch
distrib/sets/lists/comp/mi			1.365,1.367 via patch

  Add manual pages hz(9) and hardclock(9), already referenced from
  microtime(9).

sys/uvm/uvm_vnode.c				patch

  Make sure to initialize uio_procp in uvn_io().  Fixes kernel
  crash problem, reported in PR#14185.

sys/dev/ic/elinkxl.c				1.39

  Set correct bit for LED polarity.  Affects CardBus cards, such
  as 3c575[BC].

usr.bin/vmstat/vmstat.c				1.82

  Change memory display to prevent results from running into
  each other.

games/wargames/wargames.sh			1.4

  If we are going to quote the movie, do so correctly.

usr.sbin/faithd/faithd.c			1.14 partial via patch

  Fix missing ntohl().

share/man/man4/Makefile				patch

  Install ld(4) manual page.

sbin/newfs/mkfs.c				1.39-1.47
sbin/newfs/extern.h				1.2-1.3
sbin/newfs/newfs.c				1.40-1.41
sbin/newfs/newfs.8				1.25-1.26,1.28-1.29,1.31

  Jumbo pullup for newfs:
   o convert to ANSI function prototypes
   o move external variables to extern.h
   o allow ``m'' suffix in MFS size
   o fix cg_firstfield bug introduced in 4.4-Lite
   o don't swap clustersum[0], it's a bitmap
   o don't unnecessarily set fs_clean twice
   o check return vailues of memory allocation functions
   o cleanup to reduce compile warnings
   o replace ``filesystem'' with ``file system''
   o improve warning messages describing the MAXCSBUFS overflow
   o manual page typos and other corrections

sys/dev/pci/twe.c				1.20 via patch
sys/dev/pci/twevar.h				1.9

  Improve stability of this driver by un-applying some earlier
  changes.

sbin/fsck_ffs/dir.c				1.28-1.32
sbin/fsck_ffs/extern.h				1.11-1.13
sbin/fsck_ffs/fsck.h				1.21-1.24
sbin/fsck_ffs/main.c				1.35-1.37
sbin/fsck_ffs/pass2.c				1.29
sbin/fsck_ffs/pass3.c				1.11-1.12
sbin/fsck_ffs/pass5.c				1.25-1.26
sbin/fsck_ffs/setup.c				1.39-1.43
sbin/fsck_ffs/utilities.c			1.28-1.30

  Jumbo pullup for fsck_ffs:
   o fix incorrect error message
   o mark initialized globals with ``extern''
   o make reconnect algorithm O(n) instead of O(n^4)
   o remove dead code
   o don't swap cg_clustersum(cg)[0], it's a bitmap
   o ensure rotor values are positive
   o some code restructuring
   o fix byte swapping bug
   o pass5: check alternate superblocks for consistency with in-core master
   o fix usage message

sys/ufs/ffs/ffs_bswap.c				1.9-1.10

  Offset should be endian independent.  Some cosmetic changes.

sys/ufs/ffs/ffs_vfsops.c			1.76,1.78

  In ffs_reload(), copy fs_ronly to the new superblock too.
  Clear fs_fmod on rw->ro transition.

sys/ufs/ffs/fs.h				1.13
sys/ufs/ufs/quota.h				1.9
sbin/fsck_ffs/main.c				1.39
usr.sbin/dumpfs/dumpfs.c			1.22-1.24

  Use int32_t for on-disk time_t representation.
  Convert %q_ to %ll_ in print formats.

sys/ufs/ffs/ffs_alloc.c				1.42

  Change ffs_dirpref() to be less pathological.

sys/ufs/ffs/ffs_vfsops.c			1.82

  Correctly refer to fs_clean in error message.

sys/ufs/ufs/dinode.h				1.13

  Multiple include protection.

sys/ufs/ffs/fs.h				1.14-1.15

  Mark a few fields as unused.  Multiple include protection.
  Also typo corrections.

sys/lib/libkern/scanc.c				1.6
sys/ufs/ffs/ffs_alloc.c				1.45

  Fix scanc() arguments.

usr.sbin/dumpfs/dumpfs.c			1.26

  Call ffs_sb_swap() with ns=1.

sbin/badsect/badsect.c				1.20
sbin/clri/clri.c				1.14
sbin/dump/ffs_inode.c				1.7
sbin/fsck_ffs/fsck.h				1.27
sbin/fsck_ffs/pass5.c				1.27
sbin/fsck_ffs/setup.c				1.45
sbin/fsirand/fsirand.c				1.14
sbin/newfs/mkfs.c				1.51
sbin/tunefs/tunefs.c				1.21
usr.sbin/dumpfs/dumpfs.c			1.27
usr.sbin/quotacheck/quotacheck.c		1.22
sys/ufs/ffs/ffs_bswap.c				1.11
sys/ufs/ffs/ffs_extern.h			1.19
sys/ufs/ffs/ffs_vfsops.c			1.83

  Call ffs_sb_swap() with the correct arguments.  Fixes problems
  with using other-endian file systems.

sbin/newfs/extern.h				1.5
sbin/newfs/mkfs.c				1.53
sbin/newfs/newfs.c				1.46
usr.sbin/dumpfs/dumpfs.c			1.28
sys/ufs/ffs/fs.h				1.16

  Replace unused fs_headswitch/trkseek with fs_id.

sys/ufs/ffs/fs.h				1.17

  Prevent 32-bit overflows by converting to 64-bit quantities in
  appropriate places.

sbin/fsck_ffs/setup.c				1.46
sbin/fsck_ffs/utilities.c			1.32
sbin/newfs/mkfs.c				1.54
usr.sbin/dumpfs/dumpfs.c			1.29
sys/ufs/ffs/ffs_vfsops.c			1.84
sys/ufs/ffs/fs.h				1.18

  Change fs_csp[] from being a fixed size to being an array sized
  as required.  This allows file systems with more than about 15500
  cylinder groups (on 32-bit systems) to be used.

sbin/fsck_ffs/setup.c				1.47
sys/ufs/ffs/ffs_bswap.c				1.12
sys/ufs/ffs/fs.h				1.19

  Deprecate unused fs_fscktime.

sbin/tunefs/tunefs.8				1.23-1.25
sbin/tunefs/tunefs.c				1.22-1.23

  Add ``-F'' option, and rename ``-t'' option to ``-k''.

sbin/fsck_ffs/setup.c				1.49
sbin/newfs/extern.h				1.6
sbin/newfs/mkfs.c				1.55
sbin/newfs/newfs.8				1.33 via patch
sbin/newfs/newfs.c				1.47 via patch
sbin/tunefs/tunefs.8				1.26
sbin/tunefs/tunefs.c				1.24
usr.sbin/dumpfs/dumpfs.c			1.30
sys/ufs/ffs/ffs_alloc.c				1.50
sys/ufs/ffs/ffs_bswap.c				1.13
sys/ufs/ffs/ffs_vfsops.c			1.85
sys/ufs/ffs/fs.h				1.20

  Pull in enhanced ffs_dirpref() algorithm, which provides a
  substantial performance improvement through better locality
  between parent/child directories and their files, and by easing
  the pressure on the buffer cache for metadata operations.

sys/ufs/ffs/ffs_alloc.c				1.52
sys/ufs/ffs/fs.h				1.21

  Mark fs_cgrotor as unused.

sys/ufs/ffs/ffs_bswap.c				1.14

  A few ffs_sb_swap() fixes.

sbin/newfs/mkfs.c				1.52,1.56-1.57

  Improve calcipg() calculations, and fix error reporting.

sys/arch/i386/i386/svr4_machdep.c		1.56

  Fix one more place where we explicitly need to restore %fs/%gs.

usr.bin/jot/jot.c				1.6-1.8

  Check the format string more thoroughly before use.  Fixes PR#12316
  and PR#14253.

sys/arch/mmeye/mmeye/locore.s			1.22 via patch
sys/arch/sh3/sh3/trap.c				1.28 via patch

  Fix LDTLB handling bug.

bin/sh/parser.c					1.48

  Prevent alias expansion in case labels, where it is unwanted.

share/misc/bsd-family-tree			1.10

  Update to reflect current reality.

lib/libc/rpc/rpcb_clnt.c			1.10

  Close socket correctly in three places.  Fixes various problems
  such as inetd not reloading correctly.  Fixes PR#14454, PR#12651,
  and PR#13657.

usr.sbin/rtsold/rtsold.c			1.7
usr.sbin/rtsold/rtsold.8			1.8-1.10 via patch

  Add ``-a'' flag to automtically find an interface to use to query
  for router solicitations.

usr.sbin/vnconfig/vnconfig.c			1.23

  Try to open the file before configuring a vnode device, so that we
  avoid silly error messages when the file cannot be opened for some
  reason.  Fixes PR#12445.

gnu/usr.bin/send-pr/categories			1.35

  Add a new category ``toolchain'' since building of NetBSD-current
  from 1.5.x is supposed to work.

distrib/sets/lists/comp/mi			patch

  Add missing ./usr/includes/dev/i2o directory.

sys/arch/alpha/conf/INSTALL			patch

  Add Mylex DAC960 (mlx), change ca* to ld*.

lib/csu/common_elf/Makefile.inc			1.8-1.9 via patch
lib/csu/common_elf/crtbegin.c			1.11-1.14
lib/csu/common_elf/crtend.c			1.7-1.8
lib/csu/common_elf/dot_init.h			1.1 (new)
lib/csu/common_elf/dwarf2_eh.h			1.1 (new)
lib/csu/alpha/Makefile				1.20-1.21
lib/csu/alpha/dot_init.h			1.1 (new)
lib/csu/i386_elf/Makefile			1.5-1.6
lib/csu/i386_elf/dot_init.h			1.1 (new)
lib/csu/mips/Makefile				1.22-1.23
lib/csu/mips/dot_init.h				1.1-1.2 (new)
lib/csu/powerpc/Makefile			1.12
lib/csu/powerpc/dot_init.h			1.1 (new)
lib/csu/sparc_elf/Makefile			1.5
lib/csu/sparc_elf/dot_init.h			1.1 (new)
libexec/ld.elf_so/load.c			1.12-1.15
libexec/ld.elf_so/map_object.c			1.12
libexec/ld.elf_so/paths.c			1.12-1.13,1.15
libexec/ld.elf_so/reloc.c			1.34,1.41-1.42 via patch
libexec/ld.elf_so/rtld.c			1.42-1.45
libexec/ld.elf_so/rtld.h			1.26,1.29
libexec/ld.elf_so/search.c			1.10
libexec/ld.elf_so/symbol.c			1.11
libexec/ld.elf_so/sysident.h			1.6-1.9
libexec/ld.elf_so/xprintf.c			1.7-1.8
libexec/ld.elf_so/arch/alpha/rtld_start.S	1.4
libexec/ld.elf_so/arch/mips/mips_reloc.c	1.4-1.5
libexec/ld.elf_so/arch/powerpc/ppc_reloc.c	1.10
libexec/ld.elf_so/arch/powerpc/rtld_start.S	1.4
libexec/ld.elf_so/arch/sparc64/mdreloc.c	1.4
libexec/ld.elf_so/arch/sparc64/rtld_start.S	1.4-1.5
usr.bin/ldd/ldd_elf/ldd.c			1.10-1.11
share/mk/bsd.own.mk				1.153
regress/lib/Makefile				1.9 via patch
regress/lib/csu/Makefile			1.1 (new)
regress/lib/csu/Makefile.inc			1.1 (new)
regress/lib/csu/initfini/Makefile		1.1-1.4 (new)
regress/lib/csu/initfini/expected		1.1 (new)
regress/lib/csu/initfini/initfini.c		1.1 (new)
regress/lib/csu/initfini/arch/alpha/initfini_asm.S	1.1 (new)
regress/lib/csu/initfini/arch/i386/initfini_asm.S	1.1 (new)
regress/lib/csu/initfini/arch/mips/initfini_asm.S	1.1-1.3 (new)
regress/lib/csu/initfini/arch/powerpc/initfini_asm.S	1.1 (new)
regress/lib/csu/initfini/arch/sparc/initfini_asm.S	1.1-1.2 (new)

  Add init/fini section support in crtbegin and crtend, and introduce
  support for DWARF2 exception handling.  Fixes PR#12865, PR#13488,
  PR#13489, and PR#13491.  Also fix ld.elf_so to deal appropriately.

usr.sbin/mtree/mtree.8				1.13-1.14

  Fix references to strsvis(3).

usr.sbin/mtree/mtree.8				1.15
usr.sbin/mtree/compare.c			1.26
usr.sbin/mtree/mtree.c				1.17 via patch

  Add an ``-l'' flag which does ``loose'' permission checks.

etc/security					1.58

  Run mtree on the special file using the new ``-l'' option, so it
  will not complain about things like files set to 444 instead of
  644.

gnu/dist/bfd/bfd-in.h				1.7
gnu/dist/bfd/bfd-in2.h				1.5
gnu/dist/bfd/elflink.h				1.5
gnu/dist/bfd/elf-bfd.h				1.2
gnu/dist/bfd/elf.c				1.4
gnu/dist/include/elf/common.h			1.4
gnu/dist/ld/emultempl/elf32.em			1.2

  When linking against libraries with recorded NEEDED/RPATH, no
  longer require that the location of dependent libraries be supplied
  using the ``-rpath'' option.  Fixes PR#14583.

lib/libc/stdlib/system.c			1.17

  Don't return if wait()ing for the child is interrupted; fix a
  race condition for the parent's SIG{INT,QUIT} disposition.

usr.sbin/rpc.statd/statd.c			1.19

  Add a handler for SIGCHLD which collects dead children, so that
  rpc.statd won't leave zombies around.

sys/net/if_gre.c				1.24-1.25 via patch

  Respect down interfaces, and sanity check the tunnel route after
  computing it, marking the interface down if there is no route or
  it loops back to ourselves.  Helps avoid pilot errors which would
  result in kernel stack overflows.

etc/etc.i386/MAKEDEV				patch
etc/etc.alpha/MAKEDEV				patch

  Replace ca* with ld*.  Fixes part of PR#14453.

sys/crypto/cast128/cast128.c			1.5
sys/crypto/cast128/cast128.h			1.4
sys/netinet6/esp_core.c				1.19

  Fix cast128 with short keys.

usr.sbin/iopctl/Makefile			1.1 (new)
usr.sbin/iopctl/iopctl.8			1.1-1.6 (new)
usr.sbin/iopctl/iopctl.c			1.1-1.11 (new) via patch
usr.sbin/Makefile				patch
distrib/sets/lists/man/mi			patch
distrib/sets/lists/base/mi			patch

  Add ``iopctl'', a program to control iop(4) devices.

share/man/man4/ld.4				1.5-1.6
share/man/man4/mlx.4				1.7-1.8
share/man/man4/iop.4				1.12,1.14
share/man/man4/iopsp.4				1.5-1.6

  Sort sections, and mark these with ``First appeared in 1.5.3''.

sys/dev/i2o/iopio.h				1.2
sys/dev/i2o/iopvar.h				1.9-1.10
sys/dev/i2o/i2o.h				1.9
sys/dev/i2o/iop.c				1.17-1.18
sys/dev/i2o/dptivar.h				1.1-1.2 (new)
sys/dev/i2o/i2odpt.h				1.1 (new)
sys/dev/i2o/dpti.c				1.1-1.3 (new) via patch
sys/dev/i2o/files.i2o				patch
sys/dev/pci/iop_pci.c				1.6
share/man/man4/iop.4				1.13
share/man/man4/dpti.4				1.1 (new)
share/man/man4/Makefile				patch
sys/arch/i386/i386/conf.c			patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/INSTALL			patch
etc/etc.i386/MAKEDEV				patch
distrib/sets/lists/man/mi			patch

  Add driver for DPT/Adaptec I2O RAID management interface.

share/man/man4/twe.4				patch

  Mark as ``First appeared in 1.5.3''.

usr.bin/getopt/getopt.1				1.10

  Fix syntax error in example.  Fixes PR#10259.

lib/libc/stdio/vfprintf.c			1.40

  Print the sign prefix for -0.0; fixes PR#3137.

usr.sbin/mlxctl/Makefile			1.1 (new)
usr.sbin/mlxctl/cmds.c				1.1-1.4 (new)
usr.sbin/mlxctl/config.c			1.1 (new)
usr.sbin/mlxctl/dklist.c			1.1-1.3 (new)
usr.sbin/mlxctl/extern.h			1.1-1.2 (new)
usr.sbin/mlxctl/main.c				1.1-1.3 (new) via patch
usr.sbin/mlxctl/mlxctl.8			1.1-1.2 (new) via patch
usr.sbin/mlxctl/util.c				1.1-1.3 (new)
usr.sbin/Makefile				patch
distrib/sets/lists/base/mi			patch
distrib/sets/lists/man/mi			patch

  Add mlxctl(8), a Mylex DAC960 family management utility.

sys/arch/i386/pci/pchb.c			1.23,1.26 via patch

  Some ServerWorks (Pequr) Host-PCI bridges only get their memory
  space enabled, even though IO space works.  Some drivers only work
  reliably with IO space (ahc(4) being a notable example), so check
  for this condition and correct it.

  Also only pay attention to the low byte of configuration register
  0x44 on ServerWorks chips, and compress some duplicated code.

crypto/dist/ssh/LICENCE				1.1.1.3
crypto/dist/ssh/OVERVIEW			1.1.1.2
crypto/dist/ssh/README				1.1.1.2
crypto/dist/ssh/README.smartcard		1.1 (new)
crypto/dist/ssh/atomicio.c			1.3-1.5
crypto/dist/ssh/atomicio.h			1.3-1.5
crypto/dist/ssh/auth-bsdauth.c			1.1 (new)
crypto/dist/ssh/auth-chall.c			1.3-1.5
crypto/dist/ssh/auth-krb4.c			1.1.1.3 -> 1.4
crypto/dist/ssh/auth-krb5.c			1.1-1.5 (new)
crypto/dist/ssh/auth-options.c			1.1.1.5-1.1.1.8
crypto/dist/ssh/auth-options.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/auth-passwd.c			1.1.1.4 -> 1.4
crypto/dist/ssh/auth-rh-rsa.c			1.1.1.4-1.1.1.6
crypto/dist/ssh/auth-rhosts.c			1.6-1.9
crypto/dist/ssh/auth-rsa.c			1.1.1.4-1.1.1.8
crypto/dist/ssh/auth-skey.c			1.1-1.5 (new)
crypto/dist/ssh/auth.c				1.4-1.10
crypto/dist/ssh/auth.h				1.1.1.4 -> 1.7
crypto/dist/ssh/auth1.c				1.7-1.15
crypto/dist/ssh/auth2-chall.c			1.2-1.5
crypto/dist/ssh/auth2.c				1.5-1.13
crypto/dist/ssh/authfd.c			1.3-1.8
crypto/dist/ssh/authfd.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/authfile.c			1.4-1.11
crypto/dist/ssh/authfile.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/bufaux.c			1.1.1.4-1.1.1.5
crypto/dist/ssh/bufaux.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/buffer.c			1.1.1.4-1.1.1.5
crypto/dist/ssh/buffer.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/canohost.c			1.6-1.10
crypto/dist/ssh/canohost.h			1.2-1.4
crypto/dist/ssh/channels.c			1.7-1.11,1.13-1.17
crypto/dist/ssh/channels.h			1.3-1.7
crypto/dist/ssh/cipher.c			1.5-1.8
crypto/dist/ssh/cipher.h			1.1.1.4-1.1.1.6
crypto/dist/ssh/cli.c				deleted
crypto/dist/ssh/cli.h				delete
crypto/dist/ssh/clientloop.c			1.6-1.15
crypto/dist/ssh/clientloop.h			1.2-1.3
crypto/dist/ssh/compat.c			1.1.1.5-1.1.1.9
crypto/dist/ssh/compat.h			1.1.1.5-1.1.1.8
crypto/dist/ssh/compress.c			1.4-1.5
crypto/dist/ssh/compress.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/crc32.c				1.1.1.4
crypto/dist/ssh/crc32.h				1.1.1.4-1.1.1.6
crypto/dist/ssh/deattack.c			1.5-1.10
crypto/dist/ssh/deattack.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/dh.c				1.3-1.7
crypto/dist/ssh/dh.h				1.1.1.2 -> 1.3
crypto/dist/ssh/dispatch.c			1.1.1.4-1.1.1.5
crypto/dist/ssh/dispatch.h			1.1.1.3-1.1.1.4
crypto/dist/ssh/getput.h			1.1.1.4
crypto/dist/ssh/groupaccess.c			1.2-1.3
crypto/dist/ssh/groupaccess.h			1.2-1.3
crypto/dist/ssh/hostfile.c			1.3-1.7
crypto/dist/ssh/hostfile.h			1.4-1.5
crypto/dist/ssh/includes.h			1.4-1.5
crypto/dist/ssh/kex.c				1.6-1.12
crypto/dist/ssh/kex.h				1.1.1.5-1.1.1.8
crypto/dist/ssh/kexdh.c				1.1-1.5 (new)
crypto/dist/ssh/kexgex.c			1.1-1.6 (new)
crypto/dist/ssh/key.c				1.3-1.7,1.9-1.12 via patch
crypto/dist/ssh/key.h				1.1.1.4-1.1.1.7
crypto/dist/ssh/log-client.c			delete
crypto/dist/ssh/log-server.c			deleted
crypto/dist/ssh/log.c				1.1.1.4-1.1.1.6
crypto/dist/ssh/log.h				1.2-1.3
crypto/dist/ssh/login.c				delete
crypto/dist/ssh/login.h				deleted
crypto/dist/ssh/mac.c				1.2
crypto/dist/ssh/mac.h				1.2-1.3
crypto/dist/ssh/match.c				1.1.1.4-1.1.1.7
crypto/dist/ssh/match.h				1.1.1.4-1.1.1.7
crypto/dist/ssh/misc.c				1.2-1.8
crypto/dist/ssh/misc.h				1.2-1.6
crypto/dist/ssh/moduli				1.1 (new)
crypto/dist/ssh/moduli.5			1.1-1.4 (new)
crypto/dist/ssh/mpaux.c				1.4
crypto/dist/ssh/mpaux.h				1.1.1.4-1.1.1.5
crypto/dist/ssh/myproposal.h			1.1.1.5-1.1.1.6
crypto/dist/ssh/nchan.c				1.1.1.4-1.1.1.9
crypto/dist/ssh/nchan.h				delete
crypto/dist/ssh/nchan.ms			1.1.1.3
crypto/dist/ssh/nchan2.ms			1.1.1.2 -> 1.3
crypto/dist/ssh/openssh2netbsd			1.2-1.3
crypto/dist/ssh/packet.c			1.7-1.14
crypto/dist/ssh/packet.h			1.1.1.4-1.1.1.9
crypto/dist/ssh/pathnames.h			1.5-1.7
crypto/dist/ssh/primes				deleted
crypto/dist/ssh/pty.c				deleted
crypto/dist/ssh/pty.h				delete
crypto/dist/ssh/radix.c				1.1.1.3 -> 1.6
crypto/dist/ssh/radix.h				1.2-1.3
crypto/dist/ssh/readconf.c			1.6-1.13
crypto/dist/ssh/readconf.h			1.1.1.4 -> 1.8
crypto/dist/ssh/readpass.c			1.4-1.8
crypto/dist/ssh/readpass.h			1.2-1.4
crypto/dist/ssh/readpassphrase.3		1.1 (new)
crypto/dist/ssh/readpassphrase.c		1.1 (new)
crypto/dist/ssh/readpassphrase.h		1.1 (new)
crypto/dist/ssh/rijndael.c			1.1.1.2 -> 1.3
crypto/dist/ssh/rijndael.h			1.1.1.2 -> 1.5
crypto/dist/ssh/rsa.c				1.1.1.4-1.1.1.5
crypto/dist/ssh/rsa.h				1.1.1.4-1.1.1.5
crypto/dist/ssh/scard.c				1.1.1.1-1.1.1.2 (new)
crypto/dist/ssh/scard.h				1.1 (new)
crypto/dist/ssh/scard/Makefile			1.1 (new)
crypto/dist/ssh/scard/Ssh.bin.uu		1.1 (new)
crypto/dist/ssh/scard/Ssh.java			1.1 (new)
crypto/dist/ssh/scp.1				1.1.1.4-1.1.1.5
crypto/dist/ssh/scp.c				1.9-1.17
crypto/dist/ssh/servconf.c			1.6-1.14
crypto/dist/ssh/servconf.h			1.6-1.10
crypto/dist/ssh/serverloop.c			1.6-1.15
crypto/dist/ssh/serverloop.h			1.2-1.3
crypto/dist/ssh/session.c			1.6-1.14,1.16-1.21
crypto/dist/ssh/session.h			1.1.1.3-1.1.1.5
crypto/dist/ssh/sftp-client.c			1.7-1.11
crypto/dist/ssh/sftp-client.h			1.2-1.4
crypto/dist/ssh/sftp-common.c			1.2-1.4
crypto/dist/ssh/sftp-common.h			1.2-1.3
crypto/dist/ssh/sftp-glob.c			1.1-1.7 (new)
crypto/dist/ssh/sftp-glob.h			1.1.1.1-1.1.1.4 (new)
crypto/dist/ssh/sftp-int.c			1.6-1.11
crypto/dist/ssh/sftp-int.h			1.2-1.4
crypto/dist/ssh/sftp-server.8			1.1.1.4-1.1.1.7
crypto/dist/ssh/sftp-server.c			1.8-1.13
crypto/dist/ssh/sftp.1				1.1.1.5 -> 1.7
crypto/dist/ssh/sftp.c				1.4-1.9
crypto/dist/ssh/sftp.h				1.2-1.3
crypto/dist/ssh/ssh-add.1			1.4-1.8
crypto/dist/ssh/ssh-add.c			1.7-1.14
crypto/dist/ssh/ssh-agent.1			1.4-1.9
crypto/dist/ssh/ssh-agent.c			1.7-1.13
crypto/dist/ssh/ssh-dss.c			1.4-1.8
crypto/dist/ssh/ssh-dss.h			1.1.1.2 -> 1.3
crypto/dist/ssh/ssh-keygen.1			1.4-1.11
crypto/dist/ssh/ssh-keygen.c			1.6-1.14
crypto/dist/ssh/ssh-keyscan.1			1.4-1.8
crypto/dist/ssh/ssh-keyscan.c			1.7-1.13
crypto/dist/ssh/ssh-rsa.c			1.4-1.8
crypto/dist/ssh/ssh-rsa.h			1.1.1.2 -> 1.3
crypto/dist/ssh/ssh.1				1.9-1.16
crypto/dist/ssh/ssh.c				1.8-1.18
crypto/dist/ssh/ssh.h				1.5-1.6
crypto/dist/ssh/ssh1.h				1.2-1.5
crypto/dist/ssh/ssh2.h				1.1.1.4
crypto/dist/ssh/ssh_config			1.3-1.4
crypto/dist/ssh/sshconnect.c			1.7-1.15
crypto/dist/ssh/sshconnect.h			1.1.1.4-1.1.1.8
crypto/dist/ssh/sshconnect1.c			1.7-1.17
crypto/dist/ssh/sshconnect2.c			1.7-1.15
crypto/dist/ssh/sshd.8				1.8-1.20
crypto/dist/ssh/sshd.c				1.7-1.17
crypto/dist/ssh/sshd_config			1.3-1.9
crypto/dist/ssh/sshlogin.c			1.1.1.1-1.1.1.2 (new)
crypto/dist/ssh/sshlogin.h			1.1.1.1-1.1.1.3 (new)
crypto/dist/ssh/sshpty.c			1.1-1.3 (new)
crypto/dist/ssh/sshpty.h			1.1.1.1-1.1.1.3 (new)
crypto/dist/ssh/sshtty.c			1.1 (new)
crypto/dist/ssh/sshtty.h			1.1.1.1-1.1.1.2 (new)
crypto/dist/ssh/tildexpand.c			1.4-1.5
crypto/dist/ssh/tildexpand.h			1.2-1.3
crypto/dist/ssh/ttymodes.c			1.1.1.3-1.1.1.6
crypto/dist/ssh/ttymodes.h			1.1.1.3-1.1.1.5
crypto/dist/ssh/uidswap.c			1.1.1.4-1.1.1.6
crypto/dist/ssh/uidswap.h			1.1.1.3-1.1.1.4
crypto/dist/ssh/uuencode.c			1.4-1.5
crypto/dist/ssh/uuencode.h			1.1.1.4-1.1.1.5
crypto/dist/ssh/version.h			1.11-1.20 via patch
crypto/dist/ssh/xmalloc.c			1.4-1.6
crypto/dist/ssh/xmalloc.h			1.1.1.3-1.1.1.4
usr.bin/ssh/Makefile				1.10,1.13
usr.bin/ssh/libssh/Makefile			1.3-1.4,1.6-1.8 via patch
usr.bin/ssh/scp/Makefile			1.3
usr.bin/ssh/sftp-server/Makefile		1.3
usr.bin/ssh/sftp/Makefile			1.2
usr.bin/ssh/ssh-add/Makefile			1.2
usr.bin/ssh/ssh-agent/Makefile			1.2
usr.bin/ssh/ssh-keygen/Makefile			1.2
usr.bin/ssh/ssh-keyscan/Makefile		1.2-1.3
usr.bin/ssh/ssh/Makefile			1.6-1.9
usr.bin/ssh/sshd/Makefile			1.4-1.9
distrib/sets/lists/etc/mi			patch
distrib/sets/lists/etc/obsolete.mi		patch
distrib/sets/lists/man/mi			patch

  Upgrade OpenSSH to version 3.0.2.

sys/arch/mac68k/obio/esp.c			1.30

  Correct operation of non-pseudo-DMA mode, as used on 660 and 840
  AV models.

sys/arch/sparc/dev/p9100.c			patch

  The PROM does not set up the frame buffer if it is not the console.
  We should not try to configure it in that case.  This makes serial
  console work on the SPARCbook, and fixes PR#14213.

sys/dev/pckbc/pckbd.c				1.29

  Use a polling command to enable the keyboard instead of
  pckbc_enqueue_cmd, which is not intended for use during autoconfig.
  This fixes some problems where keyboards would not work with
  wscons on i386.

sys/kern/sys_generic.c				1.60
lib/libc/sys/poll.2				1.11

  Make poll(2) ignore negative file descriptors, which is in line
  with the Single Unix Specification.

usr.sbin/lpr/common_source/common.c		1.21

  Use getifaddrs(3) instead of gethostname(3) for local address
  detection.

sys/netinet6/in6.c				1.38

  Make sure we don't use an uninitialized pointer.

sys/dev/pci/pccbb.c				1.70 partial, via patch

  Add PCI power management control to the PCI-CardBus bridge.
  Fixes PR#14149.

lib/libc/time/strftime.c			1.12 via patch
lib/libc/time/strftime.3			1.10-1.12

  Switch to widely circulated tzcode (2000g) implementation; it
  implements C99 features.

sys/dev/pci/cs4281.c				1.9

  Remove spurious warning which is no longer valid.

dist/dhcp/client/dhclient.c			1.3

  Check for ``-'' as first character only after we checked all
  recognized options.  Fixes PR#14935.

sys/arch/sparc/sparc/pmap.c			1.201

  When counting PTEs, look at all the segments in a region, not
  just the first.

share/man/man4/dpti.4				1.2

  First appeared in 1.5.3.

etc/rc.d/ipfilter				1.9-1.10

  Use && and || for logical concatenations instead of -a/-o operators,
  and support ``resync'' (ipf -y).

sys/arch/arm32/conf/A7000			patch
sys/arch/arm32/conf/A7INST			patch
sys/arch/arm32/conf/GENERIC			patch
sys/arch/arm32/conf/RISCPC			patch
sys/arch/arm32/conf/RPCINST			patch
sys/arch/arm32/conf/VOYAGER			patch

  Comment out non-working Cumana SCSI II driver for now.

gnu/dist/libio/cleanup.c			1.2

  Fix a core dump when libstdc++ is unloaded (via dlclose()) before
  exit().

sys/dev/ic/wdcvar.h				1.28
sys/dev/scsipi/atapi_wdc.c			1.39

  Make DVD commands work on drives configured for DMA.

lib/libossaudio/ossaudio.c			1.16
sys/compat/ossaudio/ossaudio.c			1.39

  Change our emulation of SNDCTL_DSP_POST so that OSS applications
  (e.g. xmms) don't randomly pause.

sys/dev/cardbus/if_ex_cardbus.c			1.17,1.19 via patch
sys/dev/ic/elinkxl.c				1.47-1.48 via patch
sys/dev/ic/elinkxlvar.h				1.10

  Add Power Management support for Cardbus Etherlink XL cards, and
  some cleanup.

sys/dev/pci/if_ex_pci.c				1.18

  Improve intr_ack code to support 3c556 and 3c556B.

sys/arch/macppc/conf/GENERIC			1.89
sys/arch/macppc/conf/INSTALL			1.52 via patch

  Add the tlp(4) driver to GENERIC, and make the choice of the
  de(4) driver vs. the tlp(4) driver consistent between the INSTALL
  and GENERIC kernels.  The choice is to use the de(4) driver for
  the DEC-based Tulip cards, and tlp(4) for the Tulip clones
  supported by that driver.

sys/dev/cardbus/cardbusdevs			1.18-1.20 via patch
sys/dev/cardbus/cardbusdevs.h			regenerate
sys/dev/cardbus/cardbusdevs_data.h		regenerate
sys/dev/cardbus/if_rtk_cardbus.c		1.4-1.5,1.7

  Add support for the following cards:
   o D-Link DFE-690TXD 10/100
   o Realtek 8139 based cards
   o Corega FEther CB-TXD
  Fixes PR#15100, PR#13252 and PR#12709.

sys/dev/ic/siop.c				1.47 via patch
sys/dev/ic/siopvar.h				patch

  Don't call siop_morecbd() in interrupt context, but pre-allocate
  CBD at probe time instead.  Fixes PR#13827, PR#14866 and PR#15048.

sys/kern/kern_sysctl.c				1.96

  Fix a memory leak when pl_corename is changed more than once.

sys/dev/ic/wdc.c				1.101

  Do not allow forcing Ultra-DMA via config flags if the controller
  does not support it.

sys/dev/pci/pciide.c				1.135
sys/dev/pci/pciide_cmd_reg.h			1.11 via patch

  Support Ultra-DMA 100 on the CMD 0649.

distrib/notes/alpha/install			1.22
distrib/notes/common/main			1.148
distrib/notes/common/postinstall		1.30
distrib/notes/common/sysinst			1.28
distrib/notes/hpcmips/install			1.8
distrib/notes/macppc/install			1.17
distrib/notes/macppc/prep			1.23
distrib/notes/mvme68k/install			1.15
distrib/notes/sparc/install			1.44
distrib/notes/sparc64/install			1.11
distrib/notes/vax/install			1.11

  Quote > and < characters with \*> and \*< respectively so the
  correctness of the generated HTML is improved.

sys/arch/x68k/dev/intio.c			1.10
sys/arch/x68k/include/bus.h			1.9

  Support mapping devices with BUS_SPACE_MAP_SHIFTED_EVEN.

sys/arch/x68k/conf/files.x68k			1.40
sys/arch/x68k/conf/ALL				1.45 via patch
sys/arch/x68k/conf/GENERIC			1.63,1.67 via patch
sys/arch/x68k/conf/INSTALL			1.43
sys/arch/x68k/dev/if_ne_intio.c			1.1 (new) via patch

  Support the Ethernet part of Nereid (ether/USB/memory board).

sys/kern/kern_exec.c				1.149-1.150 via patch
sys/kern/sys_process.c				1.72
sys/sys/proc.h					1.136 via patch
lib/libc/sys/ptrace.2				1.16
sys/miscfs/procfs/procfs_ctl.c			1.22
sys/miscfs/procfs/procfs_mem.c			1.30
sys/miscfs/procfs/procfs_regs.c			1.15
sys/miscfs/procfs/procfs_vnops.c		1.88 via patch

  Fix a ptrace/execve race condition which could be used to modify
  the child process' image during execve.  This would be a security
  issue due to setuid programs.  Fixes SA#2002-001.

distrib/notes/common/main			1.150

  Edit the list of release engineering people.

lib/libc/stdlib/random.c			1.20

  Make this work on LP64 platforms.  This fixes krb5-enabled logins
  on the alpha platform.

lib/libc/stdlib/random.3			1.13

  Document alignment requirements of the state array passed to
  initstate(3).  Earlier only documented in comments in the code.

sys/netinet/ip_output.c				1.91

  Avoid kernel panic on IPv4 multicast packet transmission if there
  is no IPv4 address assigned to the specified outgoing interface.

sbin/dump/dump.8				1.43,1.45 via patch
sbin/dump/dump.h				1.23,1.30 via patch
sbin/dump/dumprmt.c				1.27 via patch
sbin/dump/main.c				1.41,1.50 via patch
sbin/dump/tape.c				1.31,1.37

  Implement ``-l <timeout>'' option for use with e.g. autochangers.

sbin/dump/dump.h				1.31-1.32 via patch
sbin/dump/dumprmt.c				1.28-1.29 via patch
sbin/dump/ffs_inode.c				1.9-1.10 via patch
sbin/dump/itime.c				1.12-1.13 via patch
sbin/dump/main.c				1.46-1.48 via patch
sbin/dump/optr.c				1.25 via patch
sbin/dump/rcache.c				1.7-1.10 via patch
sbin/dump/tape.c				1.32-1.35 via patch
sbin/dump/traverse.c				1.34 via patch

  Various fixes:
   o Fix error if first tape is write-protected; fixes PR#4754 and PR#6098
   o Make error codes conform to manual page
   o Use \a to make noise
   o Fix estimated number of tapes for huge dumps to cartridges
   o Use <sys/queue.h> SLIST_* macros instead of homegrown variants
   o Do not exit if unable to read/create /etc/dumpdates
   o Support output (tape) device returning ENOSPC for end-of-media on write
   o Don't dump core if SIGINFO is received before 1 second has elapsed
   o Only process SIGINFO in currently active child
   o Ensure current (sub)block isn't past end of file system -- fixes
     "spins forever but does nothing" bug.
   o Some other minor fixes (types, whitespace, KNF, unifdef sunos, ...)

sbin/dump/dump.8				1.44 via patch
sbin/dump/dump.h				1.33 via patch
sbin/dump/main.c				1.49 via patch
sbin/dump/tape.c				1.36 via patch

  Add an ``-a'' option to ``auto-size'' the tape, rather than
  relying upon other options to define the tape size.

gnu/usr.bin/gzip/gzip.c				1.9

  Fix long file name buffer overrun vulnerability.  Fixes SA#2002-002.

sys/arch/i386/pci/pchb.c			1.30 via patch

  Also correct the attach flags to enable IO space on the ServerWorks
  CNB20LE.

sys/dev/ic/wdc.c				1.107 via patch
sys/dev/ic/wdcvar.h				1.33 via patch
sys/arch/macppc/dev/wdc_obio.c			1.13,1.15-1.19 via patch

  Add UDMA support and allow separate DMA timings to be programmed
  for two different devices on the same wdc channel on the macppc.
  The machine-independent driver is updated to optionally use the
  WDC_CAPABILITY_SELECT callback whenever a target is selected on
  a channel.

sys/dev/pci/emuxkireg.h				1.1-1.2 (new)
sys/dev/pci/emuxkivar.h				1.1-1.3 (new)
sys/dev/pci/emuxki.c				1.1-1.7 (new) via patch
sys/dev/pci/files.pci				1.142
sys/dev/DEVNAMES				1.81 via patch
sys/arch/i386/conf/GENERIC			1.432 via patch
sys/arch/i386/conf/GENERIC_LAPTOP		1.26 via patch
sys/arch/i386/conf/CARDBUS			patch
share/man/man4/emuxki.4				1.1-1.4 (new)
share/man/man4/audio.4				1.43
share/man/man4/pci.4				1.58 via patch
share/man/man4/Makefile				1.229 via patch
distrib/sets/lists/man/mi			1.412 via patch

  Add driver for Creative Labs SBLive! EMU10000 and (probably) PCI512.
  Fixes PR#15260.

lib/libcrypt/Makefile				1.10
lib/libcrypt/crypt.3				1.9-1.10
lib/libcrypt/crypt.c				1.16-1.17
lib/libcrypt/md5crypt.c				1.1-1.4 (new)
include/pwd.h					1.21-1.22

  Add minimal support for MD5-hashed passwords.

usr.bin/leave/leave.c				1.9-1.10
usr.bin/leave/leave.1				1.7-1.9

  Handle 24-hour time format better, and also document limitations.
  Also include <stdlib.h>.  Fixes PR#8944.

sys/dev/ic/wdc.c				1.109 via patch

  Don't try to use chp->wdc if it's NULL.  Fixes PR#15307.

sys/dev/pci/pccbb.c				1.57

  Calculate address mask appropriately for 16-bit PC-cards.

sys/dev/sbus/qe.c				1.16

  Make all debugging messages conditional on sc->sc_debug.

libexec/makewhatis/makewhatis.c			1.18-1.19 via patch

  Cleanup and enhance error handling.  Handle ``.Xr'' commands with
  text after the section number properly.  Fixes PR#15253.

sys/dev/ic/ac97reg.h				1.2-1.3
sys/dev/ic/ac97.c				1.22
sys/dev/pci/pcidevs				1.352-1.353
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/esa.c				1.1-1.8 (new) via patch
sys/dev/pci/esavar.h				1.1-1.3 (new)
sys/dev/pci/esareg.h				1.1-1.6 (new)
sys/dev/pci/esadsp.h				1.1-1.4 (new)
sys/dev/pci/files.pci				1.156
sys/dev/DEVNAMES				1.92 via patch
sys/arch/i386/conf/GENERIC			1.461
sys/arch/i386/conf/GENERIC_LAPTOP		1.38 via patch
sys/arch/i386/conf/CARDBUS			1.49 via patch
share/man/man4/esa.4				1.1-1.4 (new)
share/man/man4/Makefile				patch
distrib/sets/lists/man/mi			patch

  Add driver for the ESS Allegro-1 / Maestro-3 audio hardware.

sys/netinet/tcp_input.c				1.134
sys/netinet/tcp_output.c			1.77
sys/netinet/tcp_var.h				1.88

  Clean up the NRL copyright.

sys/arch/macppc/dev/mesh.c			1.8

  Honour SCSI command timeout.  This fixes a problem with some SCSI
  commands which take longer than 10s to complete, and were falling
  into a timeout, e.g. CD-R fixating.

sys/sys/disklabel.h				1.68-1.69

  Fix warnings about redefinition if <sys/disklabel.h> is used on
  its own.

sys/nfs/nfs_vnops.c				1.148

  Set np->n_size before calling nfs_vinvalbuf.  Avoids confusion as
  to the actual file size.

sys/arch/alpha/conf/files.alpha			1.151

  We need the compat_13 sys_sigreturn to do OSF1 emulation.  Fixes
  PR#8788.

sys/dev/pci/pcidevs				1.287
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/siop_pci_common.c			1.6-1.8
sys/dev/ic/siop_common.c			1.13
sys/dev/ic/siopreg.h				1.8
sys/dev/ic/siopvar.h				1.14-1.15
share/man/man4/siop.4				1.2-1.9

  Add support for the 53c1010-33 and 53c1510D, and bring documentation
  up to date.

distrib/notes/i386/hardware			1.100

  Replace ncr0 with siop0, and mention 53c1010-33 and 53c1510D.

sys/dev/cardbus/cardbusdevs			1.13,1.17
sys/dev/cardbus/cardbusdevs.h			regenerate
sys/dev/cardbus/cardbusdevs_data.h		regenerate
sys/dev/cardbus/if_tlp_cardbus.c		1.25-1.27

  Add support for AN985-based CardBus network interfaces.

usr.bin/audio/common/Makefile			1.3-1.4 via patch
usr.bin/audio/common/auconv.c			1.1 (new)
usr.bin/audio/common/auconv.h			1.1 (new)
usr.bin/audio/common/audio.c			1.10,1.12-1.15 via patch
usr.bin/audio/common/libaudio.h			1.5-1.6,1.8-1.10 via patch
usr.bin/audio/common/sun.c			1.1-1.2 (new)
usr.bin/audio/common/wav.c			1.1-1.3 (new)
usr.bin/audio/play/audioplay.1			1.8-1.15
usr.bin/audio/play/play.c			1.18-1.21,1.25-1.31 via patch
usr.bin/audio/record/audiorecord.1		1.9-1.22
usr.bin/audio/record/record.c			1.11-1.13,1.15-1.21 via patch
usr.bin/audio/ctl/ctl.c				patch

  Bring in several fixes and enhancements to these tools:
   o fix stdin audioplay
   o add WAV support to audiorecord
   o allows any host to output any endian sample
   o don't output a bogus header
   o fix a bug in audiorecord -t
   o many manual page fixes
   o exit immediately on signals

sys/dev/eisa/cac_eisa.c				1.5
sys/dev/ic/cac.c				1.20
sys/dev/ic/cacvar.h				1.9
sys/dev/ic/ld_cac.c				1.5
sys/dev/pci/cac_pci.c				1.12

  Some fixes:
   o Always validate return value read from outbound FIFO
   o Copy access method into to softc to avoid double dereference
   o Remove static on functions
  Fixes PR#14453.

bin/ksh/edit.c					1.7
bin/ksh/emacs.c					1.11

  Fix some aspects of globbing, particularly in emacs mode.

sys/dev/usb/usbdevs			1.122,1.186,1.212,1.220 via patch
sys/dev/usb/usbdevs.h				regenerate
sys/dev/usb/usbdevs_data.h			regenerate
sys/dev/usb/if_kue.c				1.43 via patch

  Add more devices using the Kawasaki USB-ethernet chip.  Fixes
  PR#15344.

lib/libossaudio/soundcard.h			1.12

  Determine the ``native'' endianness using _BYTE_ORDER from
  <machine/endian_machdep.h>.

sys/dev/pci/ahc_pci.c				1.30

  Move stray debugging message to only occur in debug mode.

share/man/man4/cac.4				patch

  Correct some documentation inaccuracies.

share/man/man4/mlx.4				patch

  Remove documentation of EISA attachment, as that's not in this
  code yet.

sys/dev/pci/pcidevs				1.277,1.279,1.318
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pciide.c			1.112,1.118,1.125,1.128 via patch
sys/dev/pci/pciide_acard_reg.h			1.1 (new)
distrib/notes/i386/hardware			1.101
distrib/notes/macppc/hardware			1.22

  Add support for Acard ATP-850/860 pciide controllers.

dist/ipf/BNF					1.3-1.4
dist/ipf/HISTORY				1.10-1.11
dist/ipf/IMPORTANT				1.2
dist/ipf/IPFILTER.LICENCE			1.1 (new)
dist/ipf/LICENCE				deleted
dist/ipf/Makefile				1.3-1.5
dist/ipf/common.c				1.1.1.3-1.1.1.4
dist/ipf/etc/protocols				1.2
dist/ipf/etc/services				1.2
dist/ipf/facpri.c				1.3
dist/ipf/facpri.h				1.3
dist/ipf/fils.c					1.12-1.13
dist/ipf/ipf.c					1.6-1.7
dist/ipf/ipf.h					1.4
dist/ipf/ipf2netbsd				1.5
dist/ipf/ipfs.c					1.4-1.5
dist/ipf/ipft_ef.c				1.3
dist/ipf/ipft_hx.c				1.3
dist/ipf/ipft_pc.c				1.3
dist/ipf/ipft_sn.c				1.3
dist/ipf/ipft_td.c				1.3
dist/ipf/ipft_tx.c				1.3-1.4
dist/ipf/iplang/Makefile			1.3
dist/ipf/iplang/iplang.h			1.2
dist/ipf/iplang/iplang_y.y			1.3
dist/ipf/ipmon.c				1.6-1.7
dist/ipf/ipnat.c				1.7-1.8
dist/ipf/ipsd/ipsd.c				1.2
dist/ipf/ipsd/ipsd.h				1.2
dist/ipf/ipsd/ipsdr.c				1.2
dist/ipf/ipsd/linux.h				1.2
dist/ipf/ipsd/sbpf.c				1.2
dist/ipf/ipsd/sdlpi.c				1.2
dist/ipf/ipsd/slinux.c				1.2
dist/ipf/ipsd/snit.c				1.2
dist/ipf/ipsend/44arp.c				1.2
dist/ipf/ipsend/arp.c				1.2
dist/ipf/ipsend/hpux.c				1.2
dist/ipf/ipsend/ip.c				1.2-1.3
dist/ipf/ipsend/ipresend.1			1.3
dist/ipf/ipsend/ipresend.c			1.2
dist/ipf/ipsend/ipsend.c			1.3-1.4
dist/ipf/ipsend/ipsend.h			1.2
dist/ipf/ipsend/ipsopt.c			1.2
dist/ipf/ipsend/iptest.c			1.3
dist/ipf/ipsend/iptests.c			1.2
dist/ipf/ipsend/larp.c				1.2
dist/ipf/ipsend/linux.h				1.2
dist/ipf/ipsend/lsock.c				1.2
dist/ipf/ipsend/resend.c			1.2-1.3
dist/ipf/ipsend/sbpf.c				1.2
dist/ipf/ipsend/sdlpi.c				1.2
dist/ipf/ipsend/sirix.c				1.2
dist/ipf/ipsend/slinux.c			1.2
dist/ipf/ipsend/snit.c				1.2
dist/ipf/ipsend/sock.c				1.2-1.3
dist/ipf/ipsend/ultrix.c			1.2
dist/ipf/ipt.c					1.4
dist/ipf/ipt.h					1.4
dist/ipf/kmem.c					1.3-1.4
dist/ipf/kmem.h					1.3
dist/ipf/man/Makefile				1.3
dist/ipf/man/ipf.4				1.2-1.7
dist/ipf/man/ipf.5				1.4-1.7
dist/ipf/man/ipf.8				1.4
dist/ipf/man/ipfilter.5				1.2-1.3
dist/ipf/man/ipfs.8				1.1.1.2
dist/ipf/man/ipfstat.8				1.5-1.6
dist/ipf/man/ipl.4				1.2-1.3
dist/ipf/man/ipmon.8				1.7
dist/ipf/man/ipnat.4				1.2
dist/ipf/man/ipnat.5				1.4
dist/ipf/man/mkfilters.1			1.4
dist/ipf/misc.c					1.3
dist/ipf/mkfilters				1.2
dist/ipf/ml_ipl.c				1.3
dist/ipf/mlfk_ipl.c				1.1.1.2-1.1.1.4
dist/ipf/natparse.c				1.5
dist/ipf/opt.c					1.3
dist/ipf/parse.c				1.6-1.10
dist/ipf/pcap.h					1.3
dist/ipf/perl/plog				1.3
dist/ipf/printnat.c				1.1-1.2 (new)
dist/ipf/printstate.c				1.1 (new)
dist/ipf/relay.c				1.3-1.4
dist/ipf/rules/BASIC.NAT			1.2
dist/ipf/samples/Makefile			1.2
dist/ipf/samples/proxy.c			1.3
dist/ipf/samples/userauth.c			1.3
dist/ipf/snoop.h				1.3
dist/ipf/test/Makefile				1.3
dist/ipf/test/expected/f13			1.1 (new)
dist/ipf/test/expected/i7			1.3-1.4
dist/ipf/test/expected/ni1			1.1 (new)
dist/ipf/test/expected/ni2			1.1 (new)
dist/ipf/test/input/f13				1.2
dist/ipf/test/input/ipf6-1			1.1 (new)
dist/ipf/test/input/ni1				1.1 (new)
dist/ipf/test/input/ni2				1.1 (new)
dist/ipf/test/natipftest			1.1 (new)
dist/ipf/test/regress/ipf6-1			1.1 (new)
dist/ipf/test/regress/ni1.ipf			1.1 (new)
dist/ipf/test/regress/ni1.nat			1.1 (new)
dist/ipf/test/regress/ni2.ipf			1.1 (new)
dist/ipf/test/regress/ni2.nat			1.1 (new)
dist/ipf/todo					1.3
distrib/sets/lists/man/mi			1.444 via patch
distrib/sets/lists/misc/mi			1.75 via patch
sys/lkm/netinet/if_ipl/Makefile			1.13-1.15 via patch
sys/lkm/netinet/if_ipl/mln_ipl.c		1.24-1.27
sys/netinet/fil.c				1.41-1.52
sys/netinet/ip_auth.c				1.19-1.24
sys/netinet/ip_auth.h				1.8-1.10
sys/netinet/ip_compat.h				1.19-1.26
sys/netinet/ip_fil.c				1.59-1.75 via patch
sys/netinet/ip_fil.h				1.38-1.42
sys/netinet/ip_frag.c				1.22,1.24-1.27 via patch
sys/netinet/ip_frag.h				1.15-1.17
sys/netinet/ip_ftp_pxy.c			1.18-1.21 via patch
sys/netinet/ip_ipsec_pxy.c			1.1 (new)
sys/netinet/ip_log.c				1.12-1.17
sys/netinet/ip_nat.c				1.37-1.38,1.40-1.44 via patch
sys/netinet/ip_nat.h				1.22,1.24
sys/netinet/ip_netbios_pxy.c			1.1 (new)
sys/netinet/ip_proxy.c				1.23-1.27
sys/netinet/ip_proxy.h				1.16-1.17
sys/netinet/ip_raudio_pxy.c			1.6-1.8
sys/netinet/ip_rcmd_pxy.c			1.6-1.9
sys/netinet/ip_state.c				1.28-1.29,1.31-1.34 via patch
sys/netinet/ip_state.h				1.18-1.20
sys/netinet/ipl.h				1.10-1.11
sys/netinet6/ip6_forward.c			1.12.2.5
usr.sbin/ipf/ipf/Makefile			1.13-1.14
usr.sbin/ipf/ipfstat/Makefile			1.15
usr.sbin/ipf/ipftest/Makefile			1.18
usr.sbin/ipf/ipnat/Makefile			1.16
usr.sbin/ipf/ipsend/Makefile			1.14
usr.sbin/ipf/rules/Makefile			1.9

  Updated IPFilter to 3.4.23

usr.bin/audio/ctl/ctl.c				1.30 via patch

  Remove the old code which made audioctl use stderr for output if
  stdout was the same as the audio device.  A by-product is that
  ``audioctl -a > /dev/null'' now works.

sys/arch/amiga/stand/bootblock/boot/Makefile	1.23
sys/arch/amiga/stand/bootblock/boot/ashldi3.s	1.1 (new)

  Add a left-shift routine needed by lib/libsa/ufs.c due to changes
  in fs.h.

sys/dev/pci/emuxki.c				1.8

  Do not try to set parameters if the appropriate ``voice'' is not
  initialized.  Fixes PR#15394.

sys/dev/scsipi/atapi_wdc.c			1.48

  If we change the ATA modes, also reset the device, so that we
  can retry the command with the new mode.  Fixes PR#15331.

share/man/man4/pciide.4				1.31-1.32

  Document the Acard ATP-850/860 support.

sys/arch/pc532/pc532/db_trace.c			1.10

  Make this compile again.

sys/dev/pci/pciide.c				1.143

  In hpt_pci_intr(), accept interrupt only once IDEDMA_CTL_ACT is
  turned off.  Fixes DMA errors, lost interrupts, and other nasty
  errors with some HPT370s in native mode.

sys/arch/mvme68k/stand/libsa/Makefile		1.18 via patch

  Add ashldi3.c to libsa, needed by ufs.c due to changes in fs.h.

usr.bin/yacc/skeleton.c				1.21

  Move yyparse prototype higher up, so that it is available to
  embedded C code in the .y file.

sys/dev/ic/ac97.c				1.24

  Add accidentally omitted comma.

sys/dev/pci/pccbb.c				1.74

  Correct chattering suppressor.  This makes card insertion detection
  work properly.

sys/sys/ucred.h					1.14
sys/kern/kern_prot.c				1.66-1.68
sys/kern/vfs_subr.c				1.163
sys/nfs/nfs_syscalls.c				1.50
sys/sys/mount.h					1.92
sys/nfs/nfs.h					1.32
usr.sbin/mountd/mountd.c			1.79

  Widen cr_ref to prevent overflow.

share/man/man4/man4.sparc/intro.4		1.12

  Document support for HyperSPARC and sun4u.  Fixes PR#14851.

sbin/init/init.c				1.38-1.48
sbin/init/Makefile				1.26

  Add support to try to set up an MFS based /dev file system if
  /dev/console is missing.  Also fix PR#11847 -- handling of EOF
  at altshell prompt, and convert to ANSI C code style.

sys/kern/kern_descrip.c				1.84 via patch

  Fix an LP64-BE bug with fctnl(..., F_GETOWN, ...).

usr.bin/top/machine/m_netbsd15.c		1.10,1.12-1.13

  Display wait channels for sleeping processes.

sys/arch/sparc/sparc/autoconf.c			1.162

  Parse boot path correctly if boot device arguments consists of
  more than one character (we still only pay attention to the first
  argument character).  Fixes PR#15495.

distrib/i386/floppies/kernel-rescue/Makefile	patch

  Remove *.symbols files in ``make clean''.  Fixes PR#15425.

distrib/i386/floppies/ramdisk-rescuesmall/Makefile	1.7
distrib/i386/floppies/ramdisk-rescuetiny/Makefile	1.7
distrib/i386/floppies/ramdisk-tiny/Makefile	1.10

  Remove ``tmplabel'' files otherwise left behind by ``make clean''.
  Fixes PR#15426.

sys/kern/vfs_cache.c				1.27

  Improve computational complexity of cache_purgevfs().  Also fixes
  a bug in which machines serving both as NFS clients and servers
  could hang for 5-10 minutes under heavy load.

sys/dev/pcmcia/if_ne_pcmcia.c			1.87

  Add support for NEC 9801N-J12 pcmcia card.

sys/arch/cobalt/cobalt/conf.c			1.6-1.7

  Catch up with the renaming ca* -> ld*.

distrib/atari/miniroot/Makefile.inc		patch

  Make the miniroot build.  However, this exceeds the boot media
  size.

crypto/dist/heimdal/lib/kadm5/init_c.c		1.2 via patch

  Create own param struct before marshalling.  Fixes PR#15520.

sys/arch/sun3/stand/libsa/Makefile		1.31 via patch

  Add ashldi3.c, needed by ufs.c after fs.h update.

sys/kern/subr_extent.c				1.43,1.45

  Two fixes:
   o Make sure that extent_alloc_subregion() does not allocate a region
     past the end of a subregion.
   o Avoid allocating a region over an already-allocated one when
     boundary is non-null.

sys/netinet/ip_raudio_pxy.c			patch
sys/netinet/ip_rcmd_pxy.c			patch

  Bump first argument to __KERNEL_RCSID for these files, to allow
  kernels with IPF to build on a.out systems.  Fixes PR#15589.

regress/sys/kern/extent/tests			1.6-1.7

  Add two tests to match recent pull-ups:
   o extent_alloc_subregion() should not allocate region past the
     end of subregion
   o Do not allocate a region over an already allocated one when
     boundary is non-null

sys/kern/vfs_bio.c				1.78 via patch

  Do not apply ``block size invariant'' for VBLK vnodes, since a
  buffer which crosses the end of the partition will be truncated.
  Fixes PR#7938, PR#12156, PR#12698, PR#13076, PR#13210, and
  PR#13288.

sys/dev/ic/elinkxl.c				patch

  Correct typo in previous pull-up.

sys/arch/macppc/stand/ofwboot/Makefile		1.14-1.15,1.25 via patch
sys/arch/macppc/stand/ofwboot/boot1.c		1.1 (new)

  Make it so that we can use load-base 600000 for ofwboot, ofwboot.elf,
  and ofwboot.xcf.  The fundamental problem is that for ofwboot,
  load-base needs to be the load point, while for ofwboot.xcf and
  ofwboot.elf, it needs to not be the load point, but rather a
  scratch buffer used for loading.

usr.bin/fstat/fstat.c				1.55

  Add an extra column for inode numbers, and pull back the mode field
  to just 5 columns if in "numeric" mode.

sys/uvm/uvm_anon.h				1.13
sys/uvm/uvm_anon.c				1.11
sys/uvm/uvm_swap.c				1.43

  Make memory allocation failures during ``swapctl -a'' return an error
  instead of causing a panic.

sys/arch/hpcmips/conf/Makefile.hpcmips		patch

  Make kernel link by reducing gpsize (-G linker option).

sys/arch/macppc/stand/ofwboot/Makefile		1.27

  Make this work with the dependall target.

sbin/fdisk/fdisk.c				1.42

  When fetching the disk's hardware geometry, first attempt the
  DIOCGDEFLABEL ioctl, then fall back to the DIOCGDINFO ioctl.
  This ensures that we will get the actual hardware geometry info
  rather than any bogus info which might have been previously
  written to the disk's label area.

usr.bin/join/join.c				1.20

  Make the ``-v'' flag print data instead of blank lines.  Fixes
  part of PR#15412.

sys/dev/pcmcia/pcmciadevs			1.134,1.157 via patch
sys/dev/pcmcia/pcmciadevs.h			regenerate
sys/dev/pcmcia/pcmciadevs_data.h		regenerate
sys/dev/pcmcia/if_ne_pcmcia.c			1.81,1.85 via patch

  Add support for the following cards:
   o Edimax Technology Inc. EP4000A
   o Linksys Etherfast clone (Level One)
   o Zonet Zen

distrib/notes/alpha/install			1.21,1.23

  Correct a minor spelling error, and replace tabs with spaces inside
  two .(disp entries to get sane formatting.

sys/net/radix.h					1.10

  Avoid namespace pollution, only define certain macros under _KERNEL.

gnu/dist/sendmail/KNOWNBUGS			1.4
gnu/dist/sendmail/PGPKEYS			1.4
gnu/dist/sendmail/README			1.4
gnu/dist/sendmail/RELEASE_NOTES			1.8-1.10
gnu/dist/sendmail/cf/README			1.7-1.9
gnu/dist/sendmail/cf/cf/Makefile		1.5
gnu/dist/sendmail/cf/cf/generic-bsd4.4.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-hpux10.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-hpux10.mc	1.3
gnu/dist/sendmail/cf/cf/generic-hpux9.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-linux.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-nextstep3.3.cf	1.1.1.2 -> 1.4
gnu/dist/sendmail/cf/cf/generic-osf1.cf		1.8-1.10
gnu/dist/sendmail/cf/cf/generic-solaris2.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-sunos4.1.cf	1.8-1.10
gnu/dist/sendmail/cf/cf/generic-ultrix4.cf	1.8-1.10
gnu/dist/sendmail/cf/m4/cfhead.m4		1.6
gnu/dist/sendmail/cf/m4/proto.m4		1.6-1.7
gnu/dist/sendmail/cf/m4/version.m4		1.8-1.10
gnu/dist/sendmail/cf/ostype/freebsd4.m4		1.1 (new)
gnu/dist/sendmail/devtools/OS/OpenBSD		1.4
gnu/dist/sendmail/devtools/README		1.6-1.7
gnu/dist/sendmail/devtools/bin/Build		1.6-1.7
gnu/dist/sendmail/devtools/bin/configure.sh	1.3
gnu/dist/sendmail/devtools/bin/install.sh	1.3
gnu/dist/sendmail/doc/op/Makefile		1.4
gnu/dist/sendmail/doc/op/op.me			1.7-1.9
gnu/dist/sendmail/include/libmilter/milter.h	1.5-1.6
gnu/dist/sendmail/include/sendmail/sendmail.h	1.6
gnu/dist/sendmail/libmilter/README		1.7-1.8
gnu/dist/sendmail/libmilter/libmilter.h		1.6-1.7
gnu/dist/sendmail/libmilter/listener.c		1.7
gnu/dist/sendmail/libmilter/main.c		1.5
gnu/dist/sendmail/libmilter/sm_gethost.c	1.6-1.7
gnu/dist/sendmail/libsmutil/safefile.c		1.5
gnu/dist/sendmail/libsmutil/snprintf.c		1.5
gnu/dist/sendmail/mail.local/mail.local.0	1.5
gnu/dist/sendmail/mail.local/mail.local.c	1.7
gnu/dist/sendmail/mailstats/mailstats.0		1.1.1.4
gnu/dist/sendmail/mailstats/mailstats.8		1.5
gnu/dist/sendmail/mailstats/mailstats.c		1.6
gnu/dist/sendmail/makemap/makemap.0		1.1.1.4
gnu/dist/sendmail/praliases/praliases.0		1.1.1.4
gnu/dist/sendmail/praliases/praliases.c		1.6
gnu/dist/sendmail/rmail/rmail.0			1.4
gnu/dist/sendmail/rmail/rmail.c			1.7
gnu/dist/sendmail/sendmail/README		1.7-1.9
gnu/dist/sendmail/sendmail/TRACEFLAGS		1.3
gnu/dist/sendmail/sendmail/alias.c		1.6
gnu/dist/sendmail/sendmail/aliases.0		1.5
gnu/dist/sendmail/sendmail/arpadate.c		1.3
gnu/dist/sendmail/sendmail/bf_portable.c	1.5
gnu/dist/sendmail/sendmail/bf_torek.c		1.6
gnu/dist/sendmail/sendmail/clock.c		1.5-1.7
gnu/dist/sendmail/sendmail/collect.c		1.7-1.8
gnu/dist/sendmail/sendmail/conf.c		1.13-1.14
gnu/dist/sendmail/sendmail/conf.h		1.8-1.9
gnu/dist/sendmail/sendmail/control.c		1.7
gnu/dist/sendmail/sendmail/daemon.c		1.9-1.10
gnu/dist/sendmail/sendmail/deliver.c		1.8-1.9
gnu/dist/sendmail/sendmail/envelope.c		1.6
gnu/dist/sendmail/sendmail/err.c		1.4-1.6
gnu/dist/sendmail/sendmail/headers.c		1.7
gnu/dist/sendmail/sendmail/mailq.0		1.6
gnu/dist/sendmail/sendmail/main.c		1.8-1.9
gnu/dist/sendmail/sendmail/map.c		1.7-1.9
gnu/dist/sendmail/sendmail/mci.c		1.5
gnu/dist/sendmail/sendmail/milter.c		1.7-1.9
gnu/dist/sendmail/sendmail/newaliases.0		1.4
gnu/dist/sendmail/sendmail/parseaddr.c		1.7-1.8
gnu/dist/sendmail/sendmail/queue.c		1.7-1.8
gnu/dist/sendmail/sendmail/readcf.c		1.9-1.11
gnu/dist/sendmail/sendmail/recipient.c		1.7
gnu/dist/sendmail/sendmail/savemail.c		1.7
gnu/dist/sendmail/sendmail/sendmail.0		1.5
gnu/dist/sendmail/sendmail/sendmail.8		1.5
gnu/dist/sendmail/sendmail/sendmail.h		1.8-1.10
gnu/dist/sendmail/sendmail/sfsasl.c		1.6-1.8
gnu/dist/sendmail/sendmail/srvrsmtp.c		1.7-1.8
gnu/dist/sendmail/sendmail/stab.c		1.6
gnu/dist/sendmail/sendmail/udb.c		1.4
gnu/dist/sendmail/sendmail/usersmtp.c		1.7-1.8
gnu/dist/sendmail/sendmail/util.c		1.7-1.8
gnu/dist/sendmail/sendmail/version.c		1.8-1.10 via patch
gnu/dist/sendmail/smrsh/smrsh.0			1.1.1.4
gnu/dist/sendmail/smrsh/smrsh.c			1.8
gnu/dist/sendmail/test/t_snprintf.c		1.1.1.2
gnu/dist/sendmail/vacation/vacation.0		1.4-1.5
gnu/dist/sendmail/vacation/vacation.1		1.4
gnu/dist/sendmail/vacation/vacation.c		1.7
gnu/usr.sbin/sendmail/Makefile.inc		1.5
gnu/usr.sbin/sendmail/cf/cf/Makefile		1.16-1.17
gnu/usr.sbin/sendmail/cf/ostype/Makefile	1.6-1.7
gnu/usr.sbin/sendmail/libsmdb/Makefile		1.2-1.3
gnu/usr.sbin/sendmail/libsmutil/Makefile	1.3-1.4

  Upgrade to sendmail version 8.11.6.

bin/sh/trap.c					1.25-1.26
bin/sh/sh.1					1.41

  Extend functionality of the trap builtin, which now more closely
  follows POSIX recommendations:
   o accept signal names as well as signal numbers
   o add ``-l'' option which outputs list of valid signals
   o add signal EXIT to list of valid signals
   o an ``-'' in the action part will reset signal to default behaviour
   o changed standard output of ``trap'' to make it suitable as
     subsequent input
  Also various cleanups of redundant declarations and nested externs.

sys/arch/i386/isa/npx.c				1.84

  Cope correctly with earlier update of i386 include/frame.h, which
  put if_gs at the start of trapframe.  Fixes PR#14040.

etc/mtree/special				1.39

  Change /etc/primes to /etc/moduli, which we now ship instead.
  Fixes part of PR#15572.

usr.sbin/pkg_install/create/pl.c		1.22

  Make @cwd work a bit more reliable, e.g. when -L is used.

sys/dev/pcmcia/if_wi.c				patch

  Protect calls to wi_cmd() by proper spl* pairs, to avoid periodic
  busy loops.  Fixes PR#14559.

sys/arch/atari/conf/ATARITT			patch
sys/arch/atari/conf/FALCON			patch
sys/arch/atari/conf/HADES			patch

  Remove the vlan device because it causes link failure on this
  port.

bin/sh/eval.c					1.58

  When ``-e'' is in effect, do not exit if the failing command is
  part of an && or || list, or preceded by the ``!'' reserved word.
  Fixes PR#11542.

sys/arch/mac68k/dev/if_ae.c			1.71

  Detect the full 64KB of buffer on many Nubus ethernet cards.
  Fixes PR#14455.

usr.sbin/pkg_install/README			1.6
usr.sbin/pkg_install/add/Makefile		1.5
usr.sbin/pkg_install/add/extract.c		1.23
usr.sbin/pkg_install/add/main.c			1.23
usr.sbin/pkg_install/add/perform.c		1.59-1.61
usr.sbin/pkg_install/add/pkg_add.1		1.28-1.33
usr.sbin/pkg_install/add/verify.c		1.1-1.2 (new)
usr.sbin/pkg_install/add/verify.h		1.1 (new)
usr.sbin/pkg_install/admin/pkg_admin.1		1.14-1.16
usr.sbin/pkg_install/create/create.h		1.15-1.16
usr.sbin/pkg_install/create/main.c		1.18-1.20
usr.sbin/pkg_install/create/perform.c		1.26-1.28
usr.sbin/pkg_install/create/pkg_create.1	1.28-1.31
usr.sbin/pkg_install/create/pl.c		1.20-1.21
usr.sbin/pkg_install/delete/perform.c		1.33-1.34
usr.sbin/pkg_install/delete/pkg_delete.1	1.21-1.24
usr.sbin/pkg_install/info/main.c		1.25-1.27
usr.sbin/pkg_install/info/pkg_info.1		1.25-1.28
usr.sbin/pkg_install/lib/defs.h			1.1 (new)
usr.sbin/pkg_install/lib/exec.c			1.8
usr.sbin/pkg_install/lib/file.c			1.48
usr.sbin/pkg_install/lib/ftpio.c		1.32-1.34
usr.sbin/pkg_install/lib/lib.h			1.35-1.36
usr.sbin/pkg_install/lib/pkgdb.c		1.9
usr.sbin/pkg_install/lib/plist.c		1.29-1.31
usr.sbin/pkg_install/lib/str.c			1.30-1.33
usr.sbin/pkg_install/lib/version.h		1.5-1.10
usr.sbin/pkg_install/tkpkg			1.5

  Synchronize with recent developments:
   o Support digital signatures in binary packages
   o Use full path name to tar; fixes PR#14072
   o Fix ``pkg_add -u'' for packages without dependencies; fixes PR#13536
   o Add ``-U'' and ``-I'' options
   o Close some memory leaks; fixes PR#12830
   o Add ``-n'' argument to show needed packages; fixes PR#13071
   o Fix pkg_info to not FTP unneccessarily; fixes PR#13397
   o Improve version number handling by recognizing "pl" and "rc"
   o Various internal cleanups, bugfixes, and API tweaks

distrib/sets/maketars				1.15

  If, during construction of an install set, pax did not find one
  or more files, error out.

distrib/notes/sparc/install			1.45

  Correct symlink example in netboot section; fixes PR#14809.

distrib/notes/common/main			1.157

  Replace tab with 8 spaces to get more sane formatting.

distrib/notes/Makefile.inc			1.15-1.21
distrib/notes/common/macros			1.11-1.15
distrib/notes/common/main			1.145,1.154 via patch
distrib/notes/common/sysinst			1.26 
distrib/notes/i386/hardware			1.97 via patch

  Add Table of Contents to the install notes. 

bin/ksh/Makefile				1.14-1.16
bin/ksh/c_ksh.c					1.6
bin/ksh/c_sh.c					1.4
bin/ksh/config.h				1.5
bin/ksh/exec.c					1.6
bin/ksh/expand.h				1.4
bin/ksh/io.c					1.6
bin/ksh/jobs.c					1.6
bin/ksh/ksh.Man					1.3-1.6
bin/ksh/lex.h					1.4
bin/ksh/misc.c					1.5
bin/ksh/shf.c					1.4
bin/ksh/trap.c					1.4
bin/ksh/var.c					1.7
bin/ksh/vi.c					1.6

  Synchronize with current development version.  Fixes:
   o fix problem with ``set -x'' causing a core dump; fixes PR#11361
   o fix problem with ``set -e'' causing early exit; fixes PR#11542
   o fix various misspellings and nested extern declarations

distrib/sets/maketars				1.17 via patch

  Collect exit status for all set constructions before exiting.

sys/netinet6/ip6_input.c			patch
sys/netinet6/ip6_forward.c			patch
sys/netinet6/ip6_output.c			patch

  Fix it so that IPFilter handles IPv6 traffic.

distrib/utils/sysinst/msg.mi.en			1.84
distrib/utils/sysinst/msg.mi.fr			1.42
distrib/utils/sysinst/net.c			1.76

  Allow the user to continue the install even if sysinst thinks
  that the network configure failed (caused by e.g. failure of the
  default gateway to respond to ping).

distrib/notes/i386/hardware			patch
distrib/sets/lists/man/mi			patch
share/man/man4/Makefile				patch
share/man/man4/pci.4				patch
share/man/man4/sip.4				1.1-1.2 (new)

  Add manual page for the sip(4) Ethernet driver.

sys/net/if_gre.c				1.26 via patch
sys/net/if_gre.h				1.10
sys/netinet/in.h				1.56 via patch
sys/netinet/ip_input.c				1.144
share/man/man4/gre.4				1.20

  Clear M_BCAST and M_MCAST on encapsulated packets on outgoing
  mbufs.  Also do not copy TTL from the inner packet, and make the
  outer TTL sysctl'able.  Fixes PR#14269, and makes traceroute work
  over GRE tunnels.

etc/mtree/special				1.52 via patch

  Mark /etc/mk.conf optional, fixing PR#15572.

sys/netinet/ip_input.c				1.145

  Correctly enforce ipsec policy check in IPv4 forwarding case.
  Fixes SA#2002-003.

sys/ufs/ffs/ffs_inode.c				patch

  Fix a panic in the FFS sofdep code on an NFS server triggered by
  an excerciser program run on an NFS client.

sys/ufs/ffs/ffs_vnops.c				1.47 via patch
sys/ufs/ufs/ufs_vnops.c				1.84-1.85

  Correct a mistake made in the original merge-in of the softdep
  code, and fix a problem which caused ffs_fsync to do unneeded
  sync writes.

distrib/notes/alpha/Makefile			1.3
distrib/notes/amiga/Makefile			1.2
distrib/notes/arm32/Makefile			1.3
distrib/notes/atari/Makefile			1.2
distrib/notes/hp300/Makefile			1.2
distrib/notes/hpcmips/Makefile			1.3
distrib/notes/i386/Makefile			1.5
distrib/notes/mac68k/Makefile			1.3
distrib/notes/macppc/Makefile			1.3
distrib/notes/mvme68k/Makefile			1.2
distrib/notes/news68k/Makefile			1.3
distrib/notes/next68k/Makefile			1.2
distrib/notes/pc532/Makefile			1.2
distrib/notes/pmax/Makefile			1.3
distrib/notes/sparc/Makefile			1.2
distrib/notes/sparc64/Makefile			1.2
distrib/notes/sun3/Makefile			1.2
distrib/notes/vax/Makefile			1.3
distrib/notes/x68k/Makefile			1.2

  Use bsd.man.mk instead of bsd.prog.mk, and do cleaning differently.

distrib/sets/lists/base/shl.mi			patch
distrib/sets/lists/comp/mi			patch
distrib/sets/lists/man/mi			patch
include/util.h					1.16-1.18 via patch
lib/libutil/Makefile				1.26 via patch
lib/libutil/passwd.c				1.20-1.23
lib/libutil/pw_getconf.3			1.1-1.4 (new)
lib/libutil/shlib_version			patch
share/man/man5/Makefile				1.33
share/man/man5/passwd.conf.5			1.1-1.4 (new)
usr.bin/chpass/chpass.1				1.15
usr.bin/passwd/Makefile				1.27
usr.bin/passwd/extern.h				1.8
usr.bin/passwd/krb5_passwd.c			1.9
usr.bin/passwd/local_passwd.c			1.20
usr.bin/passwd/passwd.1				1.14
usr.bin/passwd/passwd.c				1.20
usr.bin/passwd/pwd_gensalt.c			1.1-1.5 (new)
usr.bin/passwd/yp_passwd.c			1.23

  Add support for local MD5-encrypted passwords.

sys/netinet/ip_nat.c				patch

  Prevent panic when packets are received in a certain order.

distrib/notes/common/main			patch

  Minor update for 1.5.3: add a list of notable changes for 1.5.3,
  and note a caveat about the IPF update.

distrib/sets/maketars				patch

  Actually make the exit status collection work.

gnu/usr.sbin/sendmail/cf/ostype/aux.m4		delete
distrib/sets/lists/misc/mi			patch

  Remove a no-longer-installed file, and update set lists accordingly.

distrib/notes/common/sysinst                    1.27,1.29
distrib/notes/common/postinstall                1.29,1.31
distrib/notes/common/main               1.137-1.141,1.143,1.146-1.147,1.149
distrib/notes/macppc/hardware                   1.14,1.21
distrib/notes/macppc/install                    1.18
distrib/notes/macppc/prep                       1.19,1.21,1.24

  Various fixes:
   o Significant fixes/rework for macppc section:
     - Tweak ``Quick install'' section for macppc
     - OpenFirmware boot syntax section
     - Update/correct description of boot problems
     - Mention de0 as macppc possible interface
     - Other improvements and fixes
   o Add recently added developers
   o Formatting and spelling fixes

distrib/notes/common/main			patch

  Note FFS softdep performance improvement.

distrib/notes/common/main			patch

  Note package tools digital signatures and version number handling.

sys/compat/freebsd/freebsd_misc.c		1.6-1.7
sys/compat/freebsd/freebsd_signal.h		1.1 (new)
sys/compat/freebsd/freebsd_syscall.h		regenerate
sys/compat/freebsd/freebsd_syscallargs.h	regenerate
sys/compat/freebsd/freebsd_syscalls.c		regenerate
sys/compat/freebsd/freebsd_sysent.c		regenerate
sys/compat/freebsd/syscalls.master		1.28-1.30

  Add support for FreeBSD 4.x signals; fixes PR#9769.

distrib/sets/lists/etc/mi			1.91 via patch
etc/defaults/rc.conf				1.19,1.28,1.31 via patch
etc/rc.d/ipfs					1.1-1.3 (new)
etc/rc.d/ipmon					1.4-1.5
etc/rc.d/Makefile				1.27 via patch
share/man/man5/rc.conf.5			1.52

  Added ipfs to save state tables.  Use -D for ipmon.

bin/rm/rm.c					1.28

  Fix a problem where ``rm -rf foo'' exits with a non-zero exit status
  on a read-only file system even if foo doesn't exist.

usr.bin/newsyslog/Makefile			1.13
usr.bin/newsyslog/newsyslog.8			1.13-1.21
usr.bin/newsyslog/newsyslog.c			1.22-1.43 via patch
usr.bin/newsyslog/pathnames.h			1.1-1.2 (new)

  Synchronize to current development version.  This includes among
  other things the ``specific time for periodic trimming'' feature.

sys/arch/macppc/macppc/machdep.c		1.110 via patch

  Make sure I/O BATs are set to be guarded and cache-inhibited, so
  as to disallow speculative loads within them.  This dould otherwise
  cause random Machine Checks on 7450 (G4) based machines.

sys/sys/exec_elf.h				1.41
sys/compat/freebsd/freebsd_exec.c		patch

  Recognize FreeBSD ELFOSABI marked executables.

crypto/dist/ssh/channels.c			1.18
crypto/dist/ssh/version.h			patch

  Fix off by one error in channel number check.  Fixes SA#2002-004.

distrib/sets/lists/misc/mi			patch

  Add sendmail ostype/freebsd4.m4 file.

sys/dev/pci/if_tl.c				1.49 via patch

  Make sure ifp->sc_softc is initialized before we set the media
  callbacks.

sys/dev/pci/if_sip.c				patch

  Fix an uninitialized pointer in sip_start(), which might eventually
  lead to a crash, especially if bpf is used.

sys/dev/i2o/iop.c				1.23

  Don't panic if the board fails to respond during initialization.
  Fixes PR#15552.

sys/dev/pci/esa.c				patch

  Fix timing of playback at 48kHz.

distrib/notes/common/contents			patch

  Update with new set sizes for man and misc.

sys/dev/i2o/iop.c				1.19-1.23 via patch

  Use variable frame size to enable dpti firmware upgrades.
  Don't explode if the board doesn't respond during initialization.

distrib/notes/common/main			patch

  Change ``patch releases'' to ``maintenance releases''.

sys/conf/osrelease.sh				patch
share/tmac/doc-common				patch

  Mark what we have now as ``Release Candidate 1'' (1.5.3_RC1).

sys/netinet/tcp_input.c				1.136

  Support tcp_log_refused for IPv6.

usr.bin/m4/main.c				1.25
usr.bin/m4/misc.c				1.11

  Fix a conversion bug internal to m4 which causes it to output
  0xff as the last byte of output.

usr.sbin/pkg_install/delete/main.c		1.18

  Improve error reporting when a pattern is given but the system
  is freshly installed so the package DB doesn't exist.

sys/arch/sparc/stand/binstall/binstall.sh	1.8
distrib/sparc/bootfs/Makefile			1.27
distrib/sparc/miniroot/list			1.21

  Add ``-f'' option to binstall.sh and use it.  This is allows boot
  media construction when securelevel > 0.

sys/arch/sparc/sparc/promlib.c			1.10

  Wrap SUN4-only code by the proper ifdef.

sys/arch/i386/pci/pchb.c			1.32

  Correct the attach flags to enable IO space on the Intel 450NX.

crypto/dist/ssh/auth-krb5.c			1.7

  Do not try to use the krb5 context if the init fails; fixes
  PR#15585.

lib/libz/ChangeLog				1.6
lib/libz/README					1.6
lib/libz/adler32.c				1.7
lib/libz/algorithm.doc				delete
lib/libz/algorithm.txt				1.1 (new)
lib/libz/compress.c				1.7
lib/libz/crc32.c				1.8
lib/libz/deflate.c				1.8
lib/libz/deflate.h				1.8
lib/libz/example.c				1.9
lib/libz/gzio.c					1.12
lib/libz/infblock.c				1.6
lib/libz/infblock.h				1.7
lib/libz/infcodes.c				1.6
lib/libz/infcodes.h				1.7
lib/libz/inffast.c				1.6
lib/libz/inffast.h				1.7
lib/libz/inflate.c				1.6
lib/libz/inftrees.c				1.7
lib/libz/inftrees.h				1.7
lib/libz/infutil.c				1.6
lib/libz/infutil.h				1.7
lib/libz/minigzip.c				1.11
lib/libz/trees.c				1.8
lib/libz/uncompr.c				1.7
lib/libz/zconf.h				1.11
lib/libz/zlib.h					1.12
lib/libz/zutil.c				1.8
lib/libz/zutil.h				1.11
sys/lib/libz/adler32.c				1.4
sys/lib/libz/crc32.c				1.4
sys/lib/libz/infblock.c				1.4
sys/lib/libz/infblock.h				1.4
sys/lib/libz/infcodes.c				1.4
sys/lib/libz/infcodes.h				1.4
sys/lib/libz/inffast.c				1.4
sys/lib/libz/inffast.h				1.4
sys/lib/libz/inffixed.h				1.4
sys/lib/libz/inflate.c				1.4
sys/lib/libz/inftrees.c				1.5
sys/lib/libz/inftrees.h				1.4
sys/lib/libz/infutil.c				1.4
sys/lib/libz/infutil.h				1.4
sys/lib/libz/uncompr.c				1.4
sys/lib/libz/zconf.h				1.4
sys/lib/libz/zlib.h				1.4
sys/lib/libz/zutil.h				1.10
sys/net/zlib.c					1.11-1.12,1.14-1.17
sys/net/zlib.h					1.6
sys/netinet6/ipcomp_core.c			1.17-1.19

  Upgrade libz to 1.1.4 due to a possible security bug.

sys/net/ppp-deflate.c				1.11

  Fix a problem related to compression which would cause a lot of
  logged incorrect warnings.

sys/compat/osf1/syscalls.master			1.37
sys/compat/osf1/osf1_syscall.h			regenerate
sys/compat/osf1/osf1_syscallargs.h		regenerate
sys/compat/osf1/osf1_sysent.c			regenerate
sys/compat/osf1/osf1_syscalls.c			regenerate

  Add entry for flock(), needed by Netscape communicator.

etc/changelist					patch
etc/mtree/special				patch

  Check the postfix files for changes.  Fixes PR#15659.

etc/changelist					patch

  Remove /etc/primes, add /etc/moduli, following openssh upgrade.
  Fixes PR#15486.

distrib/sets/lists/comp/md.arc			1.12

  There is no arc/cpuregs.h, so don't list it as being distributed.

distrib/alpha/instkernel/Makefile.inc		patch
distrib/alpha/instkernel/ramdisk/Makefile	patch
distrib/amiga/floppies/Makefile.inc		patch
distrib/amiga/floppies/inst-common/Makefile.inc	patch
distrib/arm32/Makefile.inc			patch
distrib/arm32/ramdisk/Makefile			patch
distrib/bebox/floppies/Makefile.inc		patch
distrib/bebox/floppies/ramdisk/Makefile		patch
distrib/bebox/floppies/ramdisk/Makefile.inc	patch
distrib/i386/floppies/Makefile.inc		patch
distrib/i386/floppies/ramdisk-big/Makefile	patch
distrib/i386/floppies/ramdisk-small/Makefile	patch
distrib/i386/floppies/ramdisk-tiny/Makefile	patch
distrib/mac68k/instkernel/Makefile.inc		patch
distrib/mac68k/instkernel/ramdisk/Makefile	patch
distrib/macppc/floppies/Makefile.inc		patch
distrib/macppc/floppies/ramdisk/Makefile	patch
distrib/miniroot/Makefile			patch
distrib/mvme68k/ramdisk/Makefile		patch
distrib/news68k/floppies/Makefile.inc		patch
distrib/news68k/floppies/ramdisk/Makefile	patch
distrib/newsmips/floppies/Makefile.inc		patch
distrib/newsmips/floppies/ramdisk/Makefile	patch
distrib/pc532/floppies/Makefile.inc		patch
distrib/pc532/floppies/inst-common/Makefile.inc	patch
distrib/pmax/Makefile.inc			patch
distrib/pmax/ramdisk/Makefile			patch
distrib/sparc/Makefile.inc			patch
distrib/sparc/ramdisk/Makefile			patch
distrib/sparc64/xminiroot/Makefile		patch
distrib/sun3/Makefile.inc			patch
distrib/sun3/common/Make.crunch			patch
distrib/vax/Makefile.inc			patch
distrib/vax/ramdisk/Makefile			patch
distrib/x68k/floppies/Makefile.inc		patch
distrib/x68k/floppies/ramdisk-common/Makefile.inc patch

  Introduce dependency between ramdisk/miniroot construction and
  osrelease.sh, to better support UPDATE builds of releases.

distrib/notes/common/main			patch

  Correct error in ``Major changes between 1.5 and 1.5.1'' list
  wrt. which version of DHCP software we shipped.  Fixes PR#12857.

sys/dev/pci/pcidevs				1.412 via patch
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pciide.c				1.145
share/man/man4/pciide.4				1.37
distrib/notes/i386/hardware			1.102
distrib/notes/common/main			patch

  Add support for the pciide part of the AMD-768 chipset.

sys/dev/pci/if_sip.c				1.49 via patch

  Fix multicast reception on DP83815.  Fixes PR#15998.

gnu/lib/libgcc/Makefile				1.13

  Add __udiv_w_sdiv for VAX, required for gnupg.  Fixes PR#14987.

sys/arch/i386/pnpbios/ym_pnpbios.c		1.5-1.6
sys/dev/ic/ad1848.c				1.10-1.14
sys/dev/ic/ad1848var.h				1.8
sys/dev/ic/opl3sa3reg.h				1.2
sys/dev/isa/ad1848_isa.c			1.16,1.19-1.21
sys/dev/isa/mpu_ym.c				1.2-1.3
sys/dev/isa/opl_ym.c				1.2-1.3
sys/dev/isa/ym.c				1.19-1.21 via patch
sys/dev/isa/ymvar.h				1.7-1.8 via patch
sys/dev/isapnp/ym_isapnp.c			1.12-1.13

  Several changes to wss-compatible audio devices:
   o Fix ADPCM playback/recording
   o Add explicit support for OPL3-SA2 (YMF711), fixes PR#14819
   o Add AD1845 support
   o other minor bugfixes and cleanups

sbin/dump/dump.h				1.27 via patch
sbin/dump/main.c				1.33-1.34 via patch
sbin/dump/optr.c				1.17 via patch

  Improve behaviour when a path is given:
   1) check if the path is an unmounted file system listed in fstab
   2) check if it is a path to a mounted file system not listed in fstab
  Fixes PR#15790.

sys/arch/i386/i386/pmap.c			1.136 via patch
sys/arch/pc532/pc532/pmap.c			1.69 via patch
sys/arch/sh3/sh3/pmap.c				1.36 via patch

  Avoid accounting errors in pmap_enter() by only updating the counters
  once the operation can no longer fail.  Fixes PR#16028.

sys/kern/sys_generic.c				1.62 via patch

  Make sure file descriptor is properly FILE_UNUSE()d in error case
  of writev.

lib/libm/arch/i387/s_ceil.S			1.6
lib/libm/arch/i387/s_ceilf.S			1.5-1.6
lib/libm/arch/i387/s_floor.S			1.7
lib/libm/arch/i387/s_floorf.S			1.5

  Fix stack usage so that a signal delivered in ceil() or floor()
  no longer corrupts the stack.

sys/dev/pcmcia/if_ep_pcmcia.c			1.37

  Search for space to attach 3c562 correctly.

distrib/notes/common/sysinst			1.30

  Switch to constant-width font before the sysinst menu, to improve
  formatting.

distrib/notes/common/sysinst			1.31

  Make sure sysinst menu stays on one page.

distrib/notes/common/sysinst			patch

  Make the sysinst example menu say 1.5.3.

distrib/notes/i386/hardware			1.103

  Expand tabulators for reasonable .html formatting.

distrib/notes/common/main			patch

  Note that the network device driver fixes are ``various different''.

lib/libc/gen/syslog.c				1.27

  Add a single retry into syslog(), to cope with a restarted syslogd,
  so that log messages don't get lost.  Most useful for long-running
  programs.  Fixes PR#11087.

sys/netinet/tcp_input.c				1.138-1.140 via patch
sys/netinet/in.c				1.75

  Reject TCP SYN packets sent to the broadcast address.

distrib/notes/common/main			patch

  Note that arm32 X11 needs to be built from 1.5.2 sources due to
  non-backward-compatible changes in xsrc for arm32.

sys/conf/osrelease.sh				patch

  Mark this as NetBSD 1.5.3.

sys/compat/linux/arch/i386/linux_machdep.c	1.75
sys/arch/i386/i386/freebsd_machdep.c		1.32
sys/arch/i386/i386/svr4_machdep.c		1.62

  Fix restoral of %fs / %gs in i386 emulation code.

sys/arch/mac68k/conf/GENERICSBC			patch (new)
sys/arch/mac68k/conf/INSTALLSBC			patch (new)

  Add configurations which use the MI NCR 5380 driver, based on
  GENERIC and INSTALL.

etc/etc.mac68k/Makefile.inc			patch

  Also build the INSTALLSBC and GENERICSBC kernels.
