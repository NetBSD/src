/* $NetBSD: comment-line-end.0,v 1.8 2021/09/30 22:45:34 rillig Exp $ */
/* $FreeBSD$ */

/*
 * Demonstrates handling of line-end '//' comments.
 *
 * Even though this type of comments had been added in C99, indent didn't
 * support these comments until 2021 and instead messed up the code in
 * unpredictable ways.
 */

int dummy // comment
= // eq
1 // one
+ // plus
2; // two

/////separator/////

void function(void){}

// Note: removing one of these line-end comments affected the formatting
// of the main function below, before indent supported '//' comments.

int
main(void)
{
}

void c99_comment(void)
{
foo(); // C++ comment
bar();
}

void
comment_at_end_of_function(void)
{
    if (cond)
	statement();
    // comment
}

// end-of-line comment at the end of the file
