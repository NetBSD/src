<html lang="en">
<head>
<title>Ntp-wait User's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Ntp-wait User's Manual">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Ntp-wait User's Manual</h1>
<div class="node">
<p><hr>
<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Description">ntp-wait Description</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
<br>
</div>

  <p>This document describes the use of the NTP Project's <code>ntp-wait</code> program.

  <p>If there are time-sensitive applications,
the proper sequence of events is to
run <code>ntpd -g</code> as early as possible,
then invoke all of the non-time-sensitive process,
run <code>ntp-wait</code> to block
until the system's time has stabilized and synchronized,
and only then start any applicaitons (like database servers) that require
accurate and stable time.

  <p>This document applies to version 4.2.7p404 of <code>ntp-wait</code>.

<div class="shortcontents">
<h2>Short Contents</h2>
<ul>
</ul>
</div>

<ul class="menu">
<li><a accesskey="1" href="#ntp_002dwait-Description">ntp-wait Description</a>:             Description
<li><a accesskey="2" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>: 		Invoking ntp-wait
</ul>

<div class="node">
<p><hr>
<a name="ntp_002dwait-Invocation"></a>
<br>
</div>

<h3 class="section">0.1 Invoking ntp-wait</h3>

<p><a name="index-ntp_002dwait-1"></a><a name="index-Wait-for-ntpd-to-stabilize-the-system-clock-2"></a>

  <p><code>ntp-wait</code>
will send at most
<kbd>num-tries</kbd>
queries to
<code>ntpd(8)</code>,
sleeping for
<kbd>secs-between-tries</kbd>
after each status return that says
<code>ntpd(8)</code>
has not yet produced a synchronized and stable system clock.

  <p><code>ntp-wait</code>
will do this quietly, unless the
<code>-v</code>
flag is provided. 
This can be useful at boot time, to delay the boot sequence until after
<kbd>ntpd</kbd> <kbd>-g</kbd>
has set the time.

  <p>This section was generated by <strong>AutoGen</strong>,
using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp-wait</code> program.

<ul class="menu">
<li><a accesskey="1" href="#ntp_002dwait-usage">ntp-wait usage</a>:                   ntp-wait help/usage (<span class="option">--help</span>)
<li><a accesskey="2" href="#ntp_002dwait-tries">ntp-wait tries</a>:                   tries option (-n)
<li><a accesskey="3" href="#ntp_002dwait-sleep">ntp-wait sleep</a>:                   sleep option (-s)
<li><a accesskey="4" href="#ntp_002dwait-verbose">ntp-wait verbose</a>:                 verbose option (-v)
<li><a accesskey="5" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>:             exit status
<li><a accesskey="6" href="#ntp_002dwait-Authors">ntp-wait Authors</a>:                 Authors
<li><a accesskey="7" href="#ntp_002dwait-Notes">ntp-wait Notes</a>:                   Notes
</ul>

<div class="node">
<p><hr>
<a name="ntp_002dwait-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-tries">ntp-wait tries</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.1 ntp-wait help/usage (<span class="option">--help</span>)</h4>

<p><a name="index-ntp_002dwait-help-3"></a>
This is the automatically generated usage text for ntp-wait.

  <p>The text printed is the same whether selected with the <code>help</code> option
(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
the usage text by passing it through a pager program. 
<code>more-help</code> is disabled on platforms without a working
<code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
used to select the program, defaulting to <span class="file">more</span>.  Both will exit
with a status code of 0.

<pre class="example">ntp-wait - Wait for ntpd to stabilize the system clock
USAGE: ntp-wait [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...

    -n, --tries=num              Number of times to check ntpd
    -s, --sleep=num              How long to sleep between tries
    -v, --verbose                Be verbose
    -?, --help                   Display usage information and exit
      , --more-help              Pass the extended usage information through a pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.
</pre>
  <div class="node">
<p><hr>
<a name="ntp_002dwait-tries"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-sleep">ntp-wait sleep</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-usage">ntp-wait usage</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.2 tries option (-n)</h4>

<p><a name="index-ntp_002dwait_002dtries-4"></a>
This is the &ldquo;number of times to check ntpd&rdquo; option. 
This option takes a number argument. 
        The maximum number of times we will check <code>ntpd</code> to see if
        it has been able to synchronize and stabilize the system clock. 
<div class="node">
<p><hr>
<a name="ntp_002dwait-sleep"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-verbose">ntp-wait verbose</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-tries">ntp-wait tries</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.3 sleep option (-s)</h4>

<p><a name="index-ntp_002dwait_002dsleep-5"></a>
This is the &ldquo;how long to sleep between tries&rdquo; option. 
This option takes a number argument <span class="file">secs-between-tries</span>. 
        We will sleep for <span class="file">secs-between-tries</span> after each query
        of <code>ntpd</code> that returns "the time is not yet stable". 
<div class="node">
<p><hr>
<a name="ntp_002dwait-verbose"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-sleep">ntp-wait sleep</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.4 verbose option (-v)</h4>

<p><a name="index-ntp_002dwait_002dverbose-6"></a>
This is the &ldquo;be verbose&rdquo; option. 
        By default, <code>ntp-wait</code> is silent. 
        With this option, <code>ntp-wait</code> will provide status information. 
<div class="node">
<p><hr>
<a name="ntp_002dwait-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-verbose">ntp-wait verbose</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.5 ntp-wait exit status</h4>

<p>One of the following exit values will be returned:
     <dl>
<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
</dl>
  <div class="node">
<p><hr>
<a name="ntp_002dwait-Authors"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Notes">ntp-wait Notes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.6 ntp-wait Authors</h4>

<div class="node">
<p><hr>
<a name="ntp_002dwait-Notes"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
<br>
</div>

<h4 class="subsection">0.1.7 ntp-wait Notes</h4>

</body></html>

