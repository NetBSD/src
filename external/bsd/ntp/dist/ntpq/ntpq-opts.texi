@node ntpq Invocation
@section Invoking ntpq
@pindex ntpq
@cindex standard NTP query program
@ignore
# 
# EDIT THIS FILE WITH CAUTION  (ntpq-opts.texi)
# 
# It has been AutoGen-ed  December 24, 2011 at 06:34:35 PM by AutoGen 5.12
# From the definitions    ntpq-opts.def
# and the template file   aginfo.tpl
@end ignore
This program has no explanation.

The
[= prog-name =]
utility program is used to query NTP servers which
implement the standard NTP mode 6 control message formats defined
in Appendix B of the NTPv3 specification RFC1305, requesting
information about current state and/or changes in that state.
The same formats are used in NTPv4, although some of the
variables have changed and new ones added.

This section was generated by @strong{AutoGen},
the aginfo template and the option descriptions for the @command{ntpq} program.  It documents the @command{ntpq} usage text and option meanings.

This software is released under a specialized copyright license.

@menu
* ntpq usage::                  ntpq usage help (-?)
* ntpq command::               command option (-c)
* ntpq debug-level::           debug-level option (-d)
* ntpq interactive::           interactive option (-i)
* ntpq ipv4::                  ipv4 option (-4)
* ntpq ipv6::                  ipv6 option (-6)
* ntpq numeric::               numeric option (-n)
* ntpq old-rv::                old-rv option
* ntpq peers::                 peers option (-p)
* ntpq set-debug-level::       set-debug-level option (-D)
@end menu

@node ntpq usage
@subsection ntpq usage help (-?)
@cindex ntpq usage

This is the automatically generated usage text for ntpq:

@exampleindent 0
@example
ntpq - standard NTP query program - Ver. 4.2.6p5
USAGE:  ntpq [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... [ host ...]
  Flg Arg Option-Name    Description
   -4 no  ipv4           Force IPv4 DNS name resolution
                                - prohibits these options:
                                ipv6
   -6 no  ipv6           Force IPv6 DNS name resolution
                                - prohibits these options:
                                ipv4
   -c Str command        run a command and exit
                                - may appear multiple times
   -d no  debug-level    Increase output debug message level
                                - may appear multiple times
   -D Str set-debug-level Set the output debug message level
                                - may appear multiple times
   -p no  peers          Print a list of the peers
                                - prohibits these options:
                                interactive
   -i no  interactive    Force ntpq to operate in interactive mode
                                - prohibits these options:
                                command
                                peers
   -n no  numeric        numeric host addresses
      no  old-rv         Always output status line with readvar
      opt version        Output version information and exit
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager
   -> opt save-opts      Save the option state to a config file
   -< Str load-opts      Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.

The following option preset mechanisms are supported:
 - reading file $HOME/.ntprc
 - reading file ./.ntprc
 - examining environment variables named NTPQ_*

The [= prog-name =] utility program is used to query NTP servers which
implement the standard NTP mode 6 control message formats defined in
Appendix B of the NTPv3 specification RFC1305, requesting information
about current state and/or changes in that state.  The same formats are
used in NTPv4, although some of the variables have changed and new ones
added.

please send bug reports to:  http://bugs.ntp.org, bugs@@ntp.org
@end example
@exampleindent 4

@node ntpq command
@subsection command option (-c)
@cindex ntpq-command

This is the ``run a command and exit'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
may appear an unlimited number of times.
@end itemize

The following argument is interpreted as an interactive format command
and is added to the list of commands to be executed on the specified
host(s).

@node ntpq debug-level
@subsection debug-level option (-d)
@cindex ntpq-debug-level

This is the ``increase output debug message level'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
may appear an unlimited number of times.
@end itemize

Increase the debugging message output level.

@node ntpq interactive
@subsection interactive option (-i)
@cindex ntpq-interactive

This is the ``force ntpq to operate in interactive mode'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must not appear in combination with any of the following options:
command, peers.
@end itemize

Force ntpq to operate in interactive mode.  Prompts will be written
to the standard output and commands read from the standard input.

@node ntpq ipv4
@subsection ipv4 option (-4)
@cindex ntpq-ipv4

This is the ``force ipv4 dns name resolution'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must not appear in combination with any of the following options:
ipv6.
@end itemize

Force DNS resolution of following host names on the command line
to the IPv4 namespace.

@node ntpq ipv6
@subsection ipv6 option (-6)
@cindex ntpq-ipv6

This is the ``force ipv6 dns name resolution'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must not appear in combination with any of the following options:
ipv4.
@end itemize

Force DNS resolution of following host names on the command line
to the IPv6 namespace.

@node ntpq numeric
@subsection numeric option (-n)
@cindex ntpq-numeric

This is the ``numeric host addresses'' option.
Output all host addresses in dotted-quad numeric format rather than
converting to the canonical host names. 

@node ntpq old-rv
@subsection old-rv option
@cindex ntpq-old-rv

This is the ``always output status line with readvar'' option.
By default, ntpq now suppresses the associd=... line that
precedes the output of "readvar" (alias "rv") when a single
variable is requested, such as ntpq -c "rv 0 offset".  This
option causes ntpq to include both lines of output for a
single-variable readvar.  Using an environment variable to
preset this option in a script will enable both older and
newer ntpq to behave identically in this regard.

@node ntpq peers
@subsection peers option (-p)
@cindex ntpq-peers

This is the ``print a list of the peers'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must not appear in combination with any of the following options:
interactive.
@end itemize

Print a list of the peers known to the server as well as a summary
of their state. This is equivalent to the 'peers' interactive command.

@node ntpq set-debug-level
@subsection set-debug-level option (-D)
@cindex ntpq-set-debug-level

This is the ``set the output debug message level'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
may appear an unlimited number of times.
@end itemize

Set the output debugging level.  Can be supplied multiple times,
but each overrides the previous value(s).
