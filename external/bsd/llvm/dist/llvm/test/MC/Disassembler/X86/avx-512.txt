# RUN: llvm-mc --disassemble %s -triple=x86_64-apple-darwin9 -mcpu=knl | FileCheck %s

# CHECK: vpbroadcastd    %xmm18, %zmm28 {%k7} {z}
0x62 0x22 0x7d 0xcf 0x58 0xe2

# CHECK: vbroadcastss    (%rsp), %zmm28
0x62 0x62 0x7d 0x48 0x18 0x24 0x24

# CHECK: vblendmpd       (%rsi), %zmm2, %zmm8 {%k7}
0x62 0x72 0xed 0x4f 0x65 0x06

# CHECK: vpermpd (%rsi,%r10,4), %zmm2, %zmm8
0x62 0x32 0xed 0x48 0x16 0x04 0x96

# CHECK: vpbroadcastmw2d %k2, %zmm8
0x62 0xd2 0x7e 0x48 0x3a 0xd0

# CHECK: vpbroadcastq    (%r9,%rax), %zmm28
0x62 0x42 0xfd 0x48 0x59 0x24 0x01

# CHECK: vbroadcastss    %xmm0, %zmm1
0x62 0xf2 0x7d 0x48 0x18 0xc8

# CHECK: vextracti32x4   $4, %zmm0, (%r10)
0x62 0xd3 0x7d 0x48 0x39 0x02 0x04

# CHECK: vextracti32x4   $4, %zmm0, %xmm1
0x62 0xf3 0x7d 0x48 0x39 0xc1 0x04

# CHECK: vinserti32x4    $1, %xmm21, %zmm5, %zmm17
0x62 0xa3 0x55 0x48 0x38 0xcd 0x01

# CHECK: vmovaps %zmm21, %zmm5 {%k3}
0x62 0xb1 0x7c 0x4b 0x28 0xed

# CHECK: vgatherdps      (%rsi,%zmm0,4), %zmm1 {%k2}
0x62 0xf2 0x7d 0x4a 0x92 0x0c 0x86

# CHECK: vgatherdpd      (%rsi,%ymm0,4), %zmm1 {%k2}
0x62 0xf2 0xfd 0x4a 0x92 0x0c 0x86

#####################################################
#                MASK INSTRUCTIONS                  #
#####################################################

# CHECK: kshiftlw        $3, %k1, %k2
0xc4 0xe3 0xf9 0x32 0xd1 0x03

# CHECK: kmovw   (%rdi), %k1
0xc5 0xf8 0x90 0x0f

# CHECK: kmovw   %k1, %eax
0xc5 0xf8 0x93 0xc1

# CHECK: kandw   %k1, %k2, %k3
0xc5 0xec 0x41 0xd9

# CHECK: kmovw   %k5, %k1
0xc5 0xf8 0x90 0xcd
