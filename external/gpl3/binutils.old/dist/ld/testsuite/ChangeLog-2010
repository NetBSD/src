2010-12-31  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>

	* ld-undefined/undefined.exp (testline): XFAIL hppa*64*-*-*.

	PR ld/12360
	* ld-elfcomm/elfcomm.exp (test1w1): Use same check as MIPS on
	hppa*64*-*-*.

2010-12-31  Richard Sandiford  <rdsandiford@googlemail.com>

	* ld-mips-elf/mips-elf-flags.exp: Handle FreeBSD targets.
	* ld-mips-elf/mips-elf.exp: Likewise.
	* ld-mips-elf/mips16-call-global.d: Accept any file format.
	* ld-mips-elf/mips16-intermix.d: Likewise.

2010-12-28  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/12327
	* ld-scripts/defined4.d: New.
	* ld-scripts/defined4.s: Likewise.
	* ld-scripts/defined4.t: Likewise.
	* ld-scripts/expr2.d: Likewise.
	* ld-scripts/expr2.s: Likewise.
	* ld-scripts/expr2.t: Likewise.

	* ld-scripts/defined.exp: Run defined4.

	* ld-scripts/expr.exp: Run expr2.

2010-12-21  Kai Tietz  <kai.tietz@onevision.com>

	* ld-pe/pe.exp: Add TLS directory test.
	* ld-pe/tlssec.s: New.
	* ld-pe/tlssec64.d: New.
	* ld-pe/tlssec32.d: New.

2010-12-20  Alan Modra  <amodra@gmail.com>

	* ld-bootstrap/bootstrap.exp: Fix misplaced comment.

2010-12-20  Alan Modra  <amodra@gmail.com>

	PR ld/12001
	* ld-scripts/default-script2.d: Revert 2010-11-03 change.

2010-12-15  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/elf.exp (array_tests): Add init-mixed.
	(array_tests_static): Likewise.
	Also delete tmpdir/init-mixed.

	* ld-elf/init-mixed.c: New.
	* ld-elf/init-mixed.out: Likewise.

2010-12-11  Alan Modra  <amodra@gmail.com>

	* ld-elfvers/vers25a.dsym: Really include _? in match.

2010-12-10  Mike Frysinger  <vapier@gentoo.org>

	* ld-elfvers/vers.h: New file.
	* ld-elfvers/vers1.c: Include vers.h.  Change asm(.symver) to SYMVER().
	* ld-elfvers/vers4.c, ld-elfvers/vers5.c, ld-elfvers/vers6.c,
	ld-elfvers/vers7a.c, ld-elfvers/vers9.c, ld-elfvers/vers15.c,
	ld-elfvers/vers18.c, ld-elfvers/vers21.c, ld-elfvers/vers22a.c,
	ld-elfvers/vers23a.c, ld-elfvers/vers24a.c, ld-elfvers/vers24c.c,
	ld-elfvers/vers27d1.c: Likewise.

	* ld-elf/pr9676.rd: Include _? in symbol match
	* ld-elf/pr9676.rd, ld-elf/pr9679.rd, ld-elfvers/vers1.dsym,
	ld-elfvers/vers1.sym, ld-elfvers/vers15.dsym, ld-elfvers/vers15.sym,
	ld-elfvers/vers16.dsym, ld-elfvers/vers16a.dsym, ld-elfvers/vers17.dsym,
	ld-elfvers/vers18.dsym, ld-elfvers/vers18.sym, ld-elfvers/vers19.dsym,
	ld-elfvers/vers2.dsym, ld-elfvers/vers20.dsym, ld-elfvers/vers21.dsym,
	ld-elfvers/vers21.sym, ld-elfvers/vers22.dsym, ld-elfvers/vers22a.dsym,
	ld-elfvers/vers22a.sym, ld-elfvers/vers22b.dsym, ld-elfvers/vers23.dsym,
	ld-elfvers/vers23a.dsym, ld-elfvers/vers23a.sym,
	ld-elfvers/vers23b.dsym, ld-elfvers/vers23d.dsym,
	ld-elfvers/vers24.rd, ld-elfvers/vers25a.dsym,
	ld-elfvers/vers26a.dsym, ld-elfvers/vers27a.dsym,
	ld-elfvers/vers27d.dsym, ld-elfvers/vers27d.sym,
	ld-elfvers/vers27d4.dsym, ld-elfvers/vers28b.dsym,
	ld-elfvers/vers28c.dsym, ld-elfvers/vers29.dsym, ld-elfvers/vers3.dsym,
	ld-elfvers/vers30.dsym, ld-elfvers/vers31.dsym, ld-elfvers/vers32a.dsym,
	ld-elfvers/vers32b.dsym, ld-elfvers/vers4.sym, ld-elfvers/vers4a.dsym,
	ld-elfvers/vers4a.sym, ld-elfvers/vers6.dsym, ld-elfvers/vers6.sym,
	ld-elfvers/vers7a.dsym, ld-elfvers/vers7a.sym, ld-elfvers/vers9.dsym,
	ld-elfvers/vers9.sym: Likewise.

2010-12-05  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-plugin/plugin-vis-1.d: Updated.

2010-12-04  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-selective/selective.exp: Don't pass -fvtable-gc to GCC
	3.4.0 or above.

2010-12-04  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elfvers/vers.exp: Replace -export-dynamic with
	-Wl,-export-dynamic.

2010-11-30  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-scripts/script.exp: Remove full path from REGION_ALIAS test
	names.

2010-11-25  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/arm-elf.exp (armeabitests): Replace --defsym argument in
	jump-reloc-veneers* tests with --section-start .text=0x8000.

2010-11-20  Richard Sandiford  <rdsandiford@googlemail.com>

	* lib/ld-lib.exp (regexp_diff, simple_diff): Delete.

2010-11-20  Richard Sandiford  <rdsandiford@googlemail.com>

	* lib/ld-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_elf64, is_aout_format, is_pecoff_format): Delete.

2010-11-18  Alan Modra  <amodra@gmail.com>

	* ld-elf/binutils.exp: Correct x86 gnu target match.
	* ld-i386/i386.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-discard/discard.exp: Remove unnecessary line continuations.
	* ld-elfvers/vers.exp: Likewise.  Simplify linuxaout and linuxoldld
	test.
	* ld-elfweak/elfweak.exp: Likewise.

2010-11-17  Andreas Schwab  <schwab@linux-m68k.org>

	* ld-gc/pr11218-2.c: Declare
	unresolved_detected_at_runtime_not_at_linktime.

2010-11-17  Alan Modra  <amodra@gmail.com>

	* ld-plugin/plugin.exp: Define printf and puts as main.

2010-11-08  Thomas Schwinge  <thomas@schwinge.name>

	* lib/ld-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* ld-discard/discard.exp: Likewise.
	* ld-elf/binutils.exp: Likewise.
	* ld-elf/commonpage1.d (target): Likewise.
	* ld-elf/compress1c.d (target): Likewise.
	* ld-elf/discard1.d (target): Likewise.
	* ld-elf/discard2.d (target): Likewise.
	* ld-elf/discard3.d (target): Likewise.
	* ld-elf/dynsym1.d (target): Likewise.
	* ld-elf/eh6.d (target): Likewise.
	* ld-elf/elf.exp: Likewise.
	(array_tests): Move -static tests to...
	(array_tests_static): ... here, and handle it accordingly.
	* ld-elf/hash.d (target): Likewise.
	* ld-elf/header.d (target): Likewise.
	* ld-elf/loadaddr1.d (target): Likewise.
	* ld-elf/loadaddr2.d (target): Likewise.
	* ld-elf/loadaddr3a.d (target): Likewise.
	* ld-elf/loadaddr3b.d (target): Likewise.
	* ld-elf/local1.d (target): Likewise.
	* ld-elf/maxpage1.d (target): Likewise.
	* ld-elf/maxpage2.d (target): Likewise.
	* ld-elf/maxpage3a.d (target): Likewise.
	* ld-elf/multibss1.d (target): Likewise.
	* ld-elf/noload-2.d (target): Likewise.
	* ld-elf/seg.d (target): Likewise.
	* ld-elf/textaddr1.d (target): Likewise.
	* ld-elf/textaddr2.d (target): Likewise.
	* ld-elf/textaddr3.d (target): Likewise.
	* ld-elf/textaddr4.d (target): Likewise.
	* ld-elf/textaddr5.d (target): Likewise.
	* ld-elf/textaddr6.d (target): Likewise.
	* ld-elf/textaddr7.d (target): Likewise.
	* ld-elf/tls_common.exp: Likewise.
	* ld-elf/unknown2.d (target): Likewise.
	* ld-elfvers/vers.exp: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-elfweak/elfweak.exp: Likewise.
	(setup_xfail_gnu_hurd): New function.  Use it where appropriate.
	* ld-gc/abi-note.d (target): Likewise.
	* ld-gc/gc.exp: Likewise.
	* ld-gc/pr11218.d (target): Likewise.
	* ld-gc/start.d (target): Likewise.
	* ld-i386/i386.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-linkonce/linkonce.exp: Likewise.
	* ld-linkonce/zeroehl32.d (target): Likewise.
	* ld-pie/pie.exp: Likewise.
	* ld-scripts/phdrs2.exp: Likewise.
	* ld-scripts/rgn-at5.d (target): Likewise.
	* ld-shared/shared.exp: Likewise.
	* ld-undefined/entry-3.d (target): Likewise.
	* ld-undefined/entry-4.d (target): Likewise.
	* ld-undefined/weak-undef.exp: Likewise.

2010-11-06  Kirill A. Shutemov  <kirill@shutemov.name>

	* ld-plugin/plugin-6.d: Relax file name match.

2010-11-05  Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/attr-unknown-1.d, ld-tic6x/attr-unknown-1000-1.s,
	ld-tic6x/attr-unknown-1000-2.s, ld-tic6x/attr-unknown-1024-1.s,
	ld-tic6x/attr-unknown-2.d, ld-tic6x/attr-unknown-3.d,
	ld-tic6x/attr-unknown-4.d, ld-tic6x/attr-unknown-5.d,
	ld-tic6x/attr-unknown-54-1.s, ld-tic6x/attr-unknown-55-a.s,
	ld-tic6x/attr-unknown-6.d, ld-tic6x/attr-unknown-7.d,
	ld-tic6x/attr-unknown-71-a.s, ld-tic6x/attr-unknown-71-b.s: New
	tests.

2010-11-05  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-plugin/plugin.exp (testobjfiles): Dont use HOSTING_CRT0.
	(testobjfiles_notext): Likewise.
	(libs): Don't use HOSTING_LIBS; fill with default symbol defs instead.
	* lib/ld-lib.exp (ld_simple_link_defsyms): Add cygming clause.

2010-11-05  Alan Modra  <amodra@gmail.com>

	* ld-elfvers/vers32c.dsym, * ld-elfvers/vers32c.ver: Delete.
	* ld-elfvers/vers32d.ver: Delete.
	* ld-elfvers/vers.exp: Don't run them.

2010-11-03  Nick Clifton  <nickc@redhat.com>

	PR ld/12001
	* ld-script/default-script2.d: Fix expected address for text
	section.

2010-11-02  Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/attr-array-16-16.d, ld-tic6x/attr-array-16-4.d,
	ld-tic6x/attr-array-16-416.d, ld-tic6x/attr-array-16-48.d,
	ld-tic6x/attr-array-16-8.d, ld-tic6x/attr-array-16-816.d,
	ld-tic6x/attr-array-16.s, ld-tic6x/attr-array-4-16.d,
	ld-tic6x/attr-array-4-4.d, ld-tic6x/attr-array-4-416.d,
	ld-tic6x/attr-array-4-48.d, ld-tic6x/attr-array-4-8.d,
	ld-tic6x/attr-array-4-816.d, ld-tic6x/attr-array-4.s,
	ld-tic6x/attr-array-416-16.d, ld-tic6x/attr-array-416-4.d,
	ld-tic6x/attr-array-416-416.d, ld-tic6x/attr-array-416-48.d,
	ld-tic6x/attr-array-416-8.d, ld-tic6x/attr-array-416-816.d,
	ld-tic6x/attr-array-416.s, ld-tic6x/attr-array-48-16.d,
	ld-tic6x/attr-array-48-4.d, ld-tic6x/attr-array-48-416.d,
	ld-tic6x/attr-array-48-48.d, ld-tic6x/attr-array-48-8.d,
	ld-tic6x/attr-array-48-816.d, ld-tic6x/attr-array-48.s,
	ld-tic6x/attr-array-8-16.d, ld-tic6x/attr-array-8-4.d,
	ld-tic6x/attr-array-8-416.d, ld-tic6x/attr-array-8-48.d,
	ld-tic6x/attr-array-8-8.d, ld-tic6x/attr-array-8-816.d,
	ld-tic6x/attr-array-8.s, ld-tic6x/attr-array-816-16.d,
	ld-tic6x/attr-array-816-4.d, ld-tic6x/attr-array-816-416.d,
	ld-tic6x/attr-array-816-48.d, ld-tic6x/attr-array-816-8.d,
	ld-tic6x/attr-array-816-816.d, ld-tic6x/attr-array-816.s,
	ld-tic6x/attr-conformance-10-10.d,
	ld-tic6x/attr-conformance-10-11.d,
	ld-tic6x/attr-conformance-10-none.d,
	ld-tic6x/attr-conformance-10.s, ld-tic6x/attr-conformance-11-10.d,
	ld-tic6x/attr-conformance-11-11.d,
	ld-tic6x/attr-conformance-11-none.d,
	ld-tic6x/attr-conformance-11.s,
	ld-tic6x/attr-conformance-none-10.d,
	ld-tic6x/attr-conformance-none-11.d,
	ld-tic6x/attr-conformance-none-none.d,
	ld-tic6x/attr-conformance-none.s, ld-tic6x/attr-pic-0.s,
	ld-tic6x/attr-pic-00.d, ld-tic6x/attr-pic-01.d,
	ld-tic6x/attr-pic-1.s, ld-tic6x/attr-pic-10.d,
	ld-tic6x/attr-pic-11.d, ld-tic6x/attr-pid-0.s,
	ld-tic6x/attr-pid-00.d, ld-tic6x/attr-pid-01.d,
	ld-tic6x/attr-pid-02.d, ld-tic6x/attr-pid-1.s,
	ld-tic6x/attr-pid-10.d, ld-tic6x/attr-pid-11.d,
	ld-tic6x/attr-pid-12.d, ld-tic6x/attr-pid-2.s,
	ld-tic6x/attr-pid-20.d, ld-tic6x/attr-pid-21.d,
	ld-tic6x/attr-pid-22.d, ld-tic6x/attr-stack-16-16.d,
	ld-tic6x/attr-stack-16-8.d, ld-tic6x/attr-stack-16-816.d,
	ld-tic6x/attr-stack-16.s, ld-tic6x/attr-stack-8-16.d,
	ld-tic6x/attr-stack-8-8.d, ld-tic6x/attr-stack-8-816.d,
	ld-tic6x/attr-stack-8.s, ld-tic6x/attr-stack-816-16.d,
	ld-tic6x/attr-stack-816-8.d, ld-tic6x/attr-stack-816-816.d,
	ld-tic6x/attr-stack-816.s, ld-tic6x/attr-wchar-0.s,
	ld-tic6x/attr-wchar-00.d, ld-tic6x/attr-wchar-01.d,
	ld-tic6x/attr-wchar-02.d, ld-tic6x/attr-wchar-1.s,
	ld-tic6x/attr-wchar-10.d, ld-tic6x/attr-wchar-11.d,
	ld-tic6x/attr-wchar-12.d, ld-tic6x/attr-wchar-2.s,
	ld-tic6x/attr-wchar-20.d, ld-tic6x/attr-wchar-21.d,
	ld-tic6x/attr-wchar-22.d: New tests.

2010-11-02  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/compress1a.d: Also check MIPS_DWARF.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.

2010-10-29  Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/attr-compatibility-gnu-gnu.d,
	ld-tic6x/attr-compatibility-gnu-other.d,
	ld-tic6x/attr-compatibility-gnu.s,
	ld-tic6x/attr-compatibility-other-gnu.d,
	ld-tic6x/attr-compatibility-other-other.d,
	ld-tic6x/attr-compatibility-other.s: New tests.

2010-10-29  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/compress1c.d: Only run for Linux targets.

2010-10-29  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/compress.exp: New.
	* ld-elf/compress1.s: Likewise.
	* ld-elf/compress1a.d: Likewise.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.

2010-10-29  Bernd Schmidt  <bernds@codesourcery.com>
            Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/attr-dsbt-0.s, ld-tic6x/attr-dsbt-00.d,
	ld-tic6x/attr-dsbt-01.d, ld-tic6x/attr-dsbt-1.s,
	ld-tic6x/attr-dsbt-10.d, ld-tic6x/attr-dsbt-11.d: New tests.

2010-10-28  Thomas Schwinge  <thomas@schwinge.name>

	* ld-scripts/script.exp: Sort all filename globs.

2010-10-28  Alan Modra  <amodra@gmail.com>

	* ld-plugin/plugin.exp (libs): Remove $LIBS.

2010-10-28  Alan Modra  <amodra@gmail.com>

	* ld-elf/sec-to-seg.exp (B_test_same_seg): Clear for i960,
	microblaze, moxie, and mt.

	* ld-elf/flags1.s: Use arm compatible .type syntax.
	* ld-elf/flags1.d: Remove arm and xscale xfails, add i960, ip2k,
	moxie, mt.

2010-10-27  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>

	* ld-s390/tlsbin.dd: bc 0,0 -> nop 0 and bcr 0,%r0 -> nopr %r0.

2010-10-25  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-discard/zero-range.d, ld-discard/zero-range.s: New files.

2010-10-23  Mark Mitchell  <mark@codesourcery.com>

	* ld-elf/group10.d: Expect ".group" for the name of group
	sections.
	* ld-elf/group2.d: Likewise.
	* ld-elf/group7.d: Likewise.

2010-10-21  Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c64x+-c62x.d, ld-tic6x/attr-arch-c64x+-c64x+.d,
	ld-tic6x/attr-arch-c64x+-c64x.d, ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x-c62x.d, ld-tic6x/attr-arch-c64x-c64x+.d,
	ld-tic6x/attr-arch-c64x-c64x.d, ld-tic6x/attr-arch-c64x-c674x.d,
	ld-tic6x/attr-arch-c64x-c67x+.d, ld-tic6x/attr-arch-c64x-c67x.d,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c67x+-c62x.d, ld-tic6x/attr-arch-c67x+-c64x+.d,
	ld-tic6x/attr-arch-c67x+-c64x.d, ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x-c62x.d, ld-tic6x/attr-arch-c67x-c64x+.d,
	ld-tic6x/attr-arch-c67x-c64x.d, ld-tic6x/attr-arch-c67x-c674x.d,
	ld-tic6x/attr-arch-c67x-c67x+.d, ld-tic6x/attr-arch-c67x-c67x.d:
	Update for attribute renaming.

2010-10-20  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-plugin/plugin.exp: Mark tests UNSUPPORTED, not UNRESOLVED, if
	no suitable target compiler is available.

2010-10-16  Kai Tietz  <kai.tietz@onevision.com>

	* ld-pe/pe-run2.exp: Prefix --enable-auto-import by -Wl.

2010-10-15  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-plugin/plugin.exp: Don't error out if there is no target compiler
	available, make tests UNSUPPORTED instead.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 6/6).
	* ld-plugin/plugin-10.d: New dump test control script.
	* ld-plugin/plugin-11.d: Likewise.
	* ld-plugin/plugin.exp: Run them.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 5/6).
	* ld-plugin/plugin-ignore.d: New dump test control script.
	* ld-plugin/plugin-vis-1.d: Likewise.
	* ld-plugin/plugin.exp: Add list of ELF-only tests and run them if
	testing on an ELF target.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 4/6).
	* ld-plugin/plugin-9.d: New testcase.
	* ld-plugin/plugin.exp: Invoke it.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 3/6).
	* ld-plugin/plugin-8.d: New testcase.
	* ld-plugin/plugin.exp: Invoke it.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 2/6).
	* ld-plugin/plugin-3.d: Enable regexes for new functionality.
	* ld-plugin/plugin-5.d: Likewise.
	* ld-plugin/plugin-6.d: New testcase.
	* ld-plugin/plugin-7.d: Likewise.
	* ld-plugin/plugin.exp: Use 'nm' on compiled test objects to determine
	whether symbols in plugin arguments need an underscore prefix.  Add
	new plugin-6.d and plugin-7.d testcases.

2010-10-14  Dave Korn  <dave.korn.cygwin@gmail.com> 

	Apply LD plugin patch series (part 1/6).
	* ld-bootstrap/bootstrap.exp: Skip static tests also if LD plugins
	are enabled.
	* lib/ld-lib.exp (proc regexp_diff): Extend verbose debug output.
	(proc set_file_contents): Write a file with the supplied content.
	(run_ld_link_tests): Add new 'ld' action to test linker output.
	(proc check_plugin_api_available): Return true if linker under test
	supports the plugin API.
	* ld-plugin/func.c: New test source file.
	* ld-plugin/main.c: Likewise.
	* ld-plugin/text.c: Likewise.
	* ld-plugin/plugin-1.d: New dump test output pattern script.
	* ld-plugin/plugin-2.d: Likewise.
	* ld-plugin/plugin-3.d: Likewise.
	* ld-plugin/plugin-4.d: Likewise.
	* ld-plugin/plugin-5.d: Likewise.
	* ld-plugin/plugin.exp: New test control script.

2010-10-11  Alan Modra  <amodra@gmail.com>

	* ld-elf/orphan-region.d: xfail frv-*-*.

2010-10-11  Alan Modra  <amodra@gmail.com>

	* ld-mmix/sec-3.d: Adjust for 2010-09-29 orphan change.
	* ld-mmix/sec-7m.d: Likewise.

2010-10-06  Nick Clifton  <nickc@redhat.com>

	* ld-scripts/rgn-at5.t: Add some more output sections.
	* ld-scripts/rgn-at5.d: Update expected output.

2010-09-30  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11812
	* ld-i386/nogot2.d: New
	* ld-i386/nogot2.s: Likewise.
	* ld-x86-64/nogot2.d: Likewise.
	* ld-x86-64/nogot2.s: Likewise.

	* ld-i386/i386.exp: Run nogot2.
	* ld-x86-64/x86-64.exp: Likewise.

2010-09-29  Alan Modra  <amodra@gmail.com>

	* ld-h8300/h8300.exp: Use is_elf_format.

	* lib/ld-lib.exp (is_elf_format): Merge with binutils and gas versions.
	(is_aout_format): Update target list.
	(is_pecoff_format): Remove unnecessary line continuation.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>

	* ld-s390/tlsbin.dd: bcr 0,%r7 -> nopr %r7.
	* ld-s390/tlsbin_64.dd: Likewise.
	* ld-s390/tlspic.dd: Likewise.
	* ld-s390/tlspic_64.dd: Likewise.

2010-09-23  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11812
	* ld-i386/nogot1.s: Don't use GOTOFF.

2010-09-23  Bernd Schmidt  <bernds@codesourcery.com>

	* ld-tic6x/pcrel-reloc-local-r-rel-rela.d: New test.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/attr-merge-6.attr: Update for Security Extensions.
	* ld-arm/attr-merge-7.attr: Likewise.

2010-09-23  Alan Modra  <amodra@gmail.com>

	* ld-elf/elf.exp: Don't run --gc-sections tls var test on v850.
	* ld-elf/group2.d: xfail xstormy.
	* ld-elf/group4.d: Likewise.
	* ld-elf/group5.d: Likewise.
	* ld-elf/group6.d: Likewise.
	* ld-elf/init-fini-arrays.d: xfail cr16 and crx.
	* ld-elf/orphan2.d: xfail xstormy.
	* ld-elf/sec64k.exp: Don't run on targets using generic linker.
	Allow a larger range for ld -r expected bar_1 section.  Don't run
	final link test on a number of targets.  Select avr6 for avr targets.
	* ld-elfcomm/elfcomm.exp: Don't attempt on hpux.

	* ld-d10v/reloc-007.d: Don't error.
	* ld-d10v/reloc-008.d: Likewise.
	* ld-d10v/reloc-015.d: Likewise.
	* ld-d10v/reloc-016.d: Likewise.
	* ld-d10v/reloc-012.ld: Use a sane offset.

2010-09-20  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/attr-merge-6.attr: Update test for change in canonical CPU
	name.
	* ld-arm/attr-merge-7.attr: Likewise.
	* ld-arm/attr-merge-2.attr: Likewise.
	* ld-arm/attr-merge-arch-2.attr: Likewise.

2010-09-20  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/script-type.ld: Update to generate symbols in a section.

2010-09-19  Richard Sandiford  <rdsandiford@googlemail.com>

	* ld-mips-elf/elf-rel-got-n32.d: Swap two local GOT entries
	and remove some duplication between the global and local GOT
	entries.  Adjust GP offsets accordingly.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32.d: Reorder GOT entries and update
	GP offsets accordingly.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/mips16-pic-1.gd: Move all global GOT entries to
	the local GOT.
	* ld-mips-elf/mips16-pic-1.dd: Update GP offsets accordingly.
	* ld-mips-elf/multi-got-no-shared.d: Adjust GP setup for
	smaller GOT sizes.

2010-09-18  Alan Modra  <amodra@gmail.com>

	* lib/ld-lib.exp (check_gc_sections_available): Fail more targets.
	* ld-discard/discard.exp: Move xfails from here..
	* ld-discard/extern.d: ..to here.
	* ld-discard/start.d: ..and here.
	* ld-discard/static.d: ..and here.
	* ld-elf/binutils.exp: Don't run tbss1 and tbss2 tests on hppa64.
	* ld-elf/empty2.d: Remove xfails.
	* ld-elf/flags1.d: xfail hppa64.
	* ld-elf/group1.d: Add comment.
	* ld-elf/group2.d: xfail cr16 and crx.
	* ld-elf/group3b.d: Correct xfail and add comment.
	* ld-elf/group4.d: xfail cr16 and crx.
	* ld-elf/group5.d: Likewise.
	* ld-elf/group6.d: Likewise.
	* ld-elf/group7.d: Likewise.
	* ld-elf/group8a.d: Add more notarget and xfail entries.  Comment.
	* ld-elf/group8b.d: Likewise.
	* ld-elf/group9a.d: Likewise.
	* ld-elf/group9b.d: Likewise.
	* ld-elf/linkonce2.d: Correct notarget and comment.
	* ld-elf/merge2.d: Remove iq2000 from xfail.
	* ld-elf/multibss1.d: xfail hppa64.
	* ld-elf/nobits-1.d: Likewise.
	* ld-elf/note-1.d: Likewise.
	* ld-elf/note-2.d: Likewise.
	* ld-elf/orphan-region.d: Add xfails.
	* ld-elf/orphan-region.ld: Discard some sections.
	* ld-elf/orphan.d: Add xfails.
	* ld-elf/orphan.ld: Discard some sections.
	* ld-elf/orphan3.d: Replace xfail frv-*-* with frv-*-elf.  Remove
	cr16, crx and d10v.
	* ld-elf/pr349.d: Add xfails.
	* ld-elf/warn2.d: Add xfails.  Tweak symbol section for hppa64.
	* ld-scripts/rgn-at5.t: Discard .reginfo.

2010-09-16  Alan Modra  <amodra@gmail.com>

	* ld-elf/orphan-region.d: xfail for spu.
	* ld-elf/relocatable.d: xfail for hppa.

	* ld-elf/group3b.d: Disable for generic linker targets.
	* ld-elf/linkonce2.d: Likewise.
	* ld-scripts/empty-address-2a.d: Disable for frv and aout,oldld.
	* ld-scripts/empty-address-2b.d: Likewise.
	* ld-scripts/rgn-at5.s: Don't use .word.
	* ld-scripts/rgn-at5.d: Update.

2010-09-10  Alan Modra  <amodra@gmail.com>

	* ld-gc/abi-note.d: Exclude aout and oldld targets.
	* ld-gc/start.d: Likewise.
	* ld-scripts/section-match-1.d: Likewise, and tic30.

2010-09-10  Hans-Peter Nilsson  <hp@axis.com>

	* ld-scripts/rgn-at5.d: Restrict to *-*-linux*.

2010-09-09  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11998
	* ld-scripts/rgn-at5.d: New.
	* ld-scripts/rgn-at5.s: Likewise.
	* ld-scripts/rgn-at5.t: Likewise.

2010-09-07  Andrew Burgess  <aburgess@broadcom.com>

	* ld-x86-64/split-by-file.rd: New test.
	* ld-x86-64/split-by-file1.s: New test source code.
	* ld-x86-64/split-by-file2.s: New test source code.
	* ld-x86-64/x86-64.exp: Run the new test.

2010-08-31  Nick Clifton  <nickc@redhat.com>

	* ld-scripts/section-match.exp: New file.  Runs the
	section-match-1 test.
	* ld-scripts/section-match-1.d: New file.
	* ld-scripts/section-match-1.s: New file.
	* ld-scripts/section-match-1.t: New file.

2010-08-25  Julian Brown  <julian@codesourcery.com>

	* ld-arm/arm-elf.exp (armelftests): Add cortex-a8-fix-blx-bcond.s.
	* ld-arm/cortex-a8-fix-blx-bcond.s: New.
	* ld-arm/cortex-a8-fix-blx-bcond.d: New.

2010-08-24  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-x86-64/x86-64.exp: Fix typos.

2010-08-23  Maciej W. Rozycki  <macro@codesourcery.com>

	* ld-mips-elf/attr-gnu-4-04.d: Adjust Tag_GNU_MIPS_ABI_FP for
	the new MIPS32r2 64-bit FPU description.
	* ld-mips-elf/attr-gnu-4-40.d: Likewise.
	* ld-mips-elf/attr-gnu-4-44.d: Likewise.

2010-08-22  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11933
	* ld-x86-64/mixed1a.s: New.
	* ld-x86-64/mixed1b.s: Likewise.
	* ld-x86-64/mixed2a.s: Likewise.
	* ld-x86-64/mixed2b.s: Likewise.

	* ld-x86-64/x86-64.exp: Test mixed x86_64 and i386 inputs.

2010-08-20  Maciej W. Rozycki  <macro@codesourcery.com>

	* ld-sh/sh.exp: Add missing newline.

2010-08-20  Maciej W. Rozycki  <macro@codesourcery.com>

	* ld-mips-elf/attr-gnu-4-01.d: Correct Tag_GNU_MIPS_ABI_FP.
	* ld-mips-elf/attr-gnu-4-02.d: Likewise.
	* ld-mips-elf/attr-gnu-4-10.d: Likewise.
	* ld-mips-elf/attr-gnu-4-11.d: Likewise.
	* ld-mips-elf/attr-gnu-4-15.d: Likewise.
	* ld-mips-elf/attr-gnu-4-20.d: Likewise.
	* ld-mips-elf/attr-gnu-4-22.d: Likewise.
	* ld-mips-elf/attr-gnu-4-25.d: Likewise.

2010-08-19  Alan Modra  <amodra@gmail.com>

	* ld-scripts/memory.t: Remove ORIGIN fudge.

2010-08-13  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11913
	* ld-i386/discarded1.d: New.
	* ld-i386/discarded1.s: Likewise.
	* ld-i386/discarded1.t: Likewise.
	* ld-x86-64/discarded1.d: Likewise.
	* ld-x86-64/discarded1.s: Likewise.
	* ld-x86-64/discarded1.t: Likewise.

	* ld-i386/i386.exp: Run discarded1.
	* ld-x86-64/x86-64.exp: Likewise.

2010-08-09  Catherine Moore  <clm@codesourcery.com>

	* ld-mips-elf/mode-change-error-1.d: New.
	* ld-mips-elf/mode-change-error-1a.s: New.
	* ld-mips-elf/mode-change-error-1b.s: New.
	* ld-mips-elf/mips-elf.exp: Run new test.

2010-08-06  Alan Modra  <amodra@gmail.com>

	* ld-powerpc/tocopt.s, * ld-powerpc/tocopt.d: New test.
	* ld-powerpc/powerpc.exp: Run it.

2010-07-23  Naveen.H.S  <naveen.S@kpitcummins.com>
	    Ina Pandit  <ina.pandit@kpitcummins.com>

	* ld-v850/split-lo16.d: Update the "ld" instructions with a space
	for second operand.

2010-07-20  Alan Modra  <amodra@gmail.com>

	* ld-powerpc/tlsexe.r: Update.
	* ld-powerpc/tlsexetoc.r: Update.
	* ld-powerpc/tlsso.r: Update.
	* ld-powerpc/tlstocso.r: Update.

2010-07-20  Alan Modra  <amodra@gmail.com>

	* ld-powerpc/vxworks-relax.s: Add branches to match expected output.
	* ld-powerpc/vxworks-relax-2.s: Likewise.
	* ld-powerpc/vxworks1-lib.rd: Reorder reloc sections.

2010-07-19  Andreas Schwab  <schwab@redhat.com>

	* ld-mmix/bspec1.d: Ignore "Key to Flags" contents.
	* ld-mmix/bspec2.d: Likewise.
	* ld-mmix/local1.d: Likewise.
	* ld-mmix/local3.d: Likewise.
	* ld-mmix/local5.d: Likewise.
	* ld-mmix/local7.d: Likewise.
	* ld-mmix/undef-3.d: Likewise.
	* ld-sh/sh64/crange1.rd: Likewise.
	* ld-sh/sh64/crange2.rd: Likewise.
	* ld-sh/sh64/crange3-cmpct.rd: Likewise.
	* ld-sh/sh64/crange3-media.rd: Likewise.
	* ld-sh/sh64/crange3.rd: Likewise.
	* ld-sh/sh64/crangerel1.rd: Likewise.
	* ld-sh/sh64/crangerel2.rd: Likewise.

2010-07-14  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11817
	* ld-i386/compressed1.s: New.
	* ld-i386/compressed1.d: Likewise.
	* ld-x86-64/compressed1.s: Likewise.
	* ld-x86-64/compressed1.d: Likewise.

	* ld-i386/i386.exp: Run compressed1.
	* ld-x86-64/x86-64.exp: Likewise.

2010-07-13  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11812
	* ld-elf/exclude3b.d: Don't run on ia64-*-*.  Replace .got with
	.dynamic.

	* ld-elf/exclude3d.d: New.
	* ld-i386/nogot1.d: Likewise.
	* ld-i386/nogot1.s: Likewise.
	* ld-x86-64/nogot1.d: Likewise.
	* ld-x86-64/nogot1.s: Likewise.

	* ld-i386/i386.exp: Run nogot1.
	* ld-x86-64/x86-64.exp: Likewise.

2010-07-13  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-i386/hidden2.d: Don't hard code expected output.
	* ld-i386/protected3.d: Likewise.
	* ld-x86-64/hidden2.d: Likewise.
	* ld-x86-64/protected3.d: Likewise.

2010-07-13  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11791
	* ld-ifunc/ifunc-10-i386.d: New.
	* ld-ifunc/ifunc-10-i386.s: Likewise.
	* ld-ifunc/ifunc-10-x86-64.d: Likewise.
	* ld-ifunc/ifunc-10-x86-64.s: Likewise.
	* ld-ifunc/ifunc-11-i386.d: Likewise.
	* ld-ifunc/ifunc-11-i386.s: Likewise.
	* ld-ifunc/ifunc-11-x86-64.d: Likewise.
	* ld-ifunc/ifunc-11-x86-64.s: Likewise.

2010-07-06  Alan Modra  <amodra@gmail.com>

	* ld-powerpc/relax.s: Add branch back to _start.
	* ld-powerpc/relax.d: Update.
	* ld-powerpc/relaxr.d: Update.

2010-07-01  Alan Modra  <amodra@gmail.com>

	* lib/ld-lib.exp (default_ld_simple_link): Add $gcc_ld_flag before
	any other options in $ld.

2010-06-29  Alan Modra  <amodra@gmail.com>

	* ld-maxq/maxq.exp: Delete file.
	* ld-maxq/addend.dd, * ld-maxq/addend.s, * ld-maxq/paddr.dd,
	* ld-maxq/paddr.s, * ld-maxq/paddr1.dd, * ld-maxq/paddr1.s,
	* ld-maxq/r32-1.s, * ld-maxq/r32-2.s, * ld-maxq/r32.dd: Likewise.

2010-06-15  Joseph Myers  <joseph@codesourcery.com>

	* ld-elf/orphan3.d: Allow section names starting '_'.
	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c62x.s, ld-tic6x/attr-arch-c64x+-c62x.d,
	ld-tic6x/attr-arch-c64x+-c64x+.d, ld-tic6x/attr-arch-c64x+-c64x.d,
	ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x+.s, ld-tic6x/attr-arch-c64x-c62x.d,
	ld-tic6x/attr-arch-c64x-c64x+.d, ld-tic6x/attr-arch-c64x-c64x.d,
	ld-tic6x/attr-arch-c64x-c674x.d, ld-tic6x/attr-arch-c64x-c67x+.d,
	ld-tic6x/attr-arch-c64x-c67x.d, ld-tic6x/attr-arch-c64x.s,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c674x.s, ld-tic6x/attr-arch-c67x+-c62x.d,
	ld-tic6x/attr-arch-c67x+-c64x+.d, ld-tic6x/attr-arch-c67x+-c64x.d,
	ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x+.s, ld-tic6x/attr-arch-c67x-c62x.d,
	ld-tic6x/attr-arch-c67x-c64x+.d, ld-tic6x/attr-arch-c67x-c64x.d,
	ld-tic6x/attr-arch-c67x-c674x.d, ld-tic6x/attr-arch-c67x-c67x+.d,
	ld-tic6x/attr-arch-c67x-c67x.d, ld-tic6x/attr-arch-c67x.s: New.

2010-06-07  Matthew Gretton-Dann <matthew.gretton-dann@arm.com>

	* ld-arm/arm-call.d: Handle change in lsls/movs disassembly.
	* ld-arm/farcall-thumb-arm-short.d: Likewise.
	* ld-arm/farcall-thumb-thumb-blx-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-thumb-blx.d: Likewise.
	* ld-arm/farcall-thumb-thumb-m-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-thumb-m.d: Likewise.
	* ld-arm/farcall-thumb-thumb-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-thumb.d: Likewise.
	* ld-arm/thumb2-bl-as-thumb1-bad-noeabi.d: Likewise.
	* ld-arm/thumb2-bl-as-thumb1-bad.d: Likewise.
	* ld-arm/thumb2-bl-bad-noeabi.d: Likewise.
	* ld-arm/thumb2-bl-bad.d: Likewise.

2010-05-26  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11628
	* ld-elf/textaddr3.d: New.
	* ld-elf/textaddr4.d: Likewise.
	* ld-elf/textaddr5.d: Likewise.
	* ld-elf/textaddr6.d: Likewise.
	* ld-elf/textaddr7.d: Likewise.

2010-05-25  Daniel Jacobowitz  <dan@codesourcery.com>
	    Joseph Myers  <joseph@codesourcery.com>
	    Andrew Stubbs  <ams@codesourcery.com>

	* ld-sh/sh.exp: Handle uClinux like Linux.
	* lib/ld-lib.exp (is_elf_format): Include sh*-*-uclinux*.
	* ld-sh/fdpic-funcdesc-shared.d: New file.
	* ld-sh/fdpic-funcdesc-shared.s: New file.
	* ld-sh/fdpic-funcdesc-static.d: New file.
	* ld-sh/fdpic-funcdesc-static.s: New file.
	* ld-sh/fdpic-gotfuncdesc-shared.d: New file.
	* ld-sh/fdpic-gotfuncdesc-shared.s: New file.
	* ld-sh/fdpic-gotfuncdesc-static.d: New file.
	* ld-sh/fdpic-gotfuncdesc-static.s: New file.
	* ld-sh/fdpic-gotfuncdesci20-shared.d: New file.
	* ld-sh/fdpic-gotfuncdesci20-shared.s: New file.
	* ld-sh/fdpic-gotfuncdesci20-static.d: New file.
	* ld-sh/fdpic-gotfuncdesci20-static.s: New file.
	* ld-sh/fdpic-goti20-shared.d: New file.
	* ld-sh/fdpic-goti20-shared.s: New file.
	* ld-sh/fdpic-goti20-static.d: New file.
	* ld-sh/fdpic-goti20-static.s: New file.
	* ld-sh/fdpic-gotofffuncdesc-shared.d: New file.
	* ld-sh/fdpic-gotofffuncdesc-shared.s: New file.
	* ld-sh/fdpic-gotofffuncdesc-static.d: New file.
	* ld-sh/fdpic-gotofffuncdesc-static.s: New file.
	* ld-sh/fdpic-gotofffuncdesci20-shared.d: New file.
	* ld-sh/fdpic-gotofffuncdesci20-shared.s: New file.
	* ld-sh/fdpic-gotofffuncdesci20-static.d: New file.
	* ld-sh/fdpic-gotofffuncdesci20-static.s: New file.
	* ld-sh/fdpic-gotoffi20-shared.d: New file.
	* ld-sh/fdpic-gotoffi20-shared.s: New file.
	* ld-sh/fdpic-gotoffi20-static.d: New file.
	* ld-sh/fdpic-gotoffi20-static.s: New file.
	* ld-sh/fdpic-plt-be.d: New file.
	* ld-sh/fdpic-plt-le.d: New file.
	* ld-sh/fdpic-plt.s: New file.
	* ld-sh/fdpic-plti20-be.d: New file.
	* ld-sh/fdpic-plti20-le.d: New file.
	* ld-sh/fdpic-stack-default.d: New file.
	* ld-sh/fdpic-stack-size.d: New file.
	* ld-sh/fdpic-stack.s: New file.

2010-05-18  H.J. Lu  <hongjiu.lu@intel.com>

	PR gas/11600
	* ld-elf/exclude3.s: New.
	* ld-elf/exclude3a.d: Likewise.
	* ld-elf/exclude3b.d: Likewise.
	* ld-elf/exclude3c.d: Likewise.

2010-05-11  Andrew Stubbs  <ams@codesourcery.com>

	* ld-arm/attr-merge-2.attr: Add Tag_DIV_use.
	* ld-arm/attr-merge-2a.s: Likewise.
	* ld-arm/attr-merge-2b.s: Likewise.
	* ld-arm/attr-merge-3a.s: Likewise.
	* ld-arm/attr-merge-3b.s: Likewise.
	* ld-arm/attr-merge-4.attr: Likewise.
	* ld-arm/attr-merge-5.attr: Likewise.
	* ld-arm/attr-merge-6.attr: Likewise.
	* ld-arm/attr-merge-7.attr: Likewise.
	* ld-arm/attr-merge-arch-1.attr: Likewise.
	* ld-arm/attr-merge-arch-2.attr: Likewise.
	* ld-arm/attr-merge-unknown-2.d: Likewise.
	* ld-arm/attr-merge-unknown-2r.d: Likewise.
	* ld-arm/attr-merge-unknown-3.d: Likewise.
	* ld-arm/attr-merge-vfp-1.d: Likewise.
	* ld-arm/attr-merge-vfp-1r.d: Likewise.
	* ld-arm/attr-merge-vfp-2.d: Likewise.
	* ld-arm/attr-merge-vfp-2r.d: Likewise.
	* ld-arm/attr-merge-vfp-3.d: Likewise.
	* ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld-arm/attr-merge-vfp-4.d: Likewise.
	* ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld-arm/attr-merge.attr: Likewise.

2010-05-11  Jie Zhang  <jie@codesourcery.com>

	* ld-arm/attr-merge-vfp-6.d: New test.
	* ld-arm/attr-merge-vfp-6r.d: New test.
	* ld-arm/attr-merge-vfpv3xd.s: New test.
	* ld-arm/arm-elf.exp: Add attr-merge-vfp-6 and attr-merge-vfp-6r.

2010-05-07  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/cortex-a8-fix-bl-rel-plt.d: New file.
	* ld-arm/arm-elf.exp (armelftests): Run cortex-a8-fix-bl-rel-plt.d.

2010-05-06  Joseph Myers  <joseph@codesourcery.com>

	* ld-elf/orphan-region.d: Use ld -N.

2010-04-30  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11542
	* ld-elf/discard.ld: New.
	* ld-elf/discard1.d: Likewise.
	* ld-elf/discard1.s: Likewise.
	* ld-elf/discard2.d: Likewise.
	* ld-elf/discard2.s: Likewise.
	* ld-elf/discard3.d: Likewise.

2010-04-22  Alan Modra  <amodra@gmail.com>

	* ld-elf/extract-symbol-1sec.d: Update lma.
	* ld-i386/alloc.d: Expect a warning, not an error.

2010-04-20  Joseph Myers  <joseph@codesourcery.com>

	* ld-tic6x/data-reloc-global-rel.d,
	ld-tic6x/data-reloc-global-rel.s,
	ld-tic6x/data-reloc-local-r-rel.d,
	ld-tic6x/data-reloc-local-rel.d, ld-tic6x/mvk-reloc-global-rel.d,
	ld-tic6x/mvk-reloc-global-rel.s, ld-tic6x/mvk-reloc-local-1-rel.s,
	ld-tic6x/mvk-reloc-local-2-rel.s,
	ld-tic6x/mvk-reloc-local-r-rel.d, ld-tic6x/mvk-reloc-local-rel.d,
	ld-tic6x/pcrel-reloc-global-rel.d,
	ld-tic6x/pcrel-reloc-local-r-rel.d,
	ld-tic6x/pcrel-reloc-local-rel.d, ld-tic6x/sbr-reloc-global-rel.d,
	ld-tic6x/sbr-reloc-global-rel.s, ld-tic6x/sbr-reloc-local-1-rel.s,
	ld-tic6x/sbr-reloc-local-2-rel.s,
	ld-tic6x/sbr-reloc-local-r-rel.d, ld-tic6x/sbr-reloc-local-rel.d:
	New.

2010-04-15  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/attr-merge-2.attr: Update for changes in attribute output.
	* ld-arm/attr-merge-3.attr: Likewise.
	* ld-arm/attr-merge-vfp-1.d: Likewise.
	* ld-arm/attr-merge-vfp-1r.d: Likewise.
	* ld-arm/attr-merge-vfp-2.d: Likewise.
	* ld-arm/attr-merge-vfp-2r.d: Likewise.
	* ld-arm/attr-merge-vfp-3.d: Likewise.
	* ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld-arm/attr-merge-vfp-4.d: Likeiwse.
	* ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld-arm/attr-merge.attr: Likewise.

2010-04-06  David S. Miller  <davem@davemloft.net>

	* ld-elfvers/vers.exp: Pass -Av9a to assembler on sparc-*-*

2010-04-05  Kai Tietz  <kai.tietz@onevision.com>

	* ld-pe/orphan_nu.d: New test for --no-leading-underscore.
	* ld-pe/orphana_nu.s: New file.
	* ld-pe/pe.exp: Add orphan_nu test.

2010-04-01  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-powerpc/apuinfo-nul.rd: New.
	* ld-powerpc/apuinfo-nul1.s: New.
	* ld-powerpc/powerpc.exp: Add it.

2010-03-31  Kai TIetz  <kai.tietz@onevision.com>

	* ld-pe//pe-compile.exp (run_basefile_test): Trim result of wc
	before string compare.

2010-03-31  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/script-type.sym: Fix test.

2010-03-31  Kai TIetz  <kai.tietz@onevision.com>

	* ld-pe/basefile1.s: New.
	* ld-pe/pe-compile.exp: Add base-file test.

2010-03-31  Hans-Peter Nilsson  <hp@axis.com>

	PR ld/11458
	* ld-cris/pcrelcp-1.d, ld-cris/pcrelcp-1.s: New test.

	* lib/ld-lib.exp (run_dump_test): When checking linker message and
	return code, when success with no message is expected, don't
	continue if we have an abnormal exit with a message.  Check output
	of inspection program and fail if it had output or an abnormal
	exit code.  Include "warning" and "error" among the directives
	where multiples are allowed and append to previous values.

	* ld-cris/cris.exp (loop over $srcdir/$subdir/*dso-*.d): Apply
	"file rootname", not "file tail", before applying runtest_file_p.

2010-03-29  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Add v6-M farcall test.

2010-03-25  Joseph Myers  <joseph@codesourcery.com>

	* ld-elf/flags1.d, ld-elf/merge.d: XFAIL for tic6x-*-*.
	* ld-elf/sec-to-seg.exp: Set B_test_same_seg to 0 for tic6x-*-*.
	* ld-tic6x: New directory and testcases.

2010-03-19  Jie Zhang  <jie@codesourcery.com>

	PR ld/11304
	* ld-elf/pr11304.d: New test.
	* ld-elf/pr11304a.s: New test.
	* ld-elf/pr11304b.s: New test.
	* lib/ld-lib.exp (regexp_diff): Add support for #failif.

2010-03-15  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-elf/orphan-region.d, ld-elf/orphan-region.ld,
	ld-elf/orphan-region.s: New files.

2010-03-02  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/arm-merge-incompatible.d: New test.
	* ld-arm/arm-merge-incompatiblea.s: Likewise.
	* ld-arm/arm-merge-incompatibleb.s: Likewise.
	* ld-arm/arm-elf.exp: Run the new test.

2010-03-02  Christophe Lyon  <christophe.lyon@st.com>
	    Alan Modra  <amodra@gmail.com>

	* ld-arm/arm-elf.exp: Change .text start address for
	farcall-thumb-arm tests. Add v4t variant for farcall-mixed-lib
	test.
	* ld-arm/farcall-mixed-lib-v4t.d: New test.
	* ld-arm/farcall-mixed-lib1.s: Don't force armv5t.
	* ld-arm/farcall-mixed-lib2.s: Likewise.
	* ld-arm/arm-call.d: Update expected results.
	* ld-arm/cortex-a8-far.d: Likewise.
	* ld-arm/farcall-group-size2.d: Likewise.
	* ld-arm/farcall-group.d: Likewise.
	* ld-arm/farcall-mix.d: Likewise.
	* ld-arm/farcall-mix2.d: Likewise.
	* ld-arm/farcall-mixed-app-v5.d: Likewise.
	* ld-arm/farcall-mixed-app.d: Likewise.
	* ld-arm/farcall-mixed-lib.d: Likewise.
	* ld-arm/farcall-thumb-arm.d: Likewise.
	* ld-arm/farcall-thumb-arm-blx.d: Likewise.
	* ld-arm/farcall-thumb-arm-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-arm-blx-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-arm.s: Update test. Add a new call to
	potentially generate different types of stubs.

2010-02-27  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/init-fini-arrays.d: Pass --wide to readelf.

2010-02-27  Jie Zhang  <jie@codesourcery.com>

	* ld-elf/init-fini-arrays.s: New test.
	* ld-elf/init-fini-arrays.d: New test.

2010-02-24  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/group-relocs.s: Mark code sections as executable.
	* ld-arm/arm-elf.exp (armelftests): Only dump executable sections in
	group-relocs test.
	* ld-arm/reloc-boundaries.d: Fix test to work on Linux targets.

2010-02-23  Nick Clifton  <nickc@redhat.com>

	* ld-elf/orphan4.d: Allow for other sections to be present in the
	output.

2010-02-18  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-ifunc/ifunc.exp: Expect System V OSABI in dynamic
	ifunc-using executable.

2010-02-19  Alan Modra  <amodra@gmail.com>

	* ld-elf/group.ld: Discard .dropme sections.
	* ld-elf/group10.d, * ld-elf/group10.s: New test.

2010-02-18  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/attr-merge-6.attr: Add new test.  Missed off last commit.

2010-02-18  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/attr-merge-3.attr: Fix test for new attribute values.
	* ld-arm/attr-merge-3b.s: Likewise.
	* ld-arm/attr-merge-unknown-1.d: Fix test now that 42 is a recognised
	attribute ID.
	* ld-arm/attr-merge-unknown-1.s: Likewise.
	* ld-arm/attr-merge-6.attr: New test.
	* ld-arm/attr-merge-6a.s: Likewise.
	* ld-arm/attr-merge-6b.s: Likewise.
	* ld-arm/attr-merge-7.attr: Likewise.
	* ld-arm/attr-merge-7a.s: Likewise.
	* ld-arm/attr-merge-7b.s: Likewise.
	* ld-arm/arm-elf.exp: Run the new tests.

2010-02-15  Matthew Gretton-Dann <matthew.gretton-dann@arm.com>

	* ld-arm/jump-reloc-veneers-long.d: Correct testcase for
	  arm-none-eabi target.
	* ld-arm/jump-reloc-veneers-short1.d: Likewise
	* ld-arm/jump-reloc-veneers-short2.d: Likewise

2010-02-12  Daniel Gutson  <dgutson@codesourcery.com>

	* ld-arm/arm-elf.exp (armelftests): New test case added.
	* ld-arm/data-only-map.s: New file.
	* ld-arm/data-only-map.d: New file.
	* ld-arm/data-only-map.ld: New file.

2010-02-11  David S. Miller  <davem@davemloft.net>

	* ld-sparc/gotop32.s: Add local symbol case.
	* ld-sparc/gotop64.s: Likewise.
	* ld-sparc/gotop32.rd: Adjust expected results.
	* ld-sparc/gotop32.td: Likewise.
	* ld-sparc/gotop64.dd: Likewise.
	* ld-sparc/gotop64.rd: Likewise.
	* ld-sparc/gotop64.td: Likewise.

2010-02-09  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-elfvsb/elfvsb.exp: Fix tests for arm*-*-linux*.
	* ld-shared/shared.exp: Likewise.

2010-02-08  David S. Miller  <davem@davemloft.net>

	* ld-ifunc/ifunc.exp: Run for sparc.

2010-02-08  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-powerpc/apuinfo-nul.s: New.
	* ld-powerpc/apuinfo.rd: Add it.
	* ld-powerpc/powerpc.exp: Likewise.

2010-02-01  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* ld-arm/jump-reloc-veneers-long.d: New test.
	* ld-arm/jump-reloc-veneers-short1.d: Likewise.
	* ld-arm/jump-reloc-veneers-short2.d: Likewise.
	* ld-arm/jump-reloc-veneers.s: Likewise.
	* ld-arm/arm-elf.exp (armelftests): Run them.

2010-01-28  Nick Clifton  <nickc@redhat.com>

	PR 11225
	* ld-sh/refdbg-0-dso.d: Dump all sections.

2010-01-26  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11218
	* ld-gc/dummy.s: New.
	* ld-gc/pr11218-1.c: Likewise.
	* ld-gc/pr11218-2.c: Likewise.
	* ld-gc/pr11218.d: Likewise.

2010-01-23  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-ref-1-32.od, ld-powerpc/aix-ref-1-64.od,
	ld-powerpc/aix-ref-1.s: New tests.
	* ld-powerpc/aix52.exp: Run them.

2010-01-14  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/orphan4.d: Support 64bit targets.

2010-01-13  DJ Delorie  <dj@redhat.com>

	* ld-elf/orphan4.d: New.
	* ld-elf/orphan4.ld: New.
	* ld-elf/orphan4.s: New.

2010-01-13  Chao-ying Fu  <fu@mips.com>

	* ld-mips-elf/jr-to-b-1.d, ld-mips-elf/jr-to-b-2.d: New tests.
	* ld-mips-elf/jr-to-b-1.s, ld-mips-elf/jr-to-b-2.s: Source.
	* ld-mips-elf/mips-elf.exp: Run new tests.

2010-01-13  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/arm-elf.exp (armelftests): Assemble Cortex-A8 tests with
	-mcpu=cortex-a8.

2010-01-13  Nick Clifton  <nickc@redhat.com>

	* ld-scrips/sort.exp: Skip these tests when the target is the
	h8300.

2010-01-11  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11146
	* ld-elf/dynsym1.d: New.

2010-01-07  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11138
	* ld-elf/pr11138-1.c: New.
	* ld-elf/pr11138-1.map: Likewise.
	* ld-elf/pr11138-2.c: Likewise.
	* ld-elf/pr11138-2.map: Likewise.
	* ld-elf/pr11138.out: Likewise.

	* ld-elf/shared.exp (build_tests): Add libpr11138-1.so and
	libpr11138-2.o.
	(run_tests): Add 2 tests for PR ld/11138.

2010-01-07  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11133
	* ld-gc/gc.exp: Run start.

	* ld-gc/start.d: New.
	* ld-gc/start.s: Likewise.

2010-01-07  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/11143
	* ld-gc/gc.exp: Run abi-note.

	* ld-gc/abi-note.d: New.
	* ld-gc/abi-note.s: Likewise.

For older changes see ChangeLog-2009

Copyright (C) 2010 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
