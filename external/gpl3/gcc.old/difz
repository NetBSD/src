? difz
Index: Makefile.gcc_path
===================================================================
RCS file: Makefile.gcc_path
diff -N Makefile.gcc_path
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ Makefile.gcc_path	26 Feb 2014 05:53:08 -0000
@@ -0,0 +1,20 @@
+#	$NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
+
+# Define some commom paths
+
+.ifndef _EXTERNAL_GPL3_GCC_MAKEFILE_INC_
+_EXTERNAL_GPL3_GCC_MAKEFILE_INC_=1
+
+.include <bsd.own.mk>
+
+.if ${HAVE_GCC} >= 45
+GCC_SUBDIR=	${NETBSDSRCDIR}/external/gpl3/${EXTERNAL_GCC_SUBDIR}
+.else
+GCC_SUBDIR=	/not/here/for/you
+.endif
+
+#.if exists(${GCC_SUBDIR}/dist)
+GCCDIST=	${GCC_SUBDIR}/dist
+#.endif
+
+.endif	# _GPL3_GCC_MAKEFILE_INC_
Index: lib/Makefile.inc
===================================================================
RCS file: lib/Makefile.inc
diff -N lib/Makefile.inc
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ lib/Makefile.inc	26 Feb 2014 05:53:08 -0000
@@ -0,0 +1,10 @@
+#	$NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
+
+.ifndef _EXTERNAL_GPL3_GCC_LIB_MAKEFILE_INC_
+_EXTERNAL_GPL3_GCC_LIB_MAKEFILE_INC_=1
+
+.sinclude "../../Makefile.gcc_path"
+.sinclude "../../../Makefile.gcc_path"
+.sinclude "../../../../Makefile.gcc_path"
+
+.endif
Index: lib/crtstuff/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/crtstuff/Makefile,v
retrieving revision 1.7
diff -p -u -r1.7 Makefile
--- lib/crtstuff/Makefile	28 Feb 2012 20:26:07 -0000	1.7
+++ lib/crtstuff/Makefile	26 Feb 2014 05:53:08 -0000
@@ -4,15 +4,15 @@ REQUIRETOOLS=	yes
 NOLINT=		# defined
 UNSUPPORTED_COMPILER.clang=	# defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
 # If using an external toolchain, we expect crtbegin/crtend to be
 # supplied by that toolchain's run-time support.
 .if !defined(EXTERNAL_TOOLCHAIN) && ${MKGCC} != "no"
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 GNUHOSTDIST=	${DIST}
-GCCARCH=	${NETBSDSRCDIR}/external/gpl3/gcc/usr.bin/gcc/arch/${MACHINE_ARCH}
+GCCARCH=	${EXTERNAL_GCC_SUBDIR}/usr.bin/gcc/arch/${MACHINE_ARCH}
 
 GALLCFLAGS=	${G_CRTSTUFF_CFLAGS} ${G_CRTSTUFF_T_CFLAGS}
 
Index: lib/libgcc/Makefile.inc
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgcc/Makefile.inc,v
retrieving revision 1.21
diff -p -u -r1.21 Makefile.inc
--- lib/libgcc/Makefile.inc	22 Aug 2013 00:16:54 -0000	1.21
+++ lib/libgcc/Makefile.inc	26 Feb 2014 05:53:08 -0000
@@ -9,11 +9,11 @@ LIBGCC_MACHINE_ARCH?=${MACHINE_ARCH:S/ea
 
 UNSUPPORTED_COMPILER.clang=	# defined
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 GNUHOSTDIST=	${DIST}
-GCCARCH=	${NETBSDSRCDIR}/external/gpl3/gcc/usr.bin/gcc/arch/${LIBGCC_MACHINE_ARCH}
-GCCARCHLIBGCC=	${NETBSDSRCDIR}/external/gpl3/gcc/lib/libgcc/arch/${LIBGCC_MACHINE_ARCH}
-GCCARCHXX=	${NETBSDSRCDIR}/external/gpl3/gcc/lib/libstdc++-v3/arch/${LIBGCC_MACHINE_ARCH}
+GCCARCH=	${GCC_SUBDIR}/usr.bin/gcc/arch/${LIBGCC_MACHINE_ARCH}
+GCCARCHLIBGCC=	${GCC_SUBDIR}/lib/libgcc/arch/${LIBGCC_MACHINE_ARCH}
+GCCARCHXX=	${GCC_SUBDIR}/lib/libstdc++-v3/arch/${LIBGCC_MACHINE_ARCH}
 
 GCPPFLAGS=	${G_LIBGCC2_CFLAGS} ${G_USE_COLLECT2} ${G_INCLUDES}
 CPPFLAGS+=	-I${.CURDIR} -I${GCCARCHLIBGCC}
Index: lib/libgcc/libgcc/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgcc/libgcc/Makefile,v
retrieving revision 1.18
diff -p -u -r1.18 Makefile
--- lib/libgcc/libgcc/Makefile	11 Jan 2014 02:45:52 -0000	1.18
+++ lib/libgcc/libgcc/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,6 +7,7 @@ NOPROFILE=	# defined
 
 LIB=		gcc
 
+.include "../../../Makefile.gcc_path"
 .include <bsd.own.mk>
 
 .if ${MKGCC} != "no"
Index: lib/libgcc/libgcc_eh/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgcc/libgcc_eh/Makefile,v
retrieving revision 1.5
diff -p -u -r1.5 Makefile
--- lib/libgcc/libgcc_eh/Makefile	6 Aug 2012 00:21:09 -0000	1.5
+++ lib/libgcc/libgcc_eh/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,6 +7,7 @@ NOPROFILE=	# defined
 
 LIB=		gcc_eh
 
+.include "../../../Makefile.gcc_path"
 .include <bsd.own.mk>
 
 .if ${MKGCC} != "no"
Index: lib/libgcc/libgcc_s/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgcc/libgcc_s/Makefile,v
retrieving revision 1.6
diff -p -u -r1.6 Makefile
--- lib/libgcc/libgcc_s/Makefile	6 Aug 2012 00:19:03 -0000	1.6
+++ lib/libgcc/libgcc_s/Makefile	26 Feb 2014 05:53:08 -0000
@@ -9,6 +9,7 @@ NOSTATICLIB=	# defined
 NOPROFILE=	# defined
 NOPICINSTALL=	# defined
 
+.include "../../../Makefile.gcc_path"
 .include <bsd.own.mk>
 
 .if ${MKGCC} != "no"
Index: lib/libgcc/libgcov/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgcc/libgcov/Makefile,v
retrieving revision 1.5
diff -p -u -r1.5 Makefile
--- lib/libgcc/libgcov/Makefile	22 Aug 2013 00:16:54 -0000	1.5
+++ lib/libgcc/libgcov/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,6 +7,7 @@ NOLINT=		# defined
 
 LIB=		gcov
 
+.include "../../../Makefile.gcc_path"
 .include <bsd.own.mk>
 .include <bsd.init.mk>
 
Index: lib/libgomp/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libgomp/Makefile,v
retrieving revision 1.9
diff -p -u -r1.9 Makefile
--- lib/libgomp/Makefile	23 Aug 2013 05:02:46 -0000	1.9
+++ lib/libgomp/Makefile	26 Feb 2014 05:53:08 -0000
@@ -9,7 +9,7 @@ NOLINT=	# defined
 
 .if !defined(NO_LIBGOMP)	# {
 
-DIST=	${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=	${GCCDIST}
 
 LIB=	gomp
 SRCS= \
@@ -50,6 +50,8 @@ CPPFLAGS+= \
 	-I${ARCHDIR}
 CFLAGS+=-pthread
 
+COPTS+=	-Wno-stack-protector
+
 CWARNFLAGS.clang+=	-Wno-conversion
 
 # libgomp.so.1.0 is in GCC 4.5.
@@ -58,8 +60,6 @@ SHLIB_MINOR=	0
 
 LDFLAGS+=	-Wl,--version-script,${DIST}/libgomp/libgomp.map
 
-.PATH:	${ARCHDIR} ${DIST}/libgomp ${DIST}/libgomp/config/posix
-
 .if ${GOMP_MACHINE_ARCH} == ${MACHINE_ARCH:S/earmv5/earm/}
 # This is where GCC looks for it.
 FILES=		libgomp.spec
@@ -75,4 +75,4 @@ libinstall::
 
 .include <bsd.lib.mk>
 
-COPTS+=	-Wno-stack-protector
+.PATH:	${ARCHDIR} ${DIST}/libgomp ${DIST}/libgomp/config/posix
Index: lib/libiberty/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libiberty/Makefile,v
retrieving revision 1.4
diff -p -u -r1.4 Makefile
--- lib/libiberty/Makefile	22 Aug 2013 00:16:54 -0000	1.4
+++ lib/libiberty/Makefile	26 Feb 2014 05:53:08 -0000
@@ -2,7 +2,7 @@
 
 LIBISPRIVATE=	yes
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
 GCC_MACHINE_ARCH?=${MACHINE_ARCH:S/earmv5/earm/}
 
@@ -10,7 +10,7 @@ LIB=		iberty
 
 .include "${.CURDIR}/defs.mk"
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 GNUHOSTDIST=	${DIST}
 
 SRCS=		${G_REQUIRED_OFILES:.o=.c} ${G_EXTRA_OFILES:.o=.c} \
Index: lib/libmudflap/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libmudflap/Makefile,v
retrieving revision 1.2
diff -p -u -r1.2 Makefile
--- lib/libmudflap/Makefile	18 Apr 2012 19:21:25 -0000	1.2
+++ lib/libmudflap/Makefile	26 Feb 2014 05:53:08 -0000
@@ -3,17 +3,17 @@
 NOLINT=yes			# core dumps
 UNSUPPORTED_COMPILER.clang=     # defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
-DIST=           ${NETBSDSRCDIR}/external/gpl3/gcc/dist/libmudflap
+DIST=           ${GCCDIST}/libmudflap
 CPPFLAGS+=	-I${.CURDIR}
 LINTFLAGS+=-g
 
-.PATH: ${DIST}
-
 LIB=mudflap
 SRCS=mf-runtime.c mf-heuristics.c mf-hooks1.c mf-hooks2.c
 INCS=mf-runtime.h
 INCSDIR=/usr/include/gcc-4.5
 
 .include <bsd.lib.mk>
+
+.PATH: ${DIST}
Index: lib/libmudflapth/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libmudflapth/Makefile,v
retrieving revision 1.2
diff -p -u -r1.2 Makefile
--- lib/libmudflapth/Makefile	18 Apr 2012 22:42:21 -0000	1.2
+++ lib/libmudflapth/Makefile	26 Feb 2014 05:53:08 -0000
@@ -3,15 +3,15 @@
 NOLINT=yes			# core dumps
 UNSUPPORTED_COMPILER.clang=     # defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
-DIST=           ${NETBSDSRCDIR}/external/gpl3/gcc/dist/libmudflap
+DIST=           ${GCCDIST}/libmudflap
 CPPFLAGS+=	-I${.CURDIR}/../libmudflap -DLIBMUDFLAPTH
 
-.PATH: ${DIST}
-
 LINTFLAGS+=-g
 LIB=mudflapth
 SRCS=mf-runtime.c mf-heuristics.c mf-hooks1.c mf-hooks2.c mf-hooks3.c
 
 .include <bsd.lib.mk>
+
+.PATH: ${DIST}
Index: lib/libobjc/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libobjc/Makefile,v
retrieving revision 1.7
diff -p -u -r1.7 Makefile
--- lib/libobjc/Makefile	22 Aug 2013 00:16:54 -0000	1.7
+++ lib/libobjc/Makefile	26 Feb 2014 05:53:08 -0000
@@ -5,7 +5,7 @@ NOLINT=		# defined
 
 UNSUPPORTED_COMPILER.clang=	# defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
 LIB=		objc
 GCC_MACHINE_ARCH?=	${MACHINE_ARCH:S/earmv5/earm/}
@@ -28,11 +28,12 @@ EXTRA_FAKEHEADERS=
 
 LIBGCCOBJ!=    cd ${.CURDIR}/../libgcc/libgcc && ${PRINTOBJDIR}
 
+DIST=		${GCCDIST}
 DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-GNUHOSTDIST=	${NETBSDSRCDIR}/external/gpl3/gcc/dist
-GCCARCH=	${NETBSDSRCDIR}/external/gpl3/gcc/usr.bin/gcc/arch/${GCC_MACHINE_ARCH}
-LIBOBJCARCH=	${NETBSDSRCDIR}/external/gpl3/gcc/lib/libobjc/arch/${GCC_MACHINE_ARCH}
-GCCLIBXX=	${NETBSDSRCDIR}/external/gpl3/gcc/lib/libstdc++-v3/arch/${GCC_MACHINE_ARCH}
+GNUHOSTDIST=	${DIST}
+GCCARCH=	${GCC_SUBDIR}/usr.bin/gcc/arch/${GCC_MACHINE_ARCH}
+LIBOBJCARCH=	${GCC_SUBDIR}/lib/libobjc/arch/${GCC_MACHINE_ARCH}
+GCCLIBXX=	${GCC_SUBDIR}/lib/libstdc++-v3/arch/${GCC_MACHINE_ARCH}
 
 SRCS=		${G_OBJS:N[A-Z]*:Nlinking.lo:.lo=.c} ${G_OBJS:M[A-Z]*:.lo=.m} linking.m
 
@@ -68,8 +69,6 @@ runtime-info.h:
 	touch rtscratch
 	`${OBJC} --print-prog-name=cc1obj` -print-objc-runtime-info rtscratch >$@
 
-.PATH: ${DIST}/libobjc ${DIST}/libobjc/objc
-
 ${OBJS} ${POBJS} ${SOBJS}: runtime-info.h
 
 ${SRCS}: tconfig.h unwind.h options.h
@@ -96,6 +95,8 @@ CLEANFILES+=	options.h optionlist
 
 .include <bsd.lib.mk>
 
+.PATH: ${DIST}/libobjc ${DIST}/libobjc/objc
+
 .else
 .include <bsd.prog.mk>	# do nothing
 .endif
Index: lib/libstdc++-v3/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/Makefile,v
retrieving revision 1.7
diff -p -u -r1.7 Makefile
--- lib/libstdc++-v3/Makefile	1 Nov 2013 18:11:49 -0000	1.7
+++ lib/libstdc++-v3/Makefile	26 Feb 2014 05:53:08 -0000
@@ -3,7 +3,7 @@
 REQUIRETOOLS=	yes
 NOLINT=		# defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
 .include "Makefile.inc"
 
Index: lib/libstdc++-v3/Makefile.inc
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/Makefile.inc,v
retrieving revision 1.1
diff -p -u -r1.1 Makefile.inc
--- lib/libstdc++-v3/Makefile.inc	22 Aug 2013 16:03:30 -0000	1.1
+++ lib/libstdc++-v3/Makefile.inc	26 Feb 2014 05:53:08 -0000
@@ -1,3 +1,12 @@
 # $NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
 
+.ifndef _EXTERNAL_GPL3_GCC_LIB_LIBSTDCXX_MAKEFILE_INC_
+_EXTERNAL_GPL3_GCC_LIB_LIBSTDCXX_MAKEFILE_INC_=1
+
 GCC_MACHINE_ARCH=${MACHINE_ARCH:S/earmv5/earm/}
+
+.include "../../Makefile.inc"
+.sinclude "../../../Makefile.gcc_path"
+.sinclude "../../../../Makefile.gcc_path"
+
+.endif
Index: lib/libstdc++-v3/include/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/Makefile,v
retrieving revision 1.6
diff -p -u -r1.6 Makefile
--- lib/libstdc++-v3/include/Makefile	22 Aug 2013 16:03:30 -0000	1.6
+++ lib/libstdc++-v3/include/Makefile	26 Feb 2014 05:53:08 -0000
@@ -10,7 +10,7 @@ SUBDIR=		backward ext bits debug decimal
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 GNUHOSTDIST=	${DIST}
 
 # libsupc++
Index: lib/libstdc++-v3/include/Makefile.inc
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/Makefile.inc,v
retrieving revision 1.1
diff -p -u -r1.1 Makefile.inc
--- lib/libstdc++-v3/include/Makefile.inc	22 Aug 2013 16:03:30 -0000	1.1
+++ lib/libstdc++-v3/include/Makefile.inc	26 Feb 2014 05:53:08 -0000
@@ -1,3 +1,11 @@
 # $NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
 
+.ifndef _EXTERNAL_GPL3_GCC_LIB_LIBSTDCXX_INCLUDE_MAKEFILE_INC_
+_EXTERNAL_GPL3_GCC_LIB_LIBSTDCXX_INCLUDE_MAKEFILE_INC_=1
+
 .include "../Makefile.inc"
+.include "../../../Makefile.gcc_path"
+
+DIST=${GCCDIST}
+
+.endif
Index: lib/libstdc++-v3/include/backward/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/backward/Makefile,v
retrieving revision 1.3
diff -p -u -r1.3 Makefile
--- lib/libstdc++-v3/include/backward/Makefile	22 Aug 2013 16:03:30 -0000	1.3
+++ lib/libstdc++-v3/include/backward/Makefile	26 Feb 2014 05:53:08 -0000
@@ -1,18 +1,15 @@
 #	$NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
 
-.include <bsd.own.mk>
 .include <bsd.init.mk>
 
 .include "${.CURDIR}/../../arch/${GCC_MACHINE_ARCH}/defs.mk"
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_backward_headers}
 INCSDIR=	/usr/include/g++/backward
 
-.PATH: ${DIST}/libstdc++-v3/include/backward
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/backward
Index: lib/libstdc++-v3/include/bits/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/bits/Makefile,v
retrieving revision 1.6
diff -p -u -r1.6 Makefile
--- lib/libstdc++-v3/include/bits/Makefile	22 Aug 2013 16:03:31 -0000	1.6
+++ lib/libstdc++-v3/include/bits/Makefile	26 Feb 2014 05:53:08 -0000
@@ -1,13 +1,11 @@
 #	$NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
 
-.include <bsd.own.mk>
 .include <bsd.init.mk>
 
 .include "${.CURDIR}/../../arch/${GCC_MACHINE_ARCH}/defs.mk"
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
 CONF=		${DIST}/libstdc++-v3/config
 
 INCS=		${G_bits_headers} ${G_c_base_headers_extra} ${G_thread_host_headers} ${G_host_headers_extra} ${G_host_headers}
@@ -34,6 +32,9 @@ BITS_CPUDIR=${BITS_CPUDIR.${GCC_MACHINE_
 BITS_CPUDIR=${MACHINE_GNU_ARCH}
 .endif
 
+# Get default targets including <bsd.inc.mk>.
+.include <bsd.prog.mk>
+
 .PATH: ${.CURDIR}/../../arch/${GCC_MACHINE_ARCH} \
 	${DIST}/libstdc++-v3/include/bits \
 	${DIST}/libstdc++-v3/include/c_std \
@@ -44,6 +45,3 @@ BITS_CPUDIR=${MACHINE_GNU_ARCH}
 	${CONF}/cpu/${BITS_CPUDIR} \
 	${CONF}/cpu/generic \
 	${CONF}/locale/generic
-
-# Get default targets including <bsd.inc.mk>.
-.include <bsd.prog.mk>
Index: lib/libstdc++-v3/include/debug/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/debug/Makefile,v
retrieving revision 1.3
diff -p -u -r1.3 Makefile
--- lib/libstdc++-v3/include/debug/Makefile	22 Aug 2013 16:03:31 -0000	1.3
+++ lib/libstdc++-v3/include/debug/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,12 +7,10 @@
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_debug_headers}
 INCSDIR=	/usr/include/g++/debug
 
-.PATH: ${DIST}/libstdc++-v3/include/debug
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/debug
Index: lib/libstdc++-v3/include/decimal/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/decimal/Makefile,v
retrieving revision 1.2
diff -p -u -r1.2 Makefile
--- lib/libstdc++-v3/include/decimal/Makefile	22 Aug 2013 16:03:31 -0000	1.2
+++ lib/libstdc++-v3/include/decimal/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,12 +7,10 @@
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_decimal_headers}
 INCSDIR=	/usr/include/g++/decimal
 
-.PATH: ${DIST}/libstdc++-v3/include/decimal
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/decimal
Index: lib/libstdc++-v3/include/ext/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/ext/Makefile,v
retrieving revision 1.4
diff -p -u -r1.4 Makefile
--- lib/libstdc++-v3/include/ext/Makefile	22 Aug 2013 16:03:31 -0000	1.4
+++ lib/libstdc++-v3/include/ext/Makefile	26 Feb 2014 05:53:08 -0000
@@ -1,21 +1,14 @@
 #	$NetBSD: difz,v 1.1.1.1 2014/02/26 10:56:10 mrg Exp $
 
-.include <bsd.own.mk>
 .include <bsd.init.mk>
 
 .include "${.CURDIR}/../../arch/${GCC_MACHINE_ARCH}/defs.mk"
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_ext_headers}
 INCSDIR=	/usr/include/g++/ext
 
-.PATH: ${DIST}/libstdc++-v3/include/ext
-# for ext/hash_set
-.PATH: ${DIST}/libstdc++-v3/include/backward
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
 
@@ -23,3 +16,7 @@ INCSDIR=	/usr/include/g++/ext
 #SUBDIR=	pb_assoc
 
 #.include <bsd.subdir.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/ext
+# for ext/hash_set
+.PATH: ${DIST}/libstdc++-v3/include/backward
Index: lib/libstdc++-v3/include/parallel/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/parallel/Makefile,v
retrieving revision 1.2
diff -p -u -r1.2 Makefile
--- lib/libstdc++-v3/include/parallel/Makefile	22 Aug 2013 16:03:31 -0000	1.2
+++ lib/libstdc++-v3/include/parallel/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,12 +7,10 @@
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_parallel_headers}
 INCSDIR=	/usr/include/g++/parallel
 
-.PATH: ${DIST}/libstdc++-v3/include/parallel
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/parallel
Index: lib/libstdc++-v3/include/tr1/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/tr1/Makefile,v
retrieving revision 1.3
diff -p -u -r1.3 Makefile
--- lib/libstdc++-v3/include/tr1/Makefile	22 Aug 2013 16:03:31 -0000	1.3
+++ lib/libstdc++-v3/include/tr1/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,12 +7,10 @@
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_tr1_headers}
 INCSDIR=	/usr/include/g++/tr1
 
-.PATH: ${DIST}/libstdc++-v3/include/tr1
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/tr1
Index: lib/libstdc++-v3/include/tr1_impl/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libstdc++-v3/include/tr1_impl/Makefile,v
retrieving revision 1.2
diff -p -u -r1.2 Makefile
--- lib/libstdc++-v3/include/tr1_impl/Makefile	22 Aug 2013 16:03:31 -0000	1.2
+++ lib/libstdc++-v3/include/tr1_impl/Makefile	26 Feb 2014 05:53:08 -0000
@@ -7,12 +7,10 @@
 
 .cc: # disable .cc->NULL transform
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
-
 INCS=		${G_tr1_impl_headers}
 INCSDIR=	/usr/include/g++/tr1_impl
 
-.PATH: ${DIST}/libstdc++-v3/include/tr1_impl
-
 # Get default targets including <bsd.inc.mk>.
 .include <bsd.prog.mk>
+
+.PATH: ${DIST}/libstdc++-v3/include/tr1_impl
Index: lib/libsupc++/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/lib/libsupc++/Makefile,v
retrieving revision 1.5
diff -p -u -r1.5 Makefile
--- lib/libsupc++/Makefile	23 Aug 2013 05:02:46 -0000	1.5
+++ lib/libsupc++/Makefile	26 Feb 2014 05:53:08 -0000
@@ -8,7 +8,7 @@ NOPROFILE=	# defined
 CWARNFLAGS.clang+=	-Wno-parentheses
 UNSUPPORTED_COMPILER.clang=	# defined
 
-.include <bsd.own.mk>
+.include <bsd.init.mk>
 
 GCC_MACHINE_ARCH?=${MACHINE_ARCH:S/earmv5/earm/}
 
Index: usr.bin/Makefile.inc
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/usr.bin/Makefile.inc,v
retrieving revision 1.17
diff -p -u -r1.17 Makefile.inc
--- usr.bin/Makefile.inc	28 Nov 2013 13:04:35 -0000	1.17
+++ usr.bin/Makefile.inc	26 Feb 2014 05:53:08 -0000
@@ -5,11 +5,12 @@ _EXTERNAL_GPL3_GCC_USR_BIN_MAKEFILE_INC_
 
 .include <bsd.own.mk>
 
+.sinclude "../../Makefile.gcc_path"
+
 GCC_MACHINE_ARCH=${MACHINE_ARCH:S/earmv5/earm/}
 GMP_MACHINE_ARCH=${MACHINE_ARCH:C/armv[4-7]/arm/}
 
-TOP=		${NETBSDSRCDIR}
-DIST=		${TOP}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 
 GCCARCH=	${.CURDIR}/../gcc/arch/${GCC_MACHINE_ARCH}
 
Index: usr.bin/libdecnumber/Makefile
===================================================================
RCS file: /cvsroot/src/external/gpl3/gcc/usr.bin/libdecnumber/Makefile,v
retrieving revision 1.3
diff -p -u -r1.3 Makefile
--- usr.bin/libdecnumber/Makefile	22 Aug 2013 00:17:48 -0000	1.3
+++ usr.bin/libdecnumber/Makefile	26 Feb 2014 05:53:08 -0000
@@ -1,6 +1,6 @@
 #	$NetBSD
 
-DIST=		${NETBSDSRCDIR}/external/gpl3/gcc/dist
+DIST=		${GCCDIST}
 GNUHOSTDIST=	${DIST}
 
 LIBISPRIVATE=   yes
