File						Version(s)
----						--------

XXX changes before cgd started???		XXX

sbin/swapctl/swaplist.c				patch

  Test correct return value.  (mrg)

include/ctype.h					1.16

  Cast the argument of ctype macros to (int) to fix behaviour on
  unsigned char machines.  (tv)

distrib/notes/amiga/prep			1.16

  Add a warning to reinstall miniroot.fs before retrying
  installation.  (is)

libexec/ld.elf_so/rtld.c			1.7

  Don't forget to update _rtld_objtail when _rtld_dlclose() removes
  the current tail entry.  (mhitch)

etc/etc.pmax/MAKEDEV				1.22

  PMAX SCSI drivers support rz5, rz6, rz7 [on DS3100], rz13, and rz14.
  MAKEDEV needs to be able to create those devices, and to include
  them in 'all'.  (mhitch)

lib/libc/arch/mips/sys/cerror.S			1.6

  Explicilty reload the mips-ABIcall GOT/$gp in cerror().  cerror()
  gets called from outside libc (e.g., from libposix's rename(), and
  if we don't load $t9, cerror() makes wild references using the
  libposix $gp and coredumps.  (jonathan)

usr.sbin/inetd/inetd.c				1.43

  From "buqtraq": avoid file descriptor leak if service is looping.
  (tron)

gnu/usr.bin/cpio/Makefile			1.6

  Add -DHAVE_LCHOWN=1 to CPPFLAGS to ensure that owner/group of
  symlinks are properly keept. Closes PR#5595.  (frueauf)

lib/libc/stdio/fseek.3				1.10-1.11

  Fix typo (PR#6053), and make return value description match
  XSH5.  (kleink)

include/time.h					1.22

  Remove the public declaration of gtime(), which is shipped with
  tzcode but is not compiled into our libc since it is intended for
  use with Mach only.  (kleink)

sys/dev/ic/z8530tty.c				1.49-1.50

  Initialize the struct tty's t_dev field at attach, so that the
  console parameters are correctly set even if the console is not
  zstty0.  (wrstuden)

sys/arch/amiga/amiga/locore.s			patch

  Fix catastrophic typo. DraCos rev. 3 (or older) would crash on
  exiting from the first timer interupt.  (is)

sys/dev/scsipi/scsi_tape.h			1.15
sys/dev/scsipi/st.c				1.98 (patch)

  Fix incorrect length of LOCATE CDB (PR#5306).  (drochner)

sys/compat/freebsd/freebsd_misc.c		1.4
sys/compat/freebsd/syscalls.master		1.16
sys/compat/freebsd/freebsd_syscall.h		regenerate
sys/compat/freebsd/freebsd_syscallargs.h	regenerate
sys/compat/freebsd/freebsd_syscalls.c		regenerate
sys/compat/freebsd/freebsd_sysent.c		regenerate

  Implement FreeBSD issetugid().  (tv)

sys/kern/kern_subr.c				1.35 (patch)

  Remove rounding-down of hash size in hashinit(); allow easy
  support for hash functions other than "& hashmask" (such as
  "& prime_number").  (tls)

sys/netinet/if_arp.c				1.43-1.45, 1.47-1.49, 1.52
sys/netinet/igmp.c				1.18
sys/netinet/in.c				1.38-1.39, 1.45 (patch)
sys/netinet/in_pcb.c				1.49-1.50, 1.53 (patch)
sys/netinet/in_var.h				1.21-1.22, 1.27, 1.29-1.30,
						1.31 (patch)
sys/netinet/ip_icmp.c				1.27-1.28, 1.30
sys/netinet/ip_input.c				1.57-1.58 (patch),
						1.71 (patch)
sys/netinet/ip_output.c				1.44-1.45, 1.51 (patch)

  Change list of interface IP addresses to a hash.  Improves performance
  on hosts with a large number of IP addresses significantly.  (tls)

sys/netinet/tcp_fsm.h				1.9-1.10

  Back out the change from TCP/IP vol 2, in revision 1.7, which removed
  TH_FIN from the output flags for CLOSING state.  Fix TCPS_HAVERCVDFIN()
  to actually catch all TCP states in which a FIN has been received
  (CLOSE_WAIT, CLOSING, LAST_ACK, and TIME_WAIT).  (mycroft)

sys/arch/amiga/include/vmparam.h		1.20

  Workaround for pmap bugs. Several reports on the port-amiga list claim
  this helps with some big-machine situations. (is)

sys/arch/amiga/amiga/machdep.c			patch

  Fix execution of SunOS binaries by reverting a patch mistakenly
  included in 1.3.1 (PR#5782).  (is)

usr.sbin/rarpd/mkarp.c				1.2

  Set the length of arp entries, so that the kernel accepts them
  (PR#4835).  (christos)

distrib/utils/sysinst/arch/i386/fdisk.c		patch

  Eliminates a gratious call to fdisk to initialize the mbr.
  If the mbr already contained valid code and a partition table,
  these were overridden by this fdisk call.  If the mbr wasn't
  valid yet, fdisk would initialize the code and partition table
  anyway the first time it writes anything to the disk, and fdisk
  will be called at least once in any case, to set the active
  partition.  (ws)

sys/arch/i386/i386/disksubr.c			patch
sys/arch/i386/include/disklabel.h		patch

  Recognize DOS FAT32 and Linux ext2fs partitions in the default
  disklabel so that users get them automatically when creating a
  new disklabel and can mount them from a disk that contains no
  NetBSD partition.  (fvdl)

distrib/sets/lists/base/md.x68k			patch
distrib/sets/lists/comp/md.x68k			1.18

  Fix lists to include previously-missed files.  (minoura)

etc/etc.x68k/MAKEDEV				1.17

  Fix things so that kernels containing ramdisks can be
  made correctly.  (minoura)

sys/arch/x68k/conf/ALL				patch
sys/arch/x68k/conf/GENERIC			patch
sys/arch/x68k/conf/INSTALL			patch
sys/arch/x68k/include/vmparam.h			patch
sys/arch/x68k/x68k/machdep.c			patch
sys/arch/x68k/x68k/pmap_bootstrap.c		patch

  Work around broken extended memory detection, by specifying
  its start and size by hand.  (minoura)

sys/arch/x68k/conf/INSTALL			patch

  Enable MSDOSFS so that installation from a DOS-formatted
  removable disk is possible.  (minoura)

sys/arch/x68k/dev/grf.c				patch
sys/arch/x68k/dev/ite.c				patch

  Fixed possible stray pointer access.  (minoura)

sys/arch/x68k/dev/mha.c				1.4 (patch)

  Correctly set XS_BUSY error code at device busy.  In
  addition, change DMA transfer mode according to the model,
  so that it runs on more models of x68k.  (minoura)

sys/arch/x68k/dev/spc.c				1.14 (patch)

  Correctly sets XS_BUSY error code at device busy.  (minoura)

sys/arch/x68k/x68k/locore.s			patch
sys/arch/x68k/x68k/vectors.s			1.3

  Move vectors to the data segment, so they can be overwritten
  on '060 systems.  (minoura)

sys/arch/x68k/stand/Makefile			patch
sys/arch/x68k/stand/writefdboot			patch

  Fix bugs in the installation and operation of
  'writefdboot.'  (minoura)

share/man/man4/options.4			1.62

  Fix typo: SHMPAXPGS -> SHMMAXPGS (PR#6178).  (frueauf)

bin/pax/tar.c					1.12

  Fix a bug in restoring files with path names >100
  characters.  (mycroft)

sys/arch/i386/include/cputypes.h		1.11
sys/arch/i386/i386/machdep.c			1.329

  Add the IDT WinChip C6 to the cpu types table.  (bad)

sys/arch/i386/include/segments.h		1.29
sys/arch/i386/i386/machdep.c			patch

  Set up new system call gate used by Solaris 2.6.  (christos)

sbin/newfs/newfs.c				1.36

  Fix a performance problem with 4KB/512B file systems.  (mycroft)

usr.bin/at/Makefile				1.3
usr.bin/at/at.1					1.8
usr.bin/at/at.c					1.8-1.12
usr.bin/at/at.h					1.3
usr.bin/at/panic.c				1.5
usr.bin/at/panic.h				1.3
usr.bin/at/parsetime.c				1.6-1.7
usr.bin/at/parsetime.h				1.3
usr.bin/at/pathnames.h				1.4
usr.bin/at/perm.c				1.1 (new)
usr.bin/at/perm.h				1.1 (new)
usr.bin/at/privs.h				1.4
libexec/atrun/atrun.8				1.7-1.8
libexec/atrun/atrun.c				1.5
libexec/atrun/atrun.h				1.4

  Fix several bugs (some of which are security related), and implement
  some new features (e.g. at.allow and at.deny files).  (mrg)

distrib/x68k/floppies/Makefile.inc		1.7 (patch)
distrib/x68k/floppies/bootfloppy/Makefile	1.2
distrib/x68k/floppies/bootfloppy-common/Makefile.inc
						1.4-1.5
distrib/x68k/floppies/ramdisk/dot.hdprofile	1.3
distrib/x68k/floppies/ramdisk/dot.profile	1.3
distrib/x68k/floppies/ramdisk/install.tmpl	1.2-1.3
distrib/x68k/floppies/ramdisk/list		1.2
distrib/x68k/floppies/ramdisk/ramdiskbin.conf	1.2
distrib/x68k/floppies/ramdisk/upgrade.tmpl	1.2 (patch)

  Fix various bugs in x68k installation script and distribution
  floppy build process.  (minoura)

sys/arch/pmax/dev/tz.c				1.16-1.18

  Suport TZ30 by recognizing it and setting the TK50 flag,
  and support a WangTek QIC-150 model by setting the Viper
  150 flag.  (jonathan)

sys/vm/vm_map.h					1.21 (patch)
sys/conf/param.c				1.25
sys/sys/param.h					1.53

  Change MAX_KMAPENT to be computed from NPROC (with a lower
  bound), to avoid panics on heavily used servers due to
  running out of kernel map entries (PR#6293).  (jonathan)

gnu/usr.bin/gcc/arch/mips/netbsd.h		1.8

  Add -D__ELF__ to CPP predefines for mips, which indirectly
  causes PR#3539 to be fixed.  (jonathan)

sys/arch/pmax/pmax/conf.c			patch

  Add two missing NODEV entries (93 and 94) in the pmax
  chrtoblktbl.  (jonathan)

sys/arch/i386/i386/machdep.c			patch

  Correct panic message in _bus_dmamap_load_mbuf (PR#6226).  (frueauf)

sbin/routed/input.c				1.23

  Disable and log RIP_TRACEON and RIP_TRACEOFF.  They are
  insecure.  (christos)

usr.sbin/named/named/ns_req.c			1.8

  Prevent CH TXT version.bind information leakage.  (lukem)

usr.sbin/named/ndc/ndc.sh			1.4

  Read in 'named_flags' from /etc/rc.conf, to be used when
  restarting named.  (lukem)

usr.sbin/named/nslookup/main.c			1.4
usr.sbin/named/nslookup/res.h			1.4

  Fix a buffer overflow.  (lukem)

sys/netinet/ip_output.c				1.53

  Fix a bug when looking up an interface for multicast: zero
  out the routing structure before calling the route lookup
  code in order to correctly match addresses.  (ws)

sys/dev/isa/if_ec.c				1.10
sys/dev/isa/if_we.c				1.12

  Fill in the "init_card" entry points so that media selection
  can work.  (thorpej)

sys/kern/vfs_bio.c				1.57

  Fix some potential file corruption problems with clustering.  (mycroft)

usr.bin/Makefile				1.89 (patch)
usr.bin/fdformat/Makefile			1.2
distrib/sets/lists/man/mi			1.95
distrib/sets/lists/man/md.arm32			patch
distrib/sets/lists/man/md.atari			patch
distrib/sets/lists/man/md.i386			patch
distrib/sets/lists/man/md.sparc			patch

  Build and install fdformat manual pages on all ports, so
  the manual pages really can be shared.  (jonathan)

distrib/notes/pmax/install			patch

  Fix various small typos.  (simonb)

sys/arch/pmax/dev/dtop.c			1.34

  Make handler FSM robust enough to not lose its place after data
  overrun.  Stops keyboard from going catatonic.  (jonathan)

gnu/usr.bin/ld/ld/ld.c				1.51-1.53
gnu/usr.bin/ld/ld/ld.1				1.13-1.16

  Add emulation of binutils 2.x ld options (-rpath dir,
  -shared, -soname, --whole-archive, --no-whole-archive,
  --export-dynamic) for compatibility with ELF ports and
  to aid migration to bintils.  (jonathan)

sys/arch/atari/dev/atari5380.c			1.29

  Disable SCSI interrupts while polling for the transfer to
  finish.  This fixes spurious panics while some Hades systems.
  This bug could also occur on a TT030.  (leo)

sys/arch/atari/dev/grfabs_et.c			1.8-1.9

  Let et4000 work with other RAMDAC than STG1703.  Use NOWAIT when
  malloc()-ing a buffer for switching screens. It might be running
  from an interrupt handler.  (leo)

sys/arch/atari/dev/grfabs_fal.c			1.11

  Fix a bug in the colormap handling.  (leo)

sys/arch/atari/stand/bootxx/bootxx.c		1.3

  Accept an 68060 as cpu type.  (leo)

sys/arch/pmax/tc/scc.c				patch

  Fix a problem preventing kernels from being built with no
  frame buffer or rconsole devices.  (mrg)

libexec/ld.elf_so/link.h			1.3
gnu/dist/gdb/solib.c				1.6

  Fix gdb shared-lib handling on mips.  (gdb expects link.h,
  if it exists, to include certain symbols from elf_machdep.h.
  Also, work around non-relocation and misfeatures in mips ELF
  to avoid heuristic fencepost errors.)  (jonathan)

sys/dev/tc/asc.c				1.46

  Fix an error that resulted in a system reboot without any
  error message unless DEBUG was defined.  Correct a check for
  a spurious interrupt that came from a newer version of the
  Mach driver which didn't get converted correctly when imported
  into the pmax driver.  Partial workaround for "Illegal Command"
  error status (partial fix for PR#5510).  (mhitch)

distrib/utils/sysinst/disks.c			1.18

  When scanning for disks, find disks numbered up to MAX_DISKS
  (currently 15) rather than stopping at 5.  (jonathan)

sys/arch/i386/i386/trap.c			patch

  Don't corrupt 'edx' register when running under linux emulation
  (PR#6356).  (mycroft)

usr.sbin/rpc.yppasswdd/rpc.yppasswdd.8		1.5-1.6

  Don't mention /var/yp/yppasswdd.log, since it really isn't supported
  (PR #5704 and PR#6393), and minor cosmetic cleanup.  (frueauf)

usr.sbin/ypbind/ypbind.c			1.37 (patch)

  Use syslog() (with LOG_DAEMON) instead of warn()/err().  Messages
  will still be printed to stderr if ypbind is started in debug mode.
  Also, don't exist if none of the servers listed in
  /var/yp/binding/<domainname>.ypservers are reacheable.  It's a
  temporary failure that can be recovered from.  (bouyer)

sys/arch/i386/i386/machdep.c			1.304 (patch)

  Implement handling of DMA boundaries by bus_dmamap_load(), as
  specified in bus_dma(9).  (bouyer)

sys/msdosfs/msdosfs_vnops.c			1.76

  Fix bug where you could create two files with the same name
  in the root directory of a FAT file system.  (ws)

sys/arch/alpha/pci/dwlpx_pci.c			1.9

  Fix misplaced 32 Bit PCI byte enables for alpha 8200. Some
  PCI devices (e.g., Buslogic BT958) will now be correctly
  configured.  (mjacob)

sys/arch/alpha/pci/sio.c			1.23

  Fix softc declaration for 'pceb' device.  The incorrect
  definition caused an obscure bug in which the configuration
  code would stop at the bridge (pceb) and would not even call
  match for the two Qlogic ISP cards that followed.  (mjacob)

sys/arch/i386/Makefile				patch
sys/arch/i386/isa/pcvt/Makefile			new
sys/arch/i386/isa/pcvt/Util/Makefile.inc	1.7-1.10
sys/arch/i386/isa/pcvt/Util/keycap/Makefile	1.11
sys/arch/i386/isa/pcvt/Util/keycap/shlib_version 1.1 (new)
distrib/sets/lists/base/md.i386			1.40-1.44 (patch)
distrib/sets/lists/comp/md.i386			1.28-1.29 (patch)

  Install pcvt utilities and fonts.  (feyrer)

sys/sys/Makefile				patch

  Change owner/group of installed headers to BINOWN/BINGRP,
  so that they're consistent with the rest of the includes.  (cgd)

usr.sbin/pkg_install/add/add.h			1.3
usr.sbin/pkg_install/add/extract.c		1.9-1.11
usr.sbin/pkg_install/add/futil.c		1.6
usr.sbin/pkg_install/add/main.c			1.5-1.7
usr.sbin/pkg_install/add/perform.c		1.11-1.28
usr.sbin/pkg_install/add/pkg_add.1		1.7-1.9
usr.sbin/pkg_install/create/create.h		1.5-1.9
usr.sbin/pkg_install/create/main.c		1.6-1.11
usr.sbin/pkg_install/create/perform.c		1.7-1.14
usr.sbin/pkg_install/create/pkg_create.1	1.8-1.12
usr.sbin/pkg_install/create/pl.c		1.5-1.9
usr.sbin/pkg_install/delete/main.c		1.6
usr.sbin/pkg_install/delete/perform.c		1.5-1.11
usr.sbin/pkg_install/delete/pkg_delete.1	1.5-1.5
usr.sbin/pkg_install/info/info.h		1.3-1.6
usr.sbin/pkg_install/info/main.c		1.7-1.12
usr.sbin/pkg_install/info/perform.c		1.5-1.19
usr.sbin/pkg_install/info/pkg_info.1		1.6-1.12
usr.sbin/pkg_install/info/show.c		1.6-1.8
usr.sbin/pkg_install/lib/Makefile		1.6-1.7
usr.sbin/pkg_install/lib/exec.c			1.5
usr.sbin/pkg_install/lib/file.c			1.11-1.21
usr.sbin/pkg_install/lib/ftp.errors		1.3 (deleted)
usr.sbin/pkg_install/lib/ftpio.3		1.3 (deleted)
usr.sbin/pkg_install/lib/ftpio.c		1.6 (deleted)
usr.sbin/pkg_install/lib/ftpio.h		1.3 (deleted)
usr.sbin/pkg_install/lib/global.c		1.5
usr.sbin/pkg_install/lib/lib.h			1.5-1.18
usr.sbin/pkg_install/lib/msg.c			1.6 (deleted)
usr.sbin/pkg_install/lib/pen.c			1.7-1.13
usr.sbin/pkg_install/lib/plist.c		1.8-1.15
usr.sbin/pkg_install/lib/str.c			1.6-1.11

  Miscellaneous code cleanup, with improvements for internal
  bounds-checking and maintenance.  Recognise sh(1)-style glob
  version names, csh(1)-style alternate version names, and match
  version numbers relationally.  Add support for build-version, and
  build-info files in binary packages.  Add support for detecting
  conflicting packages.  Eliminate redundant options from
  pkg_create(1).  Improve documentation.  Use NetBSD's ftp(1)
  client to retrieve binary packages by URL.  Various other bug fixes.
  (agc and feyrer)

lib/libc/stdio/vfscanf.c			1.21

  Don't return immediately if EOF encountered while matching format
  string white space in the input stream since there may be `conversion'
  specifiers following the (format string) white space that do not
  operate on the input stream, e.g., %n.  (kleink)

usr.sbin/rpc.yppasswdd/yppasswdd_mkpw.c		1.4

  Allow changing of formerly empty passwords (PR#5659 and
  PR#6394).  (is)

sys/ufs/ext2fs/ext2fs_vnops.c			patch
sys/ufs/ufs/ufs_vnops.c				patch

  Show correct number of blocks used for files larger than 2GB.  (cgd)

sys/arch/pmax/dev/sfb.c				1.25-1.27
sys/arch/pmax/dev/bt459.c			1.12

  Fix the smart frame buffer driver on DECstations to work properly
  on cards with an alternate clock which provides a lower display
  resolution.  (mhitch)

sys/arch/pmax/dev/rz.c				1.40

  Fix an error with non-DEC (block size != 512 byte) CDROM drives.
  Without this change, a third-party CDROM drive that doesn't allow
  configuration for 512 byte blocks can not be used.  (mhitch)

lib/csu/mips/crt0.c				1.10
lib/csu/mips/Makefile				1.18
lib/csu/mips/crtbegin.c				1.1-1.5 (new)
lib/csu/mips/crtend.c				1.2
share/mk/bsd.lib.mk				patch
gnu/usr.bin/gcc/arch/mips/netbsd.h		1.10

  Fix C++ constructors and destructors on mips systems (PR#5352).
  (jonathan and mhitch)

gnu/usr.bin/binutils/Makefile			1.1-1.7 (new)
gnu/usr.bin/binutils/Makefile.inc		patch (new)
gnu/usr.bin/binutils/addr2line/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/ar/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/c++filt/Makefile		1.1-1.6 (new)
gnu/usr.bin/binutils/c++filt/underscore.c	1.1 (new)
gnu/usr.bin/binutils/common/Makefile		1.1-1.3 (new)
gnu/usr.bin/binutils/common/config.h		1.1 (new)
gnu/usr.bin/binutils/nm/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/objdump/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/ranlib/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/size/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/strings/Makefile		1.1-1.2 (new)
gnu/usr.bin/binutils/strip/Makefile		1.1-1.3 (new)
gnu/usr.bin/gas.new/Makefile			patch (new)
gnu/usr.bin/gas.new/arch/mips/Makefile.inc	1.1-1.2 (new)
gnu/usr.bin/gas.new/arch/mips/itbl-cpu.h	1.1 (new)
gnu/usr.bin/gas.new/arch/mips/obj-format.h	1.1 (new)
gnu/usr.bin/gas.new/arch/mips/targ-cpu.h	1.1 (new)
gnu/usr.bin/gas.new/arch/mips/targ-env.h	1.1 (new)
gnu/usr.bin/gas.new/config.h			1.1-1.3 (new)
gnu/usr.bin/ld.new/Makefile			patch (new)
gnu/usr.bin/ld.new/_mips.mk			1.1 (new)
gnu/usr.bin/ld.new/config.h			1.1 (new)
gnu/usr.bin/ld.new/ldemul-list.h		1.1-1.2 (new)

  Add infrastructure to build assembler, linker, and binutils
  out of gnu/dist for mips ports.  (jonathan and simonb)

share/mk/bsd.obj.mk				1.14-1.15

  Implement the "print-objdir" target.  (jonathan)

share/mk/bsd.own.mk				1.59, 1.69-1.70, 1.74

  Set OBJECT_FMT and MACHINE_GNU_ARCH.  (jonathan)

sys/sys/param.h					1.44 (patch)

  Implement __NetBSD_Version__ version identification.  (cgd)

distrib/notes/Makefile				1.7-1.8

  Strip NetBSD RCS tags from input files.  (cgd)

distrib/notes/x68k/contents			1.6-1.7
distrib/notes/x68k/hardware			1.3-1.4
distrib/notes/x68k/install			1.3-1.6
distrib/notes/x68k/prep				1.2-1.3
distrib/notes/x68k/upgrade			1.5-1.6
distrib/notes/x68k/whatis			1.2-1.3
distrib/notes/x68k/xfer				1.2-1.3

  Updating x68k install documentation for 1.3.3.  (minoura)

sys/arch/sparc/dev/isp_sbus.c			patch
sys/conf/files					1.223
sys/dev/ic/isp.c				1.16-1.17, 1.19-1.27
sys/dev/ic/isp_netbsd.c				patch (new)
sys/dev/ic/isp_netbsd.h				patch (new)
sys/dev/ic/ispmbox.h				1.6-1.9
sys/dev/ic/ispreg.h				1.4-1.8
sys/dev/ic/ispvar.h				1.8-1.13
sys/dev/microcode/isp/asm_pci.h			1.9-1.12
sys/dev/pci/isp_pci.c				patch

  Jumbo patch to bring release branch up to date with current state
  of Qlogic ISP SCSI/FibreChannel HBA driver.  (Fixes PR#5197 and
  several operational problems.)  (mjacob)

gnu/usr.bin/gcc/common/expr.c			1.2

  Fixes a code generation bug in store_expr() when the rhs is a memory
  location pointed to by a postincremented (or postdecremented) pointer
  and the value of the assignment is reused (PR#6373).  (mycroft)

sys/nfs/nfs_syscalls.c				1.33

  Fixes lossage with swapping over NFS.  (mycroft)

sys/vm/vm_swap.c				1.64

  Fixes swapping over NFSv3; previously the server could throw away data
  because we did `unstable' writes and never committed them.  (mycroft)

sys/kern/vfs_cluster.c				1.19-1.21

  Fixes arithmetic overflows handling files larger than 2GB.  Fixes
  problems with clustering when the file system block size is less
  than BUFPAGES/NBUF*NBPG (PR#6332).  (It now tries more aggressively
  to use buffers that still have extra space, and it theoretically
  never frees a buffer with b_bcount>fs_bsize.)  (mycroft)

usr.bin/gprof/Makefile				patch

  Build a.out gprof on mips.  The binutils gprof doesn't support
  the mips, and a.out profiling is better than none.  (jonathan)

share/mk/bsd.prog.mk				1.97

  Explicitly add CRTBEGIN and CRTEND to the link line when building
  programs with DESTDIR set for all ELF ports (rather than just on
  alpha and powerpc; i.e., now including mips).  (jonathan)

gnu/lib/bfd/targmatch.h				patch

  Add correct mips target names.  (jonathan)

share/mk/bsd.sys.mk				1.28

  Define STRIPPROG for use when installing binutils' 'strip'.  (simonb)

sys/arch/i386/isa/clock.c			1.47-1.50, 1.53-1.55

  Update the "something's wrong" base date from 1985 to 1995.  Add
  sanity checking to prevent problems if the date in the RTC is
  outside of the range time_t can represent.  This is a rare
  problem, but it is devastating if it happens to someone.  Fix
  assorted Y2K problems.  (perry)

sys/sys/socket.h				1.39

  Define COMPAT_OLDSOCK and MSG_COMPAT when COMPAT_ULTRIX is
  defined.  (mrg)

gnu/usr.bin/gcc/common/loop.c			1.2

  Fixes a bug that causes GCC to fail on some code, primarily on
  the ARM.  (mycroft)

gnu/usr.bin/gcc/common/global.c			1.3
gnu/usr.bin/gcc/common/reload.c			1.4

  Fixes yet another bug -- this one affecting pkgsrc/editors/emacs
  and pkgsrc/games/abuse on the ARM.  (mycroft)

gnu/usr.bin/gcc/common/version.c		1.4

  Differentiate the compiler from previous versions.  (mycroft)

share/examples/emul/svr4/etc/SVR4_MAKEDEV	1.2-1.3

  Make "ptmx" and "pts[0-2]" devices, and remove devices before
  (re)creating them.  (feyrer)

share/man/man8/compat_svr4.8			1.11

  Fix cut-and-paste error.  (feyrer)

sys/dev/mii/mii.c				patch
sys/dev/pci/if_tl.c				patch

  Set the default media to UTP, and don't include 'none' in the media
  list, so that sysinst will be able to set media properly.  (bouyer)

usr.bin/ftp/Makefile				patch
usr.bin/ftp/cmds.c				1.33-1.44
usr.bin/ftp/cmdtab.c				1.18-1.19
usr.bin/ftp/complete.c				patch
usr.bin/ftp/domacro.c				1.11-1.12
usr.bin/ftp/extern.h				1.19-1.25
usr.bin/ftp/fetch.c				1.18-1.36
usr.bin/ftp/ftp.1				1.24-1.30
usr.bin/ftp/ftp.c				1.31-1.38
usr.bin/ftp/ftp_var.h				1.22-1.26
usr.bin/ftp/main.c				1.28-1.34
usr.bin/ftp/ruserpass.c				1.16-1.21
usr.bin/ftp/util.c				patch
usr.bin/ftp/fparseln.c				patch (new)
usr.bin/ftp/util.h				patch (new)

  Add support to set buffer-size (send+receive), re-dial if the
  connection attempt failed and saving to a given filename if a
  URL is given. Also, passive mode is now tried first by default.
  Other miscellaneous bug fixes and improvements.  (feyrer)

sys/netinet/ip_input.c				1.74

  Once a fragmented IP packet has been reassembled, recompute the
  packet length before passing it up the stack.  (thorpej)

gnu/usr.bin/gcc/common/combine.c		1.2

  Don't fold equality comparisons with constants if the operand is larger
  than the word size.  (mycroft)

gnu/usr.bin/gcc/arch/arm32/arm32.c		1.3
gnu/usr.bin/gcc/arch/arm32/arm32.h		1.3
gnu/usr.bin/gcc/arch/arm32/arm32.md		1.4

  Works around the bug that causes:

	foo.c:11: internal error--unrecognizable insn:
	(insn 62 58 31 (set (reg:SI 0 r0)
	        (smin:SI (reg:SI 0 r0)
	            (reg:SI 3 r3))) -1 (nil)
	    (nil))
	cc: Internal compiler error: program cc1 got fatal signal 6

  (mycroft)

gnu/usr.bin/gcc/arch/arm32/arm32.c		1.4
gnu/usr.bin/gcc/arch/arm32/arm32.h		1.4
gnu/usr.bin/gcc/arch/arm32/arm32.md		1.5

  Fixes the abort() that occurs when compiling dhcpd.  (mycroft)

gnu/usr.bin/gcc/arch/arm32/arm32.h		1.5
gnu/usr.bin/gcc/common/flow.c			1.3
gnu/usr.bin/gcc/common/integrate.c		1.3
gnu/usr.bin/gcc/common/sched.c			1.3

  Redo the ARM PIC patches as they were done in GCC 2.8.  (mycroft)

gnu/usr.bin/gcc/common/flow.c 1.4

  Pull in some more bug fixes from GCC 2.8, dealing with spurious
  -Wuninitialized warnings and lossage when combining alloca() and
  -fomit-frame-pointer.  (mycroft)

gnu/usr.bin/gcc/common/genoutput.c		1.2
gnu/usr.bin/gcc/common/reload.c			1.5
gnu/usr.bin/gcc/arch/arm32/arm32.md		1.6

  Undo a bogus hack that could possibly generate bad code, and fix it
  correctly.  (mycroft)

gnu/usr.bin/gcc/arch/arm32/aout.h		1.1
gnu/usr.bin/gcc/arch/arm32/arm32.c		1.6
gnu/usr.bin/gcc/arch/arm32/arm32.h		1.6
gnu/usr.bin/gcc/arch/arm32/arm32.md		1.7
gnu/usr.bin/gcc/arch/arm32/netbsd.h		1.6

  Updates from 2.8/egcs.  Mostly removes dead code.  (mycroft)

gnu/usr.bin/gcc/common/combine.c		1.3

  Fixes PR#5564.  (mycroft)

gnu/usr.bin/gcc/common/reload.c			1.6

  Removes another hack that could generate bad code in some cases.  (mycroft)

gnu/usr.bin/gcc/arch/i386/i386.md		1.3

  Fixes PR#5199.  (mycroft)

sys/dev/ic/dp8390.c				1.14

  Fixes a bug that causes the driver to corrupt its internal state and
  experience random lossage (sometimes observed as NFS wedging).  (mycroft)

sbin/fdisk/fdisk.c				1.25

  This updates the list of partition names to include (amongst others)
  NetBSD's 169 partition identifier.  (jonathan)

distrib/utils/sysinst/arch/i386/menus.md.eng	1.14
distrib/utils/sysinst/arch/i386/menus.md.fr	1.7
distrib/utils/sysinst/arch/i386/msg.md.eng	1.6

  Clarify BIOS geometry menus.  (jonathan)

distrib/utils/sysinst/arch/i386/menus.md.eng	1.15
distrib/utils/sysinst/arch/i386/msg.md.eng	1.7

  Change the `whole disk' vs `normal' (`part of disk') menu to
  explain more clearly what it's asking about.  (jonathan)

distrib/utils/sysinst/msg.mi.eng		1.31

  Explain that this menu lets the user choose partition-size units
  for either BSD disklabel partitions, or (on some ports) for MBR
  slices, too.  (jonathan)

distrib/utils/sysinst/msg.mi.eng		1.32

  Change `layout' message to explicitly say that here, partitions are
  being defined in the BSD disklabel (not the MBR).  (jonathan)

distrib/utils/sysinst/menus.mi.eng		1.21
distrib/utils/sysinst/menus.mi.fr		1.7

  UI safety: change order of menu entries in BSD disklabel-editing
  menu, so that the default option is to change a partition entry,
  rather than proceed.  (The change-parittion menu has an option
  to quit.)  (jonathan)

distrib/utils/sysinst/msg.mi.eng		1.30
distrib/utils/sysinst/msg.mi.fr			1.7
distrib/utils/sysinst/arch/arm32/menus.md.eng	1.3
distrib/utils/sysinst/arch/arm32/menus.md.fr	1.2
distrib/utils/sysinst/arch/i386/menus.md.eng	1.13
distrib/utils/sysinst/arch/i386/menus.md.fr	1.6
distrib/utils/sysinst/arch/pc532/menus.md.eng	1.7
distrib/utils/sysinst/arch/pc532/menus.md.fr	1.2
distrib/utils/sysinst/arch/pmax/menus.md.eng	1.7
distrib/utils/sysinst/arch/pmax/menus.md.fr	1.2

  Move all partitioning menus up by one, and add an entry (two for
  the i386) so that the partition menu items match the selector
  letters).  (simonb)

distrib/utils/sysinst/arch/i386/fdisk.c		patch

  When editing BIOS geometry, prompt user with current idea of BIOS
  geometry.  (jonathan)

distrib/utils/sysinst/net.c			1.35 (patch)

  Handle ifconfig "media: ethernet manual" output for devices with
  non-soft-settable media.  Treat that as if there was no media output.
  Use a supplied media-string of "<null>" or "<default>" or synonyms to
  avoid passing explicit media flags onto ifconfig.  (jonathan)

usr.bin/Makefile				1.90 (patch)
usr.bin/elfstrip/Makefile			1.7 (deleted)
usr.bin/elfstrip/elfstrip.1			1.4 (deleted)
usr.bin/elfstrip/elfstrip.c			1.6 (deleted)

  Remove elfstrip - not used now that we have an ELF-aware
  strip.  (simonb) 

distrib/sets/lists/base/md.pmax			patch

  Add addr2line, c++filt and objdump to the distrib list for
  the pmax.  (simonb)

distrib/sets/lists/comp/md.pmax			patch

  Include crtbegin.o, crtbeginS.o, crtend.o and crtendS.o, now
  needed by in-tree and C++ capable pmax toolchain.  (simonb)

sys/kern/kern_sig.c				1.80

  Check that the directory where core dump will be placed is still
  mounted before trying to write the core dump.    Fixes PR#6337.  (cgd)

distrib/sets/lists/man/mi			patch

  Put the ifmedia manual pages in the distrib lists.  (simonb)

gnu/usr.bin/Makefile				patch

  Enable binutils, gas.new and ld.new on the pmax.  (simonb)

usr.sbin/dhcp/client/dhclient.c			1.2-1.3

  Fix the long-standing dhclient bug whereby it trashes any
  existing configuration of interfaces other than the specified one if
  an interface is specified on the command line.  (sommerfe)

lib/csu/ns32k/crt0.c				1.13 (patch)

  Make sure that executables start with code, to work around
  a bug where the a_entry a.out executable header field isn't
  being set correctly.  (matthias)

gnu/usr.bin/gcc/arch/ns32k/netbsd.h		1.4
gnu/usr.bin/gcc/arch/ns32k/ns32k.c		1.2-1.3
gnu/usr.bin/gcc/arch/ns32k/ns32k.h		1.2-1.3
gnu/usr.bin/gcc/arch/ns32k/ns32k.md		1.4-1.6
gnu/dist/gdb/config/ns32k/tm-nbsd.h		1.3

  Many improvements to gcc (e.g. it now uses the ns32381's additional
  FPU registers) and shared library fixes.  (matthias)

lib/libc/arch/ns32k/sys/exect.S			1.6

  Avoid a BPT/Trace trap in shutdown.  (matthias)

gnu/usr.bin/send-pr/categories			1.15, 1.20

  Add 'install' category.  (jonathan)

gnu/usr.bin/ld/arch/i386/md.c			1.13

  Fix a problem running under Virtual PC.  (mycroft)

sys/arch/sparc/sparc/iommureg.h			1.6

  Strengthen a previous patch which attempted to work around a
  hardware but in some Sparcstation 4 and 5 models.  (pk)

include/unistd.h				patch

  Add missing declaration of getpgid().  (kleink)

sys/arch/amiga/dev/grf_cv.c			1.26

  Add a few "nop" instructions to make the memory size probe
  more reliable.  (veego)

sys/arch/amiga/dev/cbsc.c			1.7

  Fix detection of CyberStorm SCSI MK I which use the older
  product ID.  (mhitch)

sys/arch/pmax/dev/dtop.c			1.35

  Fix the non-repeating up/down arrow on the Personal DECstation running X.
  The previous fix for the non-working right-shift key broke the autorepeat
  for the up and down arrow keys.

sys/arch/i386/conf/INSTALL			1.102

  Avoid IRQs 5 and 7, the most likely cause of problems on modern
  laptops.  (marc)

sys/arch/alpha/pci/tga.c			patch
sys/arch/alpha/tc/cfb.c				patch
sys/arch/alpha/tc/sfb.c				patch
sys/arch/alpha/wscons/wscons.c			patch
sys/arch/amiga/amiga/mem.c			patch
sys/arch/arm32/arm32/mem.c			patch
sys/arch/arm32/vidc/console/vidcconsole.c	patch
sys/arch/atari/atari/mem.c			patch
sys/arch/bebox/bebox/mem.c			patch
sys/arch/bebox/isa/pccons.c			patch
sys/arch/hp300/hp300/mem.c			patch
sys/arch/i386/i386/mem.c			patch
sys/arch/i386/isa/pccons.c			patch
sys/arch/i386/isa/pcvt/pcvt_drv.c		patch
sys/arch/mac68k/dev/asc.c			patch
sys/arch/mac68k/dev/grf.c			patch
sys/arch/mips/mips/mem.c			patch
sys/arch/mvme68k/mvme68k/mem.c			patch
sys/arch/pc532/pc532/mem.c			patch
sys/arch/pmax/dev/fb_usrreq.c			patch
sys/arch/pmax/dev/rcons.c			patch
sys/arch/powerpc/powerpc/mem.c			patch
sys/arch/sparc/dev/cgeight.c			patch
sys/arch/sparc/dev/cgfour.c			patch
sys/arch/sparc/dev/cgfourteen.c			patch
sys/arch/sparc/dev/cgthree.c			patch
sys/arch/sun3/sun3/mem.c			patch
sys/arch/sun3x/sun3x/mem.c			patch
sys/arch/vax/vax/mem.c				patch
sys/arch/x68k/x68k/mem.c			patch
sys/dev/audio.c					patch
sys/dev/isa/isadma.c				patch

  Fix many real and potential security problems with character device
  driver mmap routines that did not properly bounds check offsets.
  See NetBSD security advisory NetBSD-SA1998-005 for details.  (mrg)

sys/arch/sparc/sparc/autoconf.c			patch

  Fix a problem that prevented the system from working properly on
  Sparc Voyager portable systems.  (pk)

usr.bin/ftp/Makefile				1.17
usr.bin/ftp/extern.h				1.26
usr.bin/ftp/fetch.c				1.37-1.40
usr.bin/ftp/util.c				1.36

  Fix various bugs in time conversion, e.g. HTTP time (UTC) was treated
  as if it were local time (PR#6448).  Also send an "Accept: */*" for
  HTTP for servers that require that.  (itohy)

sys/arch/i386/stand/lib/crt/bootsect/start_bootsect.S
						1.5

  Allow installation of NetBSD on the whole disk even on systems where
  the BIOS tries to determine the disk geometry from the mbr.  With the
  previous version, the BIOS would get into an endless loop during the
  disk detection (long before actually trying to boot).  (ws)

src/sys/arch/mac68k/mac68k/locore.s		patch
src/sys/arch/mac68k/mac68k/machdep.c		patch
src/sys/arch/mac68k/mac68k/pmap_bootstrap.c	patch

  Rewrite doboot() so that it turns off the MMU, rather than relying
  on the ROM space being mapped where it would like to be.  (scottr)

sys/arch/mac68k/mac68k/machdep.c		patch

  Set boot-time flags based on the BOOTHOWTO variable passed in by
  the boot blocks.  (scottr)

sys/arch/mac68k/include/cpu.h			1.55
sys/arch/mac68k/mac68k/machdep.c		patch

  Fix support for on-board video on several LC, PowerBook, and Quadra AV
  models.  (scottr)

sys/arch/mac68k/mac68k/mem.c			1.16

  Allow access only to physical RAM via /dev/mem.  (scottr)

sys/arch/mac68k/mac68k/machdep.c		1.206
sys/arch/mac68k/mac68k/macrom.c			1.40

  Fix compile errors: #if DDB -> #ifdef DDB.  (scottr)

sys/arch/mac68k/mac68k/machdep.c		1.215

  Handle the case where a TTx register hit is returned from ptest040().
  Corrects problems with Quadra 700 on-board video.  (scottr)

sys/arch/mac68k/mac68k/macrom.c			1.41

  Don't add IOBase to sccA; the latter is an address, not an
  offset.  (scottr)

sys/arch/mac68k/mac68k/macrom.c			1.42

  Simplify asm constraints to work around a compiler problem.
  Fixes PR#5496.  (scottr)

sys/arch/mac68k/mac68k/pmap_bootstrap.c		1.46

  Correctly handle non-page-aligned framebuffer addresses.  Fixes
  display alignment on systems with on-board DAFB controllers and
  some NuBus video cards.  Fixes PR#5702.  (scottr)

src/usr.sbin/Makefile				1.96-1.97 (patch)

  Allow NO_SENDMAIL to be set in bsd.own.mk to prevent sendmail
  from being built or installed, for use with newer (8.9.x) sendmail
  or third party mailers, for those (re)building from source.  (tsarna)

sys/msdosfs/msdosfs_fat.c			1.29

  Fix missing variable increment, which caused writing FAT32 filesystems
  to hang.  (ws)

src/etc/etc.pmax/ttys				1.4

  Comment out lines corresponding to LK-201 keyboard and DEC serial
  mouse.  Fixes PR#5389.  (jonathan)

sys/arch/pmax/include/clock_machdep.h		patch

  Fixes the offset between the base year which the PROM keeps the
  clock in (1972 or 1973) and the current year.  (jonathan)

distrib/utils/sysinst/arch/i386/msg.md.eng	1.8

  Clarify a warning message which could be interpreted the wrong
  way.  (bouyer)

distrib/utils/sysinst/arch/arm32/menus.md.fr	1.3
distrib/utils/sysinst/arch/i386/menus.md.fr	1.8
distrib/utils/sysinst/arch/pc532/menus.md.fr	1.3
distrib/utils/sysinst/arch/pmax/menus.md.fr	1.3

  French translations for dummy partition menu items.  (simonb)

distrib/utils/sysinst/upgrade.c			1.16
distrib/utils/sysinst/msg.mi.eng		1.33
distrib/utils/sysinst/msg.mi.fr			1.8-1.10

  Add a missing "doingwhat" reason for a re-install of sets.
  Fixes PR#6432.  (simonb)

sbin/Makefile					1.30
sbin/disklabel.c				1.49
share/man/man8/man8.i386/installboot.8		1.5
sys/arch/i386/include/disklabel.h		1.5
sys/arch/i386/stand/lib/crt/bootsect/start_bootsect.S
						patch
sys/arch/i386/stand/lib/biosdisk.c		patch
sys/arch/i386/i386/disksubr.c			patch

  Add forward-compatibility with new NetBSD MBR partition-id 169 (0xa9).
  Warn about old-style 165 partitions with a reference to installboot(8)
  for details on when and how to upgrade bootblocks and partition IDs.
  Do fresh installs using the new ID.  (jonathan)
