#	$NetBSD: files.ipfilter,v 1.12.12.1 2012/02/18 07:35:39 mrg Exp $

defflag	opt_ipfilter.h	IPFILTER_LOG		# logging of ip packets
defflag	opt_ipfilter.h	IPFILTER_DEFAULT_BLOCK
defflag	opt_ipfilter.h	IPFILTER_BPF		# BPF opcodes in rules
defflag	opt_ipfilter.h	IPFILTER_CKSUM		# check layer 4 checksums
defflag	opt_ipfilter.h	IPFILTER_COMPILED	# support for compiled IPF rules
defflag	opt_ipfilter.h	IPFILTER_LOOKUP		# support for ippool(8)
defflag	opt_ipfilter.h	IPFILTER_SCAN		# scanning of packet contents
defflag	opt_ipfilter.h	IPFILTER_SYNC		# synchronisation of state 
defflag	opt_ipfilter.h	IPFILTER_COMPAT		# IPFilter version compat.

defparam opt_ipfilter.h	IPFILTER_LOGSIZE	# size of logging buffer
defparam opt_ipfilter.h	IPSTATE_MAX	# maximum number of references to state table entry
defparam opt_ipfilter.h	IPSTATE_SIZE	# size of state hash table
defparam opt_ipfilter.h	NAT_TABLE_MAX	# maximum number of NAT state entries
defparam opt_ipfilter.h	NAT_TABLE_SZ	# size of NAT state hash table
defparam opt_ipfilter.h	NAT_SIZE	# size of nat rules hash table
defparam opt_ipfilter.h	RDR_SIZE	# size of rdr rules hash table
defparam opt_ipfilter.h	HOSTMAP_SIZE	# size of hostmap hash table


defpseudo ipfilter: ifnet, bpf_filter		# XXX not really an ifnet

file	dist/ipf/netinet/fil.c			ipfilter
file	dist/ipf/netinet/ip_auth.c		ipfilter
file	dist/ipf/netinet/ip_fil_netbsd.c	ipfilter	needs-flag
file	dist/ipf/netinet/ip_frag.c		ipfilter
file	dist/ipf/netinet/ip_htable.c		ipfilter
file	dist/ipf/netinet/ip_log.c		ipfilter & ipfilter_log
file	dist/ipf/netinet/ip_lookup.c		ipfilter
file	dist/ipf/netinet/ip_nat.c		ipfilter
file	dist/ipf/netinet/ip_pool.c		ipfilter
file	dist/ipf/netinet/ip_proxy.c		ipfilter
file	dist/ipf/netinet/ip_scan.c		ipfilter & ipfilter_scan
file	dist/ipf/netinet/ip_state.c		ipfilter
file	dist/ipf/netinet/ip_sync.c		ipfilter & ipfilter_sync
file	dist/ipf/netinet/ip_fil_compat.c	ipfilter & ipfilter_compat

makeoptions	ipfilter	CPPFLAGS+="-I$S/dist/ipf"
