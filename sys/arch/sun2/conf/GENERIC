# $NetBSD: GENERIC,v 1.1 2001/03/29 21:07:57 fredette Exp $

# GENERIC Sun2 (2/120, 2/170, 2/50, ...)
# Supports root on: ie0, sd*, ...

include "arch/sun2/conf/std.sun2"

#ident 		"GENERIC-$Revision: 1.1 $"

# Machines to be supported by this kernel
#options 	FPU_EMULATE

# Needs to be set per system.  i.e change these as you see fit
maxusers	8

# Standard system options
options 	KTRACE		# system call tracing
options 	SYSVMSG		# System V message queues
options 	SYSVSEM		# System V semaphores
options 	SYSVSHM		# System V shared memory
#options 	SHMMAXPGS=1024	# 1024 pages is the default
options 	LKM		# loadable kernel modules
#options 	INSECURE	# disable kernel security level
#options 	UCONSOLE	# Allow non-root TIOCCONS

# Which kernel debugger?  Uncomment either this:
options 	DDB
# ... or these for KGDB (gdb remote target)
#makeoptions DEBUG="-g"		# debugging symbols for gdb
#options 	KGDB
#options 	KGDBDEV=0x0C00	# ttya=0C00 ttyb=0C01

# Other debugging options
#options 	DDB_HISTORY_SIZE=100	# enable history editing in DDB
#options 	DEBUG		# kernel debugging code
#options 	DIAGNOSTIC	# extra kernel sanity checking
#options 	KMEMSTATS	# kernel memory statistics (vmstat -m)
#options 	PMAP_DEBUG
#options 	SCSIDEBUG
#options 	SCSIVERBOSE		# Verbose SCSI errors

# Compatability options
options 	COMPAT_SUNOS	# can run SunOS 4.1.1 executables
options 	COMPAT_43	# and 4.3BSD and ...

# Filesystem options
file-system	FFS		# Berkeley Fast Filesystem
file-system	NFS		# Sun NFS client support
file-system	CD9660		# ISO 9660 + Rock Ridge file system
file-system	FDESC		# /dev/fd/*
file-system	KERNFS		# /kern
file-system	NULLFS		# loopback file system
file-system	OVERLAY		# overlay file system
file-system	PROCFS		# /proc
file-system	UNION		# union file system
file-system	MFS		# memory-based filesystem

options 	NFSSERVER	# nfs server support
options 	QUOTA		# FFS quotas
#options 	FFS_EI		# FFS Endian Independant support
options 	SOFTDEP         # FFS soft updates support.

# Networking options
options 	INET		# IP prototol stack support
options 	INET6		# IPV6
#options 	IPSEC		# IP security
#options 	IPSEC_ESP	# IP security (encryption part; define w/IPSEC)
#options 	IPSEC_DEBUG	# debug for IP security
options 	TCP_COMPAT_42	# compatibility with 4.2BSD TCP/IP
#options 	GATEWAY		# IP packet forwarding
#options 	ISO,TPIP	# OSI networking
#options 	EON		# OSI tunneling over IP
#options 	CCITT,LLC,HDLC	# X.25
options 	PFIL_HOOKS	# pfil(9) packet filter hooks.

# Work-around for root on slow servers (insurance...)
options 	NFS_BOOT_RWSIZE=1024
options 	NFS_BOOT_BOOTPARAM

config		netbsd root on ? type ?

#### Main bus.
mainbus0 at root

#### Bus types.

obio0	at mainbus? 		# all Sun-2
obmem0	at mainbus?		# all Sun-2
mbmem0	at mainbus?		# 2/120, 2/170
mbio0	at mainbus?		# 2/120, 2/170
#sun2vme0	at mainbus?	# 2/50, 2/130, 2/160
#vme0	at sun2vme0		# mi VME attachment

#### Standard system devices.

## The AM9513 clock chip.
clock0  at obio0 addr 0x002800	# 2/120, 2/170

## The MM58167 time-of-day chip.
tod0    at obio0 addr 0x003800	# 2/120, 2/170
#tod0	at vme0 addr 0x200800	# 2/50, 2/130, 2/160

#### Serial port configuration.

## Zilog 8530 serial chips.  Each has two-channels.
## zs0 is ttya and ttyb.  zs1 is the keyboard and mouse.
zs0	at obio0 addr 0x002000	# 2/120, 2/170
zs0	at obio0 addr 0x7f2000	# 2/50
zstty0	at zs0 channel 0	# ttya
zstty1	at zs0 channel 1	# ttyb

zs1	at obmem0 addr 0x780000	# 2/120, 2/170
kbd0	at zs1 channel 0	# keyboard
ms0	at zs1 channel 1	# mouse

zs2	at mbmem0 addr 0x080800	# 2/120, 2/170
zstty2	at zs2 channel 0	# ttyc
zstty3	at zs2 channel 1	# ttyd

zs3	at mbmem0 addr 0x081000	# 2/120, 2/170
zstty4	at zs3 channel 0	# ttye
zstty5	at zs3 channel 1	# ttyf

zs4	at mbmem0 addr 0x084800	# 2/120, 2/170
zstty6	at zs4 channel 0	# ttyg
zstty7	at zs4 channel 1	# ttyh

zs5	at mbmem0 addr 0x085000	# 2/120, 2/170
zstty8	at zs4 channel 0	# ttyi
zstty9	at zs4 channel 1	# ttyj

#### Disk controllers and disks.

## PAL+logic-based "Sun SCSI 2" Multibus/VME SCSI controller.
## This driver has several flags which may be enabled using
## the "flags" directive.  Valid flags are:
##
## 0x0ff		Set (1<<target) to disable parity checking
## 0x100		Set this bit to disable DMA interrupts (poll)
## 0x200		Set this bit to disable DMA entirely (use PIO)
##
## For example: "flags 0x10f" would disable DMA interrupts,
## and disable parity for targets 0-3

sc0	at mbmem0 addr 0x80000 ipl 2 flags 0xff
#sc0 at vme0  addr 0x200000 ipl 2 vect 0x40 flags 0xff
sc1	at mbmem0 addr 0x84000 ipl 2 flags 0xff

## NCR5380-based "Sun SCSI 3" VME SCSI controller.
## This driver has several flags which may be enabled by OR'ing
## the values and using the "flags" directive.
## Valid flags are:
##
##	0x01		Use DMA (may be polled)
##	0x02		Use DMA completion interrupts
##	0x04		Allow disconnect/reselect
##
## E.g. the following would enable DMA, interrupts, and reselect:
## si0	at vme0 addr 0x200000 ipl 3 vect 0x40 flags 0x07
##
## By default, DMA is enabled in the driver.

#si0	at vme0 addr 0x200000 ipl 2 vect 0x40

## These entries find devices on all SCSI busses and assign
## unit numbers dynamically.
scsibus* at sc?
#scsibus* at si?
sd*	at scsibus? target ? lun ?		# SCSI disks
st*	at scsibus? target ? lun ?		# SCSI tapes
cd*	at scsibus? target ? lun ?		# SCSI CD-ROMs
ch*	at scsibus? target ? lun ?		# SCSI changer devices
ss*	at scsibus? target ? lun ?		# SCSI scanners
ses*	at scsibus? target ? lun ?		# SCSI SES/SAF-TE
uk*	at scsibus? target ? lun ?		# unknown SCSI

## Xylogics 450 or 451 Multibus/VME SMD disk controllers and disks.
xyc0	at mbio0 addr 0xee40 ipl 2 
#xyc0	at vme0 addr 0xee40 ipl 2 vect 0x48
xyc1	at mbio0 addr 0xee48 ipl 2 
#xyc1	at vme0 addr 0xee48 ipl 2 vect 0x49
xy*	at xyc? drive ?

## Memory-disk device.
pseudo-device	md		2

#### Network interfaces.

## Intel Ethernet (onboard, or Multibus/VME)
ie0	at obio0 0x7f0800 ipl 3		# 2/50
ie0	at mbmem0 addr 0x88000 ipl 3

## Frame buffers.

## Sun "bwtwo" black and white framebuffer.
bwtwo0  at obmem0 addr 0x00700000	# 2/120
bwtwo0	at obio0 addr 0x0		# 2/50

#### Miscellaneous.
pseudo-device	loop		1	# network loopback
#pseudo-device	bpfilter	8	# packet filter
#pseudo-device	sl		2	# CSLIP
#pseudo-device	ppp		2	# PPP
#pseudo-device	tun		2	# network tunneling over tty
#pseudo-device	gre		2	# generic L3 over IP tunnel
#pseudo-device	ipfilter		# ip filter
#pseudo-device	gif		4	# IPv[46] over IPv[46] tunnel (RFC1933)
#pseudo-device	faith		1	# IPv[46] tcp relay translation i/f
#pseudo-device	stf		1	# 6to4 IPv6 over IPv4 encapsulation
# rnd is EXPERIMENTAL
#pseudo-device	rnd			# /dev/random and in-kernel generator

pseudo-device	pty		32	# pseudo-terminals
#pseudo-device	vnd		4	# paging to files
#pseudo-device	ccd		4	# concatenated disks
#pseudo-device	raid		4	# RAIDframe disk driver
#options 	RAID_AUTOCONFIG		# auto-configuration of RAID components
