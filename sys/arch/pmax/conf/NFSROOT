#
# NetBSD/pmax kernel config file for installation of a diskful machine
# via NFS booting: root and swap on NFS, but disk drivers included too.
# Prune out other optiosn to stay small and avoid PROM tftp bugs.
#
# 	$NetBSD: NFSROOT,v 1.1 1996/09/18 14:10:24 jonathan Exp $
#
include		"std.pmax"

maxusers	8

options		CPU_R3000		# R2000/R3000 support

# Support for specific models of DECstation
options		DS3100			# PMAX (kn01) DECstation 2100, 3100
options		DS5000_25		# MAXINE (kn02ca/xine) support
options		DS5000_100		# 3MIN (kn02ba/kmin) support
options		DS5000_200		# 3MAX (kn02) support
options		DS5000_240		# 3MAXPLUS (kn03) support




# You need to set this locally, but it doesn't do much outside the kernel.
# Set up /etc/localtime instead.
options		TIMEZONE=0
options		DST=0			# use daylight savings rules


# Standard system options
options		SWAPPAGER		# swap pager (anonymous and swap space)
options		VNODEPAGER		# vnode pager (mapped files)
options		DEVPAGER		# device pager (mapped devices)

#options	DDB			# in-kernel debugger (not mips)
#options	DIAGNOSTIC		# extra kernel debugging checks
#options	DEBUG			# extra kernel debugging support
#options	"COMPAT_43"		# compatibility with 4.3BSD binaries
options		KTRACE			# system call tracing support
#options	LKM			# loadable kernel modules


options		"NKMEMCLUSTERS=1024"	# 4K pages in kernel malloc pool


#Old 4.4bsd/pmax kgdb options
#options	KGDB			# support for kernel gdb
#options	"KGDBRATE=19200"	# kernel gdb port rate (default 9600)
#options	"KGDBDEV=15*256+0"	# device for kernel gdb

options		NTP			# network time protocol
#options	UCONSOLE		# users can redirect console (unsafe)


# Filesystem options
#options	QUOTA		# UFS quotas
options		FFS             # fast filesystem with user and group quotas
#options	LFS		# Log-based filesystem (still experimental)
#options	MFS		# memory-based filesystem

options		NFSCLIENT	# Sun NFS-compatible filesystem (client)
#options	NFSSERVER	# Sun NFS-compatible filesystem (server)

#options	CD9660		# ISO 9660 + Rock Ridge file system
#options	MSDOSFS		# MS-DOS file system
#options	FDESC		# user file descriptor filesystem
options		FIFO		# POSIX fifo support (in all filesystems)
options		KERNFS		# kernel data-structure filesystem
options		NULLFS		# null layer filesystem
#options	PORTAL		# portal filesystem (still experimental)
#options	PROCFS		# /proc
#options	UMAPFS		# uid/gid remapping filesystem
#options         UNION

# Networking options
options		INET		# Internet protocols
options		"TCP_COMPAT_42"	# compatibility with 4.2BSD TCP/IP
#options	GATEWAY		# IP packet forwarding
#options	MULTICAST	# Multicast support
#options	MROUTING	# Multicast routing support
#options	ISO		# OSI networking
#options	TPIP
#options	EON

# pmax specific
#options		COMPAT_ULTRIX	# ultrix compatibility
options		"HZ=256"	# RTC rate required

config		nfsnetbsd	root on nfs swap on nfs



########################################################################
###                   I/O bus and device options                     ###
########################################################################

# TC bus and supported options. (All but PMAXes have a turbochannel.)
include	"tc.std"

# ioasic standard baseboard options (5000/2x, 5000/1xx, 5000/2[46]0)
include "builtin.ioasic"

# MAXINE-only ioasic baseboard devices and on-baseboard "options"
include	"builtin.maxine"

# 5000/200-only (aka 3MAX aka KN02) baseboard devices.
# (KN02 has turbochannel but no	IOASIC).
include	"builtin.3max"

# 2100/3100-only (aka PMAX aka KN01) baseboard devices.
# (may also be present on a 5100).
include "builtin.3100"

########################################################################
# SCSI configuration                                                   #
########################################################################

oldscsibus*	at sii?
oldscsibus*	at asc?
#
# SCSI configuration for old 4.4bsd/pmax DECstation SCSI driver
#
include "scsi.pmax"
#include "mi.scsi"		# not yet supported on DECstations


########################################################################
###                        Pseudo-devices                            ###
########################################################################

#pseudo-device	sl		 4	# serial-line IP ports
#pseudo-device	strip		2	# Metricom  IP encapsulation
#pseudo-device   ppp              2      # serial-line IP ports
pseudo-device	pty		64	# pseudo ptys
pseudo-device	bpfilter	16	# packet filter ports
pseudo-device	loop
#pseudo-device	vnd		4	# virtual disk ick
#pseudo-device	ccd             4       # concatenated disks

#pseudo-device	ether			# From old config. what does it mean?
pseudo-device	rasterconsole	1 	# NB: raster console requires "fb"
pseudo-device	fb		1	# up to 3 framebuffers
