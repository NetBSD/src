#	$NetBSD: files.pci,v 1.132.2.1 2001/08/03 04:13:15 lukem Exp $
#
# Config file and device description for machine-independent PCI code.
# Included by ports that need it.  Requires that the SCSI files be
# defined first.

defopt	opt_pci.h	PCIVERBOSE PCI_CONFIG_DUMP PCI_NETBSD_CONFIGURE

defopt	opt_bktr.h	BKTR_OVERRIDE_CARD BKTR_OVERRIDE_TUNER BKTR_OVERRIDE_DBX
			BKTR_OVERRIDE_MSP BKTR_SYSTEM_DEFAULT
			BKTR_USE_PLL BKTR_GPIO_ACCESS BKTR_NO_MSP_RESET
			BKTR_430_FX_MODE BKTR_SIS_VIA_MODE

defopt	opt_pciide.h	PCIIDE_CMD064x_DISABLE PCIIDE_AMD756_ENABLEDMA
			PCIIDE_CMD0646U_ENABLEUDMA

device	pci {[dev = -1], [function = -1]}
attach	pci at pcibus
file	dev/pci/pci.c			pci			needs-flag
file	dev/pci/pci_map.c		pci
file	dev/pci/pci_quirks.c		pci
file	dev/pci/pci_subr.c		pci
file	dev/pci/pciconf.c		pci_netbsd_configure

# Cypress 82c693 hyperCache(tm) Stand-Alone PCI Peripheral Controller
# with USB.  This is a combo chip:
#
#	PCI-ISA bridge
#	PCI IDE controller
#	OHCI USB controller
#
# There are some common subroutines that each function needs.
define	cy82c693
file	dev/pci/cy82c693.c		cy82c693

# Adaptec 3940, 2940, and aic78[5678]0 SCSI controllers
# device declaration in sys/conf/files
attach	ahc at pci with ahc_pci: ahc_seeprom, smc93cx6
file	dev/pci/ahc_pci.c		ahc_pci

# I2O adapters
attach	iop at pci with iop_pci
file	dev/pci/iop_pci.c		iop_pci

# 3ware RAID controllers
device	twe {unit = -1}
attach	twe at pci
file	dev/pci/twe.c			twe

attach	ld at twe with ld_twe
file	dev/pci/ld_twe.c		ld_twe

# Compaq RAID controllers
attach	cac at pci with cac_pci
file	dev/pci/cac_pci.c		cac_pci

# Mylex DAC960 RAID controllers
attach	mlx at pci with mlx_pci
file	dev/pci/mlx_pci.c		mlx_pci

# Newer Mylex AcceleRAID and eXtremeRAID controllers
device	mly: scsi
attach	mly at pci
file	dev/pci/mly.c			mly			needs-flag

# DPT EATA SCSI controllers
attach	dpt at pci with dpt_pci
file	dev/pci/dpt_pci.c		dpt_pci

# AdvanSys 1200A, 1200B, and ULTRA SCSI controllers
# device declaration in sys/conf/files
attach	adv at pci with adv_pci
file	dev/pci/adv_pci.c		adv_pci

# AdvanSys ULTRA WIDE SCSI controllers
# device declaration in sys/conf/files
attach	adw at pci with adw_pci
file	dev/pci/adw_pci.c		adw_pci
file	dev/ic/adwlib.c			adw_pci
file	dev/ic/adwmcode.c		adw_pci

# AMD Am53c974 PCscsi-PCI SCSI controllers
device	pcscp: scsi, ncr53c9x
attach	pcscp at pci
file	dev/pci/pcscp.c			pcscp

# BusLogic BT-9xx PCI family
# device declaration in sys/conf/files
attach	bha at pci with bha_pci
file	dev/pci/bha_pci.c		bha_pci

# Qlogic ISP 10x0 (PCI) family
# device declaration in sys/conf/files
attach	isp at pci with isp_pci
file	dev/pci/isp_pci.c		isp_pci

# Ethernet driver for DC21040-based boards
device	de: ether, ifnet, arp
attach	de at pci
file	dev/pci/if_de.c			de

# Efficient Networks, Inc. ATM interface
# device declaration in sys/conf/files
attach	en at pci with en_pci
file	dev/pci/if_en_pci.c		en_pci

# 3Com 3c590 and 3c595 Ethernet controllers
# device declaration in sys/conf/files
attach	ep at pci with ep_pci
file	dev/pci/if_ep_pci.c		ep_pci

# 3Com 3c90x[B] Ethernet controllers
# device declaration in sys/conf/files
attach	ex at pci with ex_pci
file	dev/pci/if_ex_pci.c		ex_pci

# Digital DEFPA PCI FDDI Controller
device	fpa: pdq, fddi, ifnet, arp
attach	fpa at pci
file	dev/pci/if_fpa.c		fpa

# AMD am7990 (LANCE) -based Ethernet controllers
# device declaration in sys/conf/files
attach	le at pci with le_pci: le32
file	dev/pci/if_le_pci.c		le_pci

# common code for siop/esiop pci front end
define	siop_pci_common
file	dev/pci/siop_pci_common.c	siop_pci_common

# Symbios 53c8xx SCSI chips
# device declaration in sys/conf/files
attach	siop at pci with siop_pci: siop_pci_common
file	dev/pci/siop_pci.c		siop_pci

# Initio INIC-940/950 SCSI controllers
attach	iha at pci with iha_pci
file	dev/pci/iha_pci.c		iha_pci

# PCI IDE controllers
device	pciide {[channel = -1]}: cy82c693, wdc_base, ata, atapi
attach	pciide at pci
file	dev/pci/pciide.c		pciide

# PCI-PCI bridge chips
device	ppb: pcibus
attach	ppb at pci
file	dev/pci/ppb.c			ppb

# Cyclades Cyclom-8/16/32 
attach	cy at pci with cy_pci
file	dev/pci/cy_pci.c		cy_pci

# Cyclades-Z series of intelligent multi-port serial adapters
device	cz
attach	cz at pci
file	dev/pci/cz.c			cz			needs-flag

# Intel EtherExpress PRO 10/100B
attach	fxp at pci with fxp_pci
file	dev/pci/if_fxp_pci.c		fxp_pci

# Sun HME-network
attach	hme at pci with hme_pci
file	dev/pci/if_hme_pci.c		hme_pci

# NE2000-compatible PCI Ethernet cards
defparam opt_ipkdb.h	IPKDB_NE_PCISLOT	: IPKDB_NE_PCI
defopt	opt_ipkdb.h	IPKDB_NE_PCI		: IPKDB_NE IPKDB_NE_PCISLOT
attach	ne at pci with ne_pci: rtl80x9
file	dev/pci/if_ne_pci.c		ne_pci | IPKDB_NE_PCI

# Texas Instruments ThunderLAN Chip.
device	tl: ether, ifnet, arp, i2c, i2c_eeprom, mii, mii_bitbang
attach	tl at pci
file	dev/pci/if_tl.c			tl

# SDL Communications N2 PCI Network Interface
# device declaration in sys/conf/files
attach	ntwoc at pci with ntwoc_pci
file	dev/pci/if_ntwoc_pci.c		ntwoc_pci

# Lan Media Corporation T1/HSSI/DS3 driver
device	lmc: ifnet, sppp
attach	lmc at pci
file	dev/pci/if_lmc.c		lmc
file	dev/pci/if_lmc_common.c		lmc
file	dev/pci/if_lmc_media.c		lmc
file	dev/pci/if_lmc_nbsd.c		lmc

# Essential Communications HIPPI interface
# device declaration in sys/conf/files
attach	esh at pci with esh_pci
file	dev/pci/if_esh_pci.c		esh_pci

# generic PCI VGA
attach	vga at pci with vga_pci
file	dev/pci/vga_pci.c		vga_pci			needs-flag

# DEC TGA
device	tga: wsemuldisplaydev, rasops8, rasops32
attach	tga at pci
file	dev/pci/tga.c			tga			needs-flag
file	dev/pci/tga_conf.c		tga
file	dev/ic/bt485.c			tga
file	dev/ic/bt463.c			tga

# Brooktree Bt848 video capture
device	bktr: pcibus
attach	bktr at pci
file	dev/pci/bktr/bktr_audio.c	bktr
file	dev/pci/bktr/bktr_card.c	bktr
file	dev/pci/bktr/bktr_core.c	bktr
file	dev/pci/bktr/bktr_os.c		bktr			needs-flag
file	dev/pci/bktr/bktr_tuner.c	bktr

# Cirrus Logic CrystalClear PCI Audio CS4280
device	clcs: audio, auconv, mulaw, ac97, midibus
attach	clcs at pci
file	dev/pci/cs4280.c		clcs

# Cirrus Logic CrystalClear PCI Audio CS4281
device	clct: audio, auconv, mulaw, ac97
attach	clct at pci
file	dev/pci/cs4281.c		clct

# Shared code for Cirrus Logic CrystalClear PCI Audio CS4280 and CS4281
file	dev/pci/cs428x.c		clcs | clct

# Forte Media FM801
device	fms { }: audio, auconv, mulaw, ac97, midibus
attach	fms at pci
file	dev/pci/fms.c			fms

attach	opl at fms with opl_fms
file	dev/pci/opl_fms.c		opl_fms

attach	mpu at fms with mpu_fms
file	dev/pci/mpu_fms.c		mpu_fms

# Ensoniq AudioPCI S5016
device	eap: audio, auconv, mulaw, ac97, midibus
attach	eap at pci
file	dev/pci/eap.c			eap

# Intel ICH AC'97 audio
device	auich: audio, auconv, mulaw, ac97
attach	auich at pci
file	dev/pci/auich.c			auich

# VIA VT82C686A AC'97 Audio
device	auvia: audio, auconv, mulaw, ac97
attach	auvia at pci
file	dev/pci/auvia.c			auvia

# NeoMagic 256 AC'97 Audio
device	neo: audio, auconv, mulaw, ac97
attach	neo at pci
file	dev/pci/neo.c			neo

# ESS Solo-1 PCI AudioDrive
device	eso { }: audio, auconv, mulaw, midibus
attach	eso at pci
file	dev/pci/eso.c			eso

attach	opl at eso with opl_eso
file	dev/pci/opl_eso.c		opl_eso

attach	mpu at eso with mpu_eso
file	dev/pci/mpu_eso.c		mpu_eso

# ESS Maestro-1/2/2e PCI AC97 Audio Accelerator
device	esm: audio, auconv, mulaw, ac97
attach	esm at pci
file	dev/pci/esm.c			esm

# S3 SonicVibes (S3 617)
device	sv { }: audio, auconv, mulaw, midibus
attach	sv at pci
file	dev/pci/sv.c			sv

attach	opl at sv with opl_sv
file	dev/pci/opl_sv.c		opl_sv

# C-Media CMI8x38 Audio Chip
device	cmpci { }: audio, auconv, mulaw
attach	cmpci at pci
file	dev/pci/cmpci.c			cmpci

# Yamaha YMF724/740/744/754 PCI audio controller
device	yds { }: audio, auconv, mulaw, ac97
attach	yds at pci
file	dev/pci/yds.c			yds

attach	opl at yds with opl_yds
file	dev/pci/opl_yds.c		opl_yds

attach	mpu at yds with mpu_yds
file	dev/pci/mpu_yds.c		mpu_yds

# SMC EPIC/100 Fast Ethernet on PCI
attach	epic at pci with epic_pci
file	dev/pci/if_epic_pci.c		epic_pci

# PCI "universal" communication device driver, for PCI com, lpt, etc. ports
# (see documentation in the driver for what, exactly, should be supported)
device	puc { port = -1 }
attach	puc at pci
file	dev/pci/puc.c			puc
file	dev/pci/pucdata.c		puc

attach	com at puc with com_puc
file	dev/pci/com_puc.c		com_puc

# Console device support for puc drivers
defopt	opt_puccn.h			PUCCN
file	dev/pci/puccn.c			puccn

# XXX THE FOLLOWING BLOCK SHOULD GO INTO dev/pci/files.pci, BUT CANNOT
# XXX BECAUSE NOT 'lpt' IS DEFINED IN files.isa, RATHER THAN files.
# XXX (when the conf/files and files.isa bogons are fixed, this can
# XXX be fixed as well.)

# attach	lpt at puc with lpt_puc
# file	dev/pci/lpt_puc.c		lpt_puc

# UHCI USB controller
attach	uhci at pci with uhci_pci
file	dev/pci/uhci_pci.c		uhci_pci

# OHCI USB controller
attach	ohci at pci with ohci_pci
file	dev/pci/ohci_pci.c		ohci_pci

# EHCI USB controller
attach	ehci at pci with ehci_pci
file	dev/pci/ehci_pci.c		ehci_pci

# OHCI IEEE 1394 controller
attach	fwohci at pci with fwohci_pci
file	dev/pci/fwohci_pci.c		fwohci_pci

# IEEE 1394 TI "Lynx" controller
attach	fwlynx at pci with fwlynx_pci
file	dev/pci/fwlynx_pci.c		fwlynx_pci

# VIA Rhine/Rhine II Fast Ethernet controllers
device	vr: ether, ifnet, arp, mii, mii_bitbang
attach	vr at pci
file	dev/pci/if_vr.c			vr

# SiS 900 Fast Ethernet controllers
device	sip: ether, ifnet, arp, mii
attach	sip at pci
file	dev/pci/if_sip.c		sip

# National Semiconductor DP83820 Gigabit Ethernet
device	gsip: ether, ifnet, arp, mii, mii_bitbang
attach	gsip at pci
file	dev/pci/if_gsip.c		gsip

# Sundance Tech./Tamarack TC9021 Gigabit Ethernet
device	stge: ether, ifnet, arp, mii, mii_bitbang
attach	stge at pci
file	dev/pci/if_stge.c		stge

# Realtek 8129/8139 Ethernet controllers
attach	rtk at pci with rtk_pci
file	dev/pci/if_rtk_pci.c		rtk_pci

# DECchip 21x4x Ethernet controller family, and assorted clones.
attach	tlp at pci with tlp_pci
defopt	opt_tlp.h	TLP_MATCH_21040 TLP_MATCH_21041
			TLP_MATCH_21140 TLP_MATCH_21142

file	dev/pci/if_tlp_pci.c		tlp_pci

# Bit3 PCI-VME mod. 617
device	btvmei: vmebus
attach	btvmei at pci
file	dev/pci/btvmei.c		btvmei
#file	dev/pci/btvmei_dma.c		btvmei
#file	dev/pci/btvmei_cntlrdma.c	btvmei

# Alteon ACEnic Gigabit Ethernet controller
device	ti: ether, ifnet, arp
attach	ti at pci
file	dev/pci/if_ti.c			ti

# Adaptec AIC-6915 Ethernet interface
attach	sf at pci with sf_pci
file	dev/pci/if_sf_pci.c		sf_pci

# Sundance Tech. ST-201 10/100 Ethernet
device	ste: ether, ifnet, arp, mii, mii_bitbang
attach	ste at pci
file	dev/pci/if_ste.c		ste

# YENTA PCI-Cardbus bridge 
#device	cbb: cbbus, pcmciabus
device	cbb: pcmciaslot
attach	cbb at pci with cbb_pci
file	dev/pci/pccbb.c			cbb

# Tundra Universe PCI-VME adapter
define	univ_pci
file	dev/pci/universe_pci.c univ_pci

# Bit3 PCI-VME mod. 2706
device	btvmeii: vmebus, univ_pci
attach	btvmeii at pci
file	dev/pci/btvmeii.c btvmeii

# VT86C686A power management
device	viapm {}
attach	viapm at pci
file	dev/pci/viapm.c	viapm

# hardware monitoring part of viapm
device	viaenv: sysmon_envsys
attach	viaenv at viapm
file	dev/pci/viaenv.c		viaenv			needs-flag

# Hi/fn 7751 
device	hifn {}
attach	hifn at pci
file	dev/pci/hifn7751.c		hifn

# Aironet PC4500/PC4800
attach	an at pci with an_pci
file	dev/pci/if_an_pci.c		an_pci


# ISDN devices
attach	isic at pci with isic_pci
file	dev/pci/isic_pci.c		isic_pci

defopt	opt_isicpci.h	ISICPCI_ELSA_QS1PCI ISICPCI_AVM_A1

file	dev/pci/isic_pci_elsa_qs1p.c	isic_pci
file	dev/pci/isic_pci_avm_fritz_pci.c isic_pci

