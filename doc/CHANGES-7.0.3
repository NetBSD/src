# $NetBSD: CHANGES-7.0.3,v 1.1.2.19 2017/01/16 11:57:32 martin Exp $

A complete list of changes from the NetBSD 7.0.2 release to the NetBSD 7.0.3
release:

gnu/usr.bin/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 7.0.2_PATCH.
	[snj]

sys/arch/amd64/conf/std.xen			1.8
sys/arch/xen/conf/std.xen			1.8

	Make Xen process and file limits match the native ones.
	[joerg, ticket #1258]

etc/namedb/root.cache				1.22

	Update root.cache to 2016102001 (October 20, 2016).
	[taca, ticket #1267]

sys/kern/uipc_usrreq.c				1.181

	Fix a memory leak.
	[maxv, ticket #1268]

sys/arch/alpha/alpha/machdep.c			1.347
sys/arch/alpha/alpha/prom.c			1.49
sys/arch/alpha/stand/common/booted_dev.c	1.4
sys/arch/alpha/stand/common/prom.c		1.15

	Match the two prom_getenv() and fix buffer overflow causing
	wrong host controller SCSI ID for DEC 3000.
	[flxd, ticket #1269]

doc/3RDPARTY					1.1374 via patch
external/bsd/bind/Makefile.inc                  up to 1.24 via patch
external/bsd/bind/bin/delv/Makefile             up to 1.3
external/bsd/bind/bin/dig/Makefile              up to 1.2
external/bsd/bind/bin/dnssec/Makefile.inc       up to 1.2
external/bsd/bind/bin/host/Makefile             up to 1.2
external/bsd/bind/bin/named/Makefile            up to 1.10
external/bsd/bind/bin/nslookup/Makefile         up to 1.3
external/bsd/bind/bin/nsupdate/Makefile         up to 1.3
external/bsd/bind/bin/rndc/Makefile             up to 1.2
external/bsd/bind/bin/tools/Makefile.inc        up to 1.2
external/bsd/bind/dist/CHANGES                  up to 1.23
external/bsd/bind/dist/README                   up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch01.html up to 1.1.1.21
external/bsd/bind/dist/doc/arm/Bv9ARM.ch02.html up to 1.1.1.18
external/bsd/bind/dist/doc/arm/Bv9ARM.ch03.html up to 1.1.1.23
external/bsd/bind/dist/doc/arm/Bv9ARM.ch04.html up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch05.html up to 1.1.1.24
external/bsd/bind/dist/doc/arm/Bv9ARM.ch06.html up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch07.html up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch08.html up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch09.html up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.ch10.html up to 1.1.1.20
external/bsd/bind/dist/doc/arm/Bv9ARM.ch11.html up to 1.1.1.9
external/bsd/bind/dist/doc/arm/Bv9ARM.ch12.html up to 1.1.1.9
external/bsd/bind/dist/doc/arm/Bv9ARM.ch13.html up to 1.1.1.9
external/bsd/bind/dist/doc/arm/Bv9ARM.html      up to 1.11
external/bsd/bind/dist/doc/arm/Bv9ARM.pdf       up to 1.17
external/bsd/bind/dist/doc/arm/man.arpaname.html up to 1.11
external/bsd/bind/dist/doc/arm/man.ddns-confgen.html up to 1.11
external/bsd/bind/dist/doc/arm/man.delv.html    up to 1.11
external/bsd/bind/dist/doc/arm/man.dig.html     up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-checkds.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-coverage.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-dsfromkey.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-importkey.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-keyfromlabel.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-keygen.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-revoke.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-settime.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-signzone.html up to 1.11
external/bsd/bind/dist/doc/arm/man.dnssec-verify.html up to 1.11
external/bsd/bind/dist/doc/arm/man.genrandom.html up to 1.11
external/bsd/bind/dist/doc/arm/man.host.html    up to 1.11
external/bsd/bind/dist/doc/arm/man.isc-hmac-fixup.html up to 1.11
external/bsd/bind/dist/doc/arm/man.lwresd.html  up to 1.1.1.3
external/bsd/bind/dist/doc/arm/man.named-checkconf.html up to 1.11
external/bsd/bind/dist/doc/arm/man.named-checkzone.html up to 1.11
external/bsd/bind/dist/doc/arm/man.named-journalprint.html up to 1.11
external/bsd/bind/dist/doc/arm/man.named-rrchecker.html up to 1.11
external/bsd/bind/dist/doc/arm/man.named.conf.html up to 1.1.1.3
external/bsd/bind/dist/doc/arm/man.named.html   up to 1.11
external/bsd/bind/dist/doc/arm/man.nsec3hash.html up to 1.11
external/bsd/bind/dist/doc/arm/man.nsupdate.html up to 1.11
external/bsd/bind/dist/doc/arm/man.rndc-confgen.html up to 1.11
external/bsd/bind/dist/doc/arm/man.rndc.conf.html up to 1.11
external/bsd/bind/dist/doc/arm/man.rndc.html    up to 1.11
external/bsd/bind/dist/doc/arm/notes.html       up to 1.1.1.9
external/bsd/bind/dist/doc/arm/notes.pdf        up to 1.1.1.9
external/bsd/bind/dist/doc/arm/notes.xml        up to 1.1.1.9
external/bsd/bind/dist/lib/dns/api              up to 1.11
external/bsd/bind/dist/lib/dns/resolver.c       up to 1.27
external/bsd/bind/dist/srcid                    up to 1.17
external/bsd/bind/dist/version                  up to 1.21
external/bsd/bind/include/isc/platform.h        up to 1.22 via patch
external/bsd/bind/lib/libbind9/Makefile         up to 1.3

	Update BIND to 9.10.4-P4.  Fixes CVE-2016-8864.
	[snj, ticket #1271]

lib/libc/gen/glob.c				1.36

	Bump the glob limits to 512KB for total string size and 64K
	path entries.
	[joerg, ticket #1247]

external/bsd/dhcp/dist/common/packet.c		1.2

	Check correctly the packet length (CVE-2015-8605)
	[snj, ticket #1273]

sys/external/bsd/drm2/dist/drm/drm_gem.c	1.6

	Avoid zero-size uao.
	[maya, ticket #1272]

etc/rc.d/rtadvd					1.9

	Don't fail to start if rtadvd's config file doesn't exist.
	[kre, ticket #1274]

sys/arch/mips/include/vmparam.h			1.57

	1TB is enough UVA for anyone... plus not all MIPS cpus can support
	more.
	[mrg, ticket #1275]

sys/uvm/pmap/pmap_segtab.c			1.4 (via patch)
	Fix the start index generation in pmap_segtab_release() to
	ensure it fits in the actual array.
	[mrg, ticket #1275]

sys/external/bsd/drm2/drm/drm_vma_manager.c	1.5

	Lock the manager and not just the node for inserting/removing nodes.
	[maya, ticket #1277]

sys/net/if_vlan.c				1.92

	Don't check parent capabilities when a parent interface hasn't been
	assigned.
	[joerg, ticket #1279]

lib/libc/stdio/funopen.c			1.15

	PR/51572: calling funopen on each printw call is a tad excessive,
	but this is not a reason for funopen to leak. Always call the
	close function since we are indirecting through our cookie and
	we need to free it.
	[mrg, ticket #1303]

sys/kern/subr_xcall.c				1.19

	Fix a race condition of low priority xcall.  PR kern/51632.
	[ozaki-r, ticket #1306]

usr.sbin/mld6query/mld6.c			1.15

	PR/51353: Patrick Mackey: mld6query "-r" option is not recognised
	[riastradh, ticket #1308]

lib/libc/time/private.h				patch
lib/libc/time/zic.c				patch

	Make zic properly parse newer tzdata files.
	[kre, ticket #1323]

distrib/sets/lists/base/mi			1.1125, 1.1128, 1.1132, 1.1137, 1.1139, 1.1140
doc/3RDPARTY					patch
external/public-domain/tz/dist/CONTRIBUTING     up to 1.1.1.3
external/public-domain/tz/dist/LICENSE          up to 1.1.1.2
external/public-domain/tz/dist/Makefile         up to 1.1.1.16
external/public-domain/tz/dist/NEWS             up to 1.1.1.16
external/public-domain/tz/dist/README           up to 1.1.1.5
external/public-domain/tz/dist/TZDATA_VERSION   up to 1.6
external/public-domain/tz/dist/Theory           up to 1.1.1.9
external/public-domain/tz/dist/africa           up to 1.1.1.9
external/public-domain/tz/dist/antarctica       up to 1.1.1.7
external/public-domain/tz/dist/asia             up to 1.1.1.15
external/public-domain/tz/dist/australasia      up to 1.1.1.10
external/public-domain/tz/dist/backward         up to 1.1.1.6
external/public-domain/tz/dist/backzone         up to 1.1.1.10
external/public-domain/tz/dist/etcetera         up to 1.1.1.2
external/public-domain/tz/dist/europe           up to 1.1.1.16
external/public-domain/tz/dist/factory          up to 1.1.1.2
external/public-domain/tz/dist/iso3166.tab      up to 1.1.1.4
external/public-domain/tz/dist/leap-seconds.list up to 1.1.1.6
external/public-domain/tz/dist/leapseconds      up to 1.1.1.7
external/public-domain/tz/dist/northamerica     up to 1.1.1.14
external/public-domain/tz/dist/southamerica     up to 1.1.1.10
external/public-domain/tz/dist/version          up to 1.1.1.3
external/public-domain/tz/dist/zone.tab         up to 1.1.1.10
external/public-domain/tz/dist/zone1970.tab     up to 1.1.1.12
external/public-domain/tz/share/zoneinfo/Makefile up to 1.3
external/public-domain/tz/tzdata2netbsd         up to 1.11

	Update tzdata to 2016j.
	[kre, ticket #1324]

sys/arch/x86/include/pmap.h			1.61
sys/arch/x86/x86/pmap.c				1.223
sys/arch/x86/x86/vm_machdep.c			1.26

	PR/49691: KAMADA Ken'ichi: free deferred ptp mappings if present.
	[riastradh, ticket #1316]

sbin/ping/ping.c				1.113

	PR bin/36997 Zafer Aydogan: ping doesn't validate numeric inputs
	enough.
	[dholland, ticket #1333]

common/lib/libc/stdlib/_strtoul.h		1.10

	Set *endptr in all paths out of strtoul and family.
	[riastradh, ticket #1310]

libexec/httpd/CHANGES				1.23, 1.24
libexec/httpd/bozohttpd.8			1.60-1.62
libexec/httpd/bozohttpd.c			1.81-1.84
libexec/httpd/bozohttpd.h			1.46
libexec/httpd/cgi-bozo.c			1.35
libexec/httpd/content-bozo.c			1.14
libexec/httpd/main.c				1.14-1.16
libexec/httpd/testsuite/Makefile		1.6
libexec/httpd/testsuite/test-bigfile		1.3
libexec/httpd/testsuite/test-simple		1.1, 1.2

	update bozohttpd to 20160720:
	- fix memory leak
	- addd -G option to display version
	- fix some content type issues
	- fix issues in testsuite
	[mrg, ticket #1309]

sys/arch/amd64/amd64/copy.S			patch

	suword: Don't allow 4 bytes to overflow beyond the userland space.
	[maxv, ticket #1278]

sys/netinet/tcp_congctl.c			1.23

	Restore behaviour to pre- tcp_congctl.c:1.18 for SACK.
	PR/51753 tcp SACK causes SSH disconnect.
	[skrll, ticket #1347]

doc/3RDPARTY					1.1397 via patch
external/bsd/bind/Makefile.inc                  up to 1.24 via patch
external/bsd/bind/dist/CHANGES                  up to 1.24
external/bsd/bind/dist/README                   up to 1.12
external/bsd/bind/dist/bin/tests/system/dname/ns2/example.db up to 1.1.1.3
external/bsd/bind/dist/bin/tests/system/dname/tests.sh up to 1.1.1.4
external/bsd/bind/dist/contrib/zkt-1.1.2/examples/flat/zkt-ls delete
external/bsd/bind/dist/contrib/zkt-1.1.2/examples/flat/zkt-signer delete
external/bsd/bind/dist/contrib/zkt-1.1.2/examples/hierarchical/zkt-ls delete
external/bsd/bind/dist/contrib/zkt-1.1.2/examples/hierarchical/zkt-signer delete
external/bsd/bind/dist/doc/arm/Bv9ARM.ch01.html up to 1.1.1.22
external/bsd/bind/dist/doc/arm/Bv9ARM.ch02.html up to 1.1.1.19
external/bsd/bind/dist/doc/arm/Bv9ARM.ch03.html up to 1.1.1.24
external/bsd/bind/dist/doc/arm/Bv9ARM.ch04.html up to 1.12
external/bsd/bind/dist/doc/arm/Bv9ARM.ch05.html up to 1.1.1.25
external/bsd/bind/dist/doc/arm/Bv9ARM.ch06.html up to 1.12
external/bsd/bind/dist/doc/arm/Bv9ARM.ch07.html up to 1.12
external/bsd/bind/dist/doc/arm/Bv9ARM.ch08.html up to 1.12
external/bsd/bind/dist/doc/arm/Bv9ARM.ch09.html up to 1.12
external/bsd/bind/dist/doc/arm/Bv9ARM.ch10.html up to 1.1.1.21
external/bsd/bind/dist/doc/arm/Bv9ARM.ch11.html up to 1.1.1.10
external/bsd/bind/dist/doc/arm/Bv9ARM.ch12.html up to 1.1.1.10
external/bsd/bind/dist/doc/arm/Bv9ARM.ch13.html up to 1.1.1.10
external/bsd/bind/dist/doc/arm/Bv9ARM.html      up to 1.12
external/bsd/bind/dist/doc/arm/man.arpaname.html up to 1.12
external/bsd/bind/dist/doc/arm/man.ddns-confgen.html up to 1.12
external/bsd/bind/dist/doc/arm/man.delv.html    up to 1.12
external/bsd/bind/dist/doc/arm/man.dig.html     up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-checkds.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-coverage.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-dsfromkey.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-importkey.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-keyfromlabel.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-keygen.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-revoke.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-settime.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-signzone.html up to 1.12
external/bsd/bind/dist/doc/arm/man.dnssec-verify.html up to 1.12
external/bsd/bind/dist/doc/arm/man.genrandom.html up to 1.12
external/bsd/bind/dist/doc/arm/man.host.html    up to 1.12
external/bsd/bind/dist/doc/arm/man.isc-hmac-fixup.html up to 1.12
external/bsd/bind/dist/doc/arm/man.lwresd.html  up to 1.1.1.4
external/bsd/bind/dist/doc/arm/man.named-checkconf.html up to 1.12
external/bsd/bind/dist/doc/arm/man.named-checkzone.html up to 1.12
external/bsd/bind/dist/doc/arm/man.named-journalprint.html up to 1.12
external/bsd/bind/dist/doc/arm/man.named-rrchecker.html up to 1.12
external/bsd/bind/dist/doc/arm/man.named.conf.html up to 1.1.1.4
external/bsd/bind/dist/doc/arm/man.named.html   up to 1.12
external/bsd/bind/dist/doc/arm/man.nsec3hash.html up to 1.12
external/bsd/bind/dist/doc/arm/man.nsupdate.html up to 1.12
external/bsd/bind/dist/doc/arm/man.rndc-confgen.html up to 1.12
external/bsd/bind/dist/doc/arm/man.rndc.conf.html up to 1.12
external/bsd/bind/dist/doc/arm/man.rndc.html    up to 1.12
external/bsd/bind/dist/doc/arm/notes.html       up to 1.1.1.10
external/bsd/bind/dist/doc/arm/notes.pdf        up to 1.1.1.10
external/bsd/bind/dist/doc/arm/notes.xml        up to 1.1.1.10
external/bsd/bind/dist/lib/dns/api              up to 1.12
external/bsd/bind/dist/lib/dns/message.c        up to 1.21
external/bsd/bind/dist/lib/dns/resolver.c       up to 1.28
external/bsd/bind/dist/lib/isc/api              up to 1.1.1.21
external/bsd/bind/dist/lib/isc/unix/socket.c    up to 1.20
external/bsd/bind/dist/lib/isc/win32/socket.c   up to 1.12
external/bsd/bind/dist/srcid                    up to 1.18
external/bsd/bind/dist/version                  up to 1.22
external/bsd/bind/include/isc/platform.h        up to 1.22 via patch

	Update BIND to 9.10.4-P5, fixing CVE-2016-9131,
	CVE-2016-9147, and CVE-2016-9444. 
	[snj, ticket #1348]

