# $NetBSD: CHANGES-8.2,v 1.1.2.59 2019/11/04 14:50:32 martin Exp $

A complete list of changes from the NetBSD 8.1 release to the NetBSD 8.2
release:

external/gpl2/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 8.1_STABLE.
	[snj]

sys/arch/x86/x86/spectre.c			1.29

	Fix boot on old CPUs.
	[maxv, ticket #1279]

sys/arch/amd64/conf/GENERIC			1.528
sys/arch/i386/conf/GENERIC			1.1207
sys/arch/x86/include/autoconf.h			1.6
sys/arch/x86/pci/pci_machdep.c			1.86
sys/arch/x86/x86/consinit.c			1.29
sys/arch/x86/x86/hyperv.c			1.2-1.4
sys/arch/x86/x86/hypervvar.h			1.1
sys/arch/x86/x86/identcpu.c			1.91
sys/arch/x86/x86/x86_autoconf.c			1.78
sys/arch/xen/x86/autoconf.c			1.23
sys/dev/acpi/vmbus_acpi.c			1.2
sys/dev/hyperv/files.hyperv			1.2
sys/dev/hyperv/genfb_vmbus.c			1.1
sys/dev/hyperv/genfb_vmbusvar.h			1.1
sys/dev/hyperv/hvkbd.c				1.1
sys/dev/hyperv/hvkbdvar.h			1.1
sys/dev/hyperv/hyperv_common.c			1.2
sys/dev/hyperv/hypervvar.h			1.2
sys/dev/hyperv/vmbus.c				1.3
sys/dev/hyperv/vmbusvar.h			1.2
sys/dev/wscons/wsconsio.h			1.123

	Add Hyper-V Gen.2 VM framebuffer console support.
	[nonaka, ticket #1280]

libexec/httpd/CHANGES				1.31-1.40
libexec/httpd/Makefile				1.28
libexec/httpd/auth-bozo.c			1.23-1.24
libexec/httpd/bozohttpd.8			1.75-1.79
libexec/httpd/bozohttpd.c			1.100-1.113
libexec/httpd/bozohttpd.h			1.58-1.60
libexec/httpd/cgi-bozo.c			1.46-1.48
libexec/httpd/daemon-bozo.c			1.20-1.21
libexec/httpd/dir-index-bozo.c			1.29-1.32
libexec/httpd/ssl-bozo.c			1.26
libexec/httpd/testsuite/Makefile		1.12-1.13
libexec/httpd/testsuite/t11.out			1.2
libexec/httpd/testsuite/test-bigfile		1.6
libexec/httpd/testsuite/test-simple		1.6

	Don't display special files in the directory index.
	Use html tables for directory index.
	Don't include "index.html" in html headers.
	Fix CGI '+' param and error handling.
	Remove unused parameter to daemon_poll_err().
	Avoid sign extension in % handling
	Fix a few problems pointed out by clang static analyzer.
	Add ssl specific timeout value (30s).---
	Fix handling of bozo_set_timeout() timeouts (and `-T' option parsing).
	Avoid .htpasswd exposure to authenticated users when .htpasswd is
	in the slashdir too.
	Avoid possible NULL dereference when sending a big request that timeout.
	Avoid an assertion failure when using cgihandler (-C option).
	[mrg, ticket #1281}

sys/arch/x86/include/bootinfo.h			1.30

	Increase BOOTINFO_MAXSIZE to 16Kib.
	Some systems require a larger bootinfo size for memory descriptors.
	[nonaka, ticket #1282]

sys/dev/ic/mvsata.c				1.47-1.48

	PR/54205: fix "mvsata:0:0:1: buffer load failed: error=27" failure.
	[tsutsui, ticket #1283]

sys/arch/hp300/hp300/autoconf.c			1.106

	Handle sti(4) graphics at sgc on HP9000/425t properly.
	[tsutsui, ticket #1284]

sys/netinet6/nd6.c				1.255
tests/net/ndp/t_ndp.sh				1.32

	nd6: restore a missing reachability confirmation.
	tests: test state transitions of neighbor caches.
	[ozaki-r, ticket #1285]

sys/dev/hyperv/vmbus.c				1.4

	Zero clear the allocated ring buffer for vmbus_channel.
	[nakayama, ticket #1286]

sys/netipsec/keysock.c				1.69

	Fix locking: it is fine if the lock is already key_so_mtx, this
	can happen in socketpair.
	[maxv, ticket #1287]

sys/netinet6/udp6_usrreq.c			1.147

	Fix the order in udp6_attach: soreserve should be called before
	in6_pcballoc.
	[maxv, ticket #1288]

sys/dev/pci/vioscsi.c				1.21

	Fix use-after-free.
	[maxv, ticket #1289]

xsrc/external/mit/xf86-video-intel/dist/src/intel_list.h 1.2

	Fix sandy bridge crashes by merging changes from xorg-server 1.20
	list.h into this older version.
	[mrg, ticket #1290]

sys/dev/pci/pcidevs				1.1367-1.1380
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	- Add other two Intel Core 8G host bridges.
	- Add Intel Xeon E devices.
	- Add some new Intel C620 LPC devices.
	- Add some Intel Xeon Scalable processor's devices.
	- Add some Intel Whisky Lake devices.
	- Add Xeon D XFI.
	- Add "(Hyper-V)" to Intel 0x15a9's description.
	- Add Intel C3000 QSFP devices.
	- Add Some Qlogic devices from OpenBSD.
	- Rename Qlogic 0x3022's name from ISP3022 to ISP4022.
	- Add IDs for SATA controllers VT8237S and VX855
	- Modify some descriptions of Virtio devices from OpenBSD to identify
	  the functions.
	- Add Phison PS5000 and PS5016 NVMe.
	- Add some ServerWorks HT1100 devices from OpenBSD.
	- Remove extra white spaces.
	[msaitoh, ticket #1291]

sys/dev/pci/pci_subr.c				1.211,1.214

	Fix a typo. Print extend capability from 0x25 to 0x29 correctly.
	[msaitoh, ticket #1292]

sys/arch/x86/include/specialreg.h		1.149

	Define some new bits of CPUID Fn8000_0007 %edx AMD
	Advanced Power Management leaf.
	[msaitoh, ticket #1293]

sys/dev/ic/nslm7x.c				1.72
sys/dev/ic/nslm7x.c				1.73
sys/dev/isa/wbsio.c				1.25
sys/dev/isa/wbsioreg.h				1.9

	Use pmf_device_{register,deregister}().
	Identify Nuvoton NCT6798D correctly.
	[msaitoh, ticket #1294]

sys/dev/pci/pci_subr.c				1.213
sys/dev/pci/ppb.c				1.69

	Identify 16GT/s.
	[msaitoh, ticket #1295]

usr.sbin/cpuctl/arch/i386.c			1.91,1.93-1.95,1.100-1.103
						(via patch)

	- Handle NVMM and HAXM's signature.
	- Regard "TCGTCGTCGTCG" as QEMU(TCG).
	- Dump CPUID leaf 0x40000000 if available (for -v option).
	- Add Cascade Lake, Copper Lake.
	- Add Future Xeon (Cannon Lake)
	- Add 06_7DH for another Ice Lake.
	- Add Coffee Lake based Xeon E.
	- White space fix. No functional change.
	[msaitoh, ticket #1296]

sys/dev/usb/usbdevs				1.737-1.741,1.743-1.752,
						1.756-1.759,1.763-1.770
						(via patch)
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h			regen

	- Add yet another moschip serial adapter chip.
	- Add some classic Roland products from Shinichi Doyashiki in
	  PR kern/52385.
	- Add Ralink RT73.
	- Add Wacom Intuos2 A4 and Intuos Art pen tablets.
	- Add ELAN keyboard.
	- Add Sony UWA-BR100 WLAN adapter.
	- Add the TP-LINK TL-WN823N (version 2).
	- Add RT Systems RTS-03 USB to Serial Adapter.
	- Add West Mountain Radio IDs from OpenBSD.
	- Add LAN78xx family (Raspberry Pi 3B+) entries - PR kern/53105.
	- Add Linux Foundation vendor ID, and their root hub device IDs.
	- Apple Bluetooth adapter, as found on the G4 PowerBook FW-800
	  (PowerBook5,2).
	- Add Yubico Yubikey devices.
	- Add Huawei E182.
	- Add the Sierra Wireless MC7304 and EM7455 USB modems.
	- Add SMSC LAN7505 USB 2.0 gigabit ethernet device.
	- Add Panasonic N5HBZ0000055 WiFi device reported by
	  David H. Gutteridge in PR kern/53647.
	- Add Logitech Gamepad F310 and Logitech Dual Action Gamepad.
	- Add D-Link LTE products.
	- Add D-Link DWA-131 rev E "Wireless N300 Nano USB Adapter"
	- Add Microsoft Natural Wireless Mouse 600 from Julian in
	  PR kern/44634.
	- Add Gretag Macbeth/X-Rite Huey device ids.
	- Add HP LP2[24]75w hub.
	- Prefer longer "canonical" names and add some vendors (mainly from
	  FreeBSD r334649).
	- Make whitespace much more consistent.
	- Lowercase hexadecimal number.
	- Update comment.
	[msaitoh, ticket #1297]

sys/dev/pci/if_wm.c				1.633, 1.637-1.641 (via patch)
sys/dev/pci/if_wmreg.h				1.114 (via patch)

	- Use unsigned to avoid undefined behavior.
	- Print ICH/PCH's NVM version.
	- Fix typo in comment. u_int*_t -> uint*_t. Whitespace fix.
	[msaitoh, ticket #1298]

sys/dev/usb/if_athn_usb.c			1.24,1.31-1.34 (via patch)

	- Match BUFFALO CEWL-1 (Sony UWA-BR100 WLAN).
	- Add support for Panasonic N5HBZ0000055, from David H. Gutteridge
	  in PR kern/53647.
	- Resolves build on macppc by renaming imask to intr_mask as imask is
	  defined globally in sys/arch/powerpc/include/intr.h.
	- Use pmf(9).
	- Fix the detach path to prevent panic.
	[msaitoh, ticket #1299]

sys/compat/netbsd32/netbsd32_ioctl.c		1.98,1.99
sys/compat/netbsd32/netbsd32_ioctl.h		1.65

	Add BIOCSRTIMEOUT32 to fix tcpdump for COMPAT_NETBSD32.
	Correct misleading macro argument names.
	[rin, ticket #1054]

sys/arch/x86/pci/if_vmx.c			1.31
sys/arch/x86/pci/if_vmx.c			1.32 (via patch)

	Eliminate IFF_RUNNING checking code from vmxnet3_init_locked().
	Fix vmx(4) MTU setting.
	[knakahara, ticket #1300]

sys/dev/pci/ixgbe/if_sriov.c			1.5-1.6
sys/dev/pci/ixgbe/ix_txrx.c			1.53-1.54
sys/dev/pci/ixgbe/ixgbe_x550.h			1.5
sys/dev/pci/ixgbe/ixgbe.c			1.169-1.170,1.176,1.179,1.181,1.185-1.186,1.188-1.192 via patch
sys/dev/pci/ixgbe/ixgbe.h			1.53,1.55
sys/dev/pci/ixgbe/ixgbe_82599.c			1.21
sys/dev/pci/ixgbe/ixgbe_api.c			1.22-1.23
sys/dev/pci/ixgbe/ixgbe_api.h			1.14-1.15
sys/dev/pci/ixgbe/ixgbe_x550.c			1.14-1.15
sys/dev/pci/ixgbe/ixgbe_common.c		1.23
sys/dev/pci/ixgbe/ixgbe_common.h		1.14
sys/dev/pci/ixgbe/ixgbe_mbx.c			1.11
sys/dev/pci/ixgbe/ixgbe_mbx.h			1.14
sys/dev/pci/ixgbe/ixgbe_netmap.c		1.2
sys/dev/pci/ixgbe/ixgbe_features.h		1.2
sys/dev/pci/ixgbe/ixgbe_netbsd.c		1.9
sys/dev/pci/ixgbe/ixgbe_netbsd.h		1.9-1.10
sys/dev/pci/ixgbe/ixgbe_phy.c			1.18
sys/dev/pci/ixgbe/ixgbe_type.h			1.37,1.39-1.40
sys/dev/pci/ixgbe/ixgbe_vf.c			1.18
sys/dev/pci/ixgbe/ixv.c				1.112-1.114,1.117,1.119 via patch

	Sync ixgbe up to 20190717 except ETHERCAP or ixv's VLAN stuff:
	- Add firmware recovery mode for X550, X550A(Xeon D) and X550EM(C3000).
	- Remove IXGBE_DEV_ID_82599_LS(0x154f) support again.
	- On X550EMU, use ixgbe_identify_sfp_module_X550em() instead of
	  ixgbe_identify_module_generic(). ixgbe_identify_sfp_module_X550em()
	  has extra check (e.g. exclude 1G copper).
	- It's not required to calculate unused queues' statistics.
	- Remove ETHERCAP_VLAN_HWFILTER's definition.
	- Match 82598_BX(0x1508), 82599_KR(0x1517), 82599_SFP_EM(0x1507),
	  X550EM_X_XFI(0x15b0), X550EM_A_QSFP(0x15ca) and
	  X550EM_A_QSFP_N(0x15cc)
	- Add missing XFI support into ixgbe_get_link_capabilities_X550em().
	- Other than IXGBE_VF_RESET should wait ACK, so use
	  ixgbevf_write_msg_read_ack() instead of write_posted() in
	  ixgbe_update_mc_addr_list_vf().
	- When ixv_check_link() failed in the watchdog function, reset the
	  interface.
	- Remove RXCSUM register modification in
	  ixv_initialize_receive_units(). It seems it's not required.
	- Remove some debug printf in ixv_print_debug_info().
	- Calculate vector's bit location correctly when the vector >= 31
	  in ixgbe_allocate_msix().
	- Fix hung queue check when the queue number >= 31.
	- On ENETRESET case, not continue and quit the ifflags_cb() function
	  because if_init() will do the same thing.
	- Fix bugs in unused code.
	- Fix typo in comment.
	- Fix typo in unused code.
	- Whitespace fixes. KNF.
	[msaitoh, ticket #1301]

sys/kern/sys_ptrace_common.c			1.58

	Enhance locking of ptrace_update_lwp.
	Do not switch lwp for PT_SET_SIGINFO.
	[kamil, ticket #1302]

sys/netipsec/key.c				1.264

	Avoid a race condition between SA (sav) manipulations.
	[ozaki-r, ticket #1303]

usr.bin/vmstat/vmstat.c				1.226

	Fix "vmstat -m" numbers running into each other.
	[mrg, ticket #1304]

sys/dev/pckbport/files.pckbport			1.10

	hvkbd requires pckbd_keydesctab in wskbdmap_mfii.c.
	[nakayama, ticket #1305]

crypto/dist/ipsec-tools/src/setkey/parse.y	1.23
crypto/dist/ipsec-tools/src/setkey/token.l	1.23
sys/netipsec/key.c				1.265
tests/net/ipsec/t_ipsec_misc.sh			1.23

	ipsec: fix a regression of the update API.
	tests: add tests for getspi and udpate.
	[ozaki-r, ticket #1306]

sys/netinet6/nd6.c				1.256

	Decrease the reference count before freeing, so that the
	entries actually get free'd.
	[christos, ticket #1307]

sys/dev/pci/if_wpi.c				1.86

	PR kern/54320: put back correct recieve ring allocation size.
	[jakllsch, ticket #1308]

sys/arch/i386/stand/efiboot/Makefile.efiboot	1.15
sys/arch/i386/stand/efiboot/boot.c		1.12,1.13
sys/arch/i386/stand/efiboot/dev_net.c		1.2
sys/arch/i386/stand/efiboot/efiboot.c		1.9,1.10
sys/arch/i386/stand/efiboot/efiboot.h		1.9
sys/arch/i386/stand/efiboot/efimemory.c		1.6-1.8
sys/arch/i386/stand/lib/exec.c			1.73
sys/arch/i386/stand/lib/libi386.h		1.44

	Add tftp support to x86 efiboot.
	Pre-allocate memory for the kernel space at startup.
	Added BTINFO_EFIMEMMAP compaction support to x86 efiboot.
	Sync the output of memmap command to the output of stand/efiboot
	mem command.
	[nonaka, ticket #1309]

sys/dev/usb/usbdevs				1.754-1.755 via patch
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h			regen

	- Add Cinterion
	- Add Sierra Wireless C01SW.
	- Add SMSC USB 2.0 7-Port Hub.
	- Add ZTE MF633 USUPA USB modem, USB MSM installer, ZTE MF112, MF119,
	  MF190, MF228 modem and Softbank 004Z.
	- Add Huawei HWD12, E353, E355, E392, EC156, E3272 / Softbank 203HW
	- Add NetIndex RT-WJ02 and UX312NC.
	- Add Siemens HC28
	[msaitoh, ticket #1310]

sys/dev/pci/agp_intel.c				1.38

	Fix a >15 year old code rework bug, and add a missing "break".
	[msaitoh, ticket #1311]

sys/dev/pci/if_wm.c				1.644,1.645
sys/dev/pci/if_wmreg.h				1.115

	- Avoid undefined behavior while writing RSS redirection table.
	- Don't print debug message in wm_ulp_disable().
	- Fix rnd(9) usage when MSI-X is used to prevent panic.
	- Use better rnd value when INTx or MSI is used.
	[msaitoh, ticket #1312]

sys/dev/pci/ixgbe/ixgbe_type.h			1.41
sys/dev/pci/ixgbe/ixgbe.c			1.194,1.197-1.199 via patch
sys/dev/pci/ixgbe/ixgbe_common.c		1.24
sys/dev/pci/ixgbe/ixv.c				1.121,1.124-1.125

	- Avoid undefined behavior of interrupt vector setting.
	- Avoid undefined behavior of TX/RX queue statistics calculation.
	- Avoid undefined behavior of X550EM's PHY accesses.
	- Avoid undefined behavior of Flow Control Transmit Timer setting.
	- Don't call {ixgbe,ixv}_stop() twice while detaching.
	[msaitoh, ticket #1313]

sys/dev/pci/siside.c				1.38

	Add missing break; after "100NEW" configuration.
	Don't also set "133OLD", since the 100NEW cards don't support 133.
	[msaitoh, ticket #1314]

sys/dev/mii/miidevs				1.145-1.153
sys/dev/mii/miidevs.h				(regen)
sys/dev/mii/miidevs_data.h			(regen)

	- Fix I82578 OUI. This change only affects to MIIVERBOSE.
	- Add Bankspeed Pty and NetExcell's OUI.
	- Add another ASIX OUI and AX88772* devices.
	- Add SMSC(Microchip) LAN911X and LAN75XX.
	- Add Davicom DM9161, DM9161[ABC] and DM9601.
	- Add Amlogix GXL internal PHY.
	- Add Broadcom BCM53125 1000BASE-T switch.
	- Sort xx or yy's OUIs by number. No functional change.
	[msaitoh, ticket #1315]

sys/dev/mii/makphy.c				1.54,1.57-1.60 via patch
sys/dev/mii/makphyvar.h				1.1-1.2
sys/dev/mii/ihphy.c				1.12,1.14 via patch

	- Support Intel I21[01].
	- 88E1000(S) has no page select register, so don't access it.
	  Note that qemu doesn't implement the register and the access fails.
	- Check the result of the ESSR register access because Qemu doesn't
	  implement the register.
	- KNF.
	[msaitoh, ticket #1316]

sys/dev/pci/if_wm.c				1.612,1.646

	- Fix a bug that "ifconfig wmX media none" panics on 8254[23].
	- Avoid undefined behavior in wm_i82543_mii_sendbits().
	[msaitoh, ticket #1317]

sys/net/raw_usrreq.c				1.63,1.64

	PR kern/54419: fix typos (s/m_free/m_freem/).
	[ozaki-r, ticket #1318]

sys/kern/sys_ptrace_common.c			1.57

	Do not release the reflock if we didn't take it in the first place.
	[maxv, ticket #1319]

sys/uvm/uvm_map.c				1.361

	Fix info leak: 'map_attrib' is not used in UVM, and contains
	uninitialized heap garbage. Return zero.
	[maxv, ticket #1320]

sys/fs/tmpfs/tmpfs_mem.c			1.10

	Remove incorrect roundups.
	[maxv, ticket #1321]

sys/fs/cd9660/cd9660_vnops.c			1.55

	Fix info leak: zero out the buffer, because it is not entirely filled.
	[maxv, ticket #1322]

sys/net/bpf.c					1.229

	Fix info leak: use kmem_zalloc to clear uninitialized padding.
	[maxv, ticket #1323]

sys/kern/kern_exec.c				1.469-1.476,1.478 (patch)

	Fix off-by-one and info leak.
	[maxv, ticket #1324]

sys/arch/i386/stand/efiboot/version		1.2

	x86 efiboot: version 1.1.
	[nonaka, ticket #1325]

sys/dev/pci/pcidevs				1.1381-1.1383
sys/dev/pci/pcidevs.h				(regen)
sys/dev/pci/pcidevs_data.h			(regen)

	- Intel C620 Virtual Switch Port for Termal Sensor is not
	  0x37c6 but 0x37c7.
	- Add Some AMD Ryzen 3xxx's devices.
	- Add some AMD devices mainly taken from OpenBSD.
	- Rename some device names for consistency.
	- Use _HDA for HD Audio.
	- Add BCM2711 PCIe Host bridge for RPI4
	[msaitoh, ticket #1326]

sys/dev/pci/piixpm.c				1.53,1.54
sys/dev/pci/piixpmreg.h				1.8

	- Add newer chipset (e.g. X370/X399 and newer) support that the PCI
	  device id is 0x790b
	- SB800 also support 4 ports.
	- SB800's interrupt configuration bit is different from others.
	  Use SB800_SMB_HOSTC's bit 0.
	- Print "polling" correctly when in the attach function.
	- Improve debug printf()'s.
	- Do not bus_space_map devices which are at address 0 (it is
	  uninitialized).
	- Add ServerWorks HT1100 device.
	- Use unique wait channel.
	- Rename PIIXPM_INDIRECTIO_* to SB800_INDIRECTIO_* because those are
	  only for SB800 and newer chipsets.
	- Add the port number to the dmesg output.
	[msaitoh, ticket #1327]

sys/arch/x86/pci/amdsmn.c			1.4-1.6

	Add support for Ryzen 2xxx and 3xxx.
	[msaitoh, ticket #1328]

sys/dev/pci/if_etreg.h				1.2-1.3
sys/dev/pci/if_et.c				1.23,1.25 and 1.26 via patch

	Make et(4) work:
	- Add missing ifioctl_common() for SIOCSIFFLAGS to make if_flags
	  controllable.
	- Enabling TX/RX in et_init() will always fail when cable is not
	  plugged in. If this happens, we delay TX/RX enablement until link is
	  up.
	- Modify flow control stuff a little. It still doesn't work.
	- Avoid undefined behavior when reset the chip.
	- Code cleanup.
	[msaitoh, ticket #1329]

sys/kern/uipc_socket2.c				1.134

	Fix kernel heap info leaks in sys_recvmsg().
	[maxv, ticket #1330]

sys/external/bsd/ipf/netinet/fil.c		1.30

	PR/54443: ipf mistakenly regards UDP packet with checksum field
	0xffff as bad.
	[christos, ticket #1331]

sys/uvm/uvm_mmap.c				1.173

	Change 'npgs' from int to size_t.
	[maxv, ticket #1332]

sys/kern/sys_lwp.c				1.69 (patch)

	Fix info leak in sys___sigaltstack14().
	[maxv, ticket #1333]

sys/dev/usb/ohci.c				1.289
sys/dev/usb/ohci.c				1.290

	Adjust KASSERT()s to handle polling case.
	[mrg, ticket #1334]

lib/libperfuse/ops.c				1.87

	Fix filehandles of directories for FUSE lock operations.
	[manu, ticket #1335]

sys/arch/i386/stand/lib/bootinfo_biosgeom.c	1.24

	Fix buffer overflow in BIOS disk geometry collection for bootinfo.
	[manu, ticket #1336]

sys/dev/acpi/acpi_ec.c				1.76,1.77

	Fix a bug that acpiec_space_handler() doesn't access more than 64bit
	correctly.
	[msaitoh, ticket #1337]

sys/arch/x86/include/cacheinfo.h		1.27,1.28
sys/arch/x86/x86/identcpu.c			1.74,1.93
sys/arch/x86/include/specialreg.h		1.150
usr.sbin/cpuctl/arch/i386.c			1.104

	- Handle more Vortex CPU's from Andrius V.
	- AMD CPUID Fn8000_0001d Cache Topology Information leaf is almost the
	  same as Intel Deterministic Cache Parameter Leaf(0x04), so make new
	  cpu_dcp_cacheinfo() and use it on both Intel and AMD.
	[msaitoh, ticket #1338]

sys/net/if.c					1.458
tests/net/if/t_ifconfig.sh			1.21

	PR kern/54434.: restore if_ioctl on error of ifc_destroy, otherwise
	subsequent ioctls will not work. Add a test case for this.
	[ozaki-r, ticket #1339]

sys/netinet6/nd6.c				1.257

	Add missing IFNET_LOCK for regen_tmpaddr.
	[ozaki-r, ticket #1340]

distrib/hpcarm/miniroot/list			1.11
distrib/hpcmips/miniroot/list			1.19
distrib/hpcsh/miniroot/list			1.11

	sysctl(8) is useful to have in the install environment for debugging.
	[sevan, ticket #1341]

sys/uvm/uvm_aobj.c				1.128

	Avoid undefined behavior in uao_pagein_page().
	[msaitoh, ticket #1342]

sys/dev/sysmon/sysmon.c				1.30

	Module class of sysmon_envsys, sysmon_wdog and sysmon_power is
	MODULE_CLASS_DRIVER, not MODULE_CLASS_MISC.
	[nakayama, ticket #1344]

sys/fs/tmpfs/tmpfs_rename.c			1.9

	Fix uninitialized variable that could have caused a KASSERT to
	wrongfully fire.
	[maxv, ticket #1345]

sys/miscfs/kernfs/kernfs_vnops.c		1.161
sys/miscfs/procfs/procfs_vnops.c		1.207

	Add missing operation VOP_GETPAGES() returning EFAULT.
	[hannken, ticket #1346]

sys/dev/pci/ixgbe/ixgbe.c			1.205,1.206

	Fix typo in error handling of ixgbe_allocate_legacy().
	Fix panic on single cpu systems.
	[knakahara, ticket #1347]

sys/dev/isa/itesio_isa.c			1.28
sys/dev/isa/itesio_isavar.h			1.12

	Add IT8655 support.
	[msaitoh, ticket #1348]

sys/dev/mii/micphy.c				1.6 (via patch)

	Add KSZ8081 support from FreeBSD.
	[msaitoh, ticket #1349]

sys/dev/mii/ciphy.c				1.27-1.28, 1.30, 1.32 via patch
sys/dev/mii/ciphyreg.h				1.6

	- The register bit definitions from register 0 to 15 in ciphyreg.h
	  conform to the 802.3 spec, so remove them and use mii.h's definition. 
	  No functional change.
	- Add CS8204, CS8244 VSC8211 and VSC8601 support from {Free,Open}BSD.
	- KNF.
	[msaitoh, ticket #1350]

share/man/man1/cd.1				1.7-1.10
share/man/man1/man1.x68k/bellctrl.1		1.14
share/man/man1/wait.1				1.5
share/man/man3/__arraycount.3			1.7
share/man/man3/bitmap.3				1.10
share/man/man3/bits.3				1.18
share/man/man3/bitstring.3			1.18
share/man/man3/fast_divide32.3			1.9
share/man/man3/gcq.3				1.4
share/man/man3/iso646.3				1.6
share/man/man3/queue.3				1.57
share/man/man3/tree.3				1.12
share/man/man4/acpilid.4			1.8
share/man/man4/agp.4				1.17
share/man/man4/ahc.4				1.34
share/man/man4/ahd.4				1.6
share/man/man4/ai.4				1.9
share/man/man4/amr.4				1.15
share/man/man4/ath.4				1.32
share/man/man4/audio.4				1.80
share/man/man4/bio.4				1.13
share/man/man4/bluetooth.4			1.20
share/man/man4/bpf.4				1.56
share/man/man4/btsco.4				1.13
share/man/man4/cfb.4				1.5
share/man/man4/chipsfb.4			1.6
share/man/man4/cmpci.4				1.9
share/man/man4/crypto.4				1.26
share/man/man4/ddb.4				1.167
share/man/man4/dge.4				1.11
share/man/man4/ec.4				1.14
share/man/man4/edc.4				1.12
share/man/man4/envsys.4				1.51
share/man/man4/etherip.4			1.8
share/man/man4/gpiosim.4			1.6
share/man/man4/gre.4				1.45
share/man/man4/ieee80211.4			1.5
share/man/man4/iop.4				1.22
share/man/man4/ip.4				1.37
share/man/man4/ip6.4				1.31
share/man/man4/isa.4				1.46
share/man/man4/isdntel.4			1.8
share/man/man4/isic.4				1.18
share/man/man4/jme.4				1.7
share/man/man4/man4.alpha/ttwoga.4		1.6
share/man/man4/man4.alpha/ttwopci.4		1.6
share/man/man4/man4.amiga/grf.4			1.7
share/man/man4/man4.amiga/mfcs.4		1.8
share/man/man4/man4.atari/rtc.4			1.8
share/man/man4/man4.dreamcast/aica.4		1.6
share/man/man4/man4.hp300/dcl.4			1.13
share/man/man4/man4.hppa/pdc.4			1.3
share/man/man4/man4.i386/intro.4		1.31
share/man/man4/man4.i386/ndis.4			1.6
share/man/man4/man4.i386/pcibios.4		1.19
share/man/man4/man4.sgimips/giopci.4		1.9
share/man/man4/man4.sparc/intro.4		1.27
share/man/man4/man4.sparc/magma.4		1.12
share/man/man4/man4.sparc64/intro.4		1.5
share/man/man4/man4.sun2/leds.4			1.10
share/man/man4/man4.sun3/leds.4			1.13
share/man/man4/man4.vax/ad.4			1.12
share/man/man4/man4.vax/cons.4			1.12
share/man/man4/man4.vax/dl.4			1.13
share/man/man4/man4.vax/dn.4			1.12
share/man/man4/man4.vax/hy.4			1.12
share/man/man4/man4.vax/ix.4			1.17
share/man/man4/mfb.4				1.5
share/man/man4/mfi.4				1.12
share/man/man4/midi.4				1.32
share/man/man4/mpls.4				1.10
share/man/man4/multicast.4			1.8
share/man/man4/options.4			1.467
share/man/man4/pad.4				1.6
share/man/man4/pci.4				1.97
share/man/man4/pim.4				1.5
share/man/man4/plip.4				1.4
share/man/man4/pppoe.4				1.39
share/man/man4/radio.4				1.13
share/man/man4/ral.4				1.12
share/man/man4/route.4				1.31
share/man/man4/sc.4				1.8
share/man/man4/se.4				1.6
share/man/man4/si.4				1.11
share/man/man4/strip.4				1.16
share/man/man4/termios.4			1.37
share/man/man4/uftdi.4				1.20
share/man/man4/ugen.4				1.32
share/man/man4/unix.4				1.26
share/man/man4/usb.4				1.106
share/man/man4/userconf.4			1.13
share/man/man4/utoppy.4				1.7
share/man/man4/uyurex.4				1.6
share/man/man4/we.4				1.19
share/man/man4/ym.4				1.19
share/man/man4/zyd.4				1.5
share/man/man5/ar.5				1.9
share/man/man5/boot.cfg.5			1.28
share/man/man5/capfile.5			1.4
share/man/man5/core.5				1.31
share/man/man5/genassym.cf.5			1.13
share/man/man5/ld.so.conf.5			1.21
share/man/man5/link.5				1.24
share/man/man5/locale.alias.5			1.3
share/man/man5/mixerctl.conf.5			1.7
share/man/man5/nsswitch.conf.5			1.29
share/man/man5/passwd.5				1.33
share/man/man5/passwd.conf.5			1.11
share/man/man5/ranlib.5				1.7
share/man/man5/stab.5				1.15
share/man/man5/veriexec.5			1.8
share/man/man7/ascii.7				1.8
share/man/man7/hier.7				1.123
share/man/man7/operator.7			1.12
share/man/man7/release.7			1.37
share/man/man7/security.7			1.15
share/man/man7/sysctl.7				1.114
share/man/man8/afterboot.8			1.58
share/man/man8/compat_freebsd.8			1.18
share/man/man8/compat_linux.8			1.38
share/man/man8/compat_sunos.8			1.21
share/man/man8/compat_svr4.8			1.27
share/man/man8/compat_ultrix.8			1.21
share/man/man8/diskless.8			1.32
share/man/man8/man8.acorn26/boot26.8		1.8
share/man/man8/man8.alpha/boot.8		1.16
share/man/man8/man8.alpha/mkbootimage.8		1.9
share/man/man8/man8.amiga/installboot.8		1.23
share/man/man8/man8.atari/ahdilabel.8		1.14
share/man/man8/man8.cobalt/boot.8		1.10
share/man/man8/man8.hppa/boot.8			1.2
share/man/man8/man8.macppc/boot.8		1.8
share/man/man8/man8.macppc/ofwboot.8		1.14
share/man/man8/man8.mvme68k/boot.8		1.9
share/man/man8/man8.sparc/boot.8		1.32
share/man/man8/man8.vax/boot.8			1.14
share/man/man8/man8.vax/drtest.8		1.16
share/man/man8/man8.vax/format.8		1.14
share/man/man8/man8.x86/boot.8			1.12
share/man/man8/man8.x86/mbr.8			1.4
share/man/man8/sysinst.8			1.6
share/man/man9/man9.i386/bioscall.9		1.10

	Remove workaround for ancient HTML generation code.
	Use EXIT STATUS and .Ex.
	cd(1):
	 - direct reader to shell documentation generally, rather than csh(1)
	   specifically.
	 - mention variables OLDPWD and PWD.
	 - Move the text that explains that cd(1) is a shell built-in to the
	   very beginning.
	 - Improve formatting.
	[sevan, ticket #1351]

share/man/man1/man1.atari/edahdi.1		1.12
share/man/man1/man1.atari/msconfig.1		1.9
share/man/man1/man1.x68k/aout2hux.1		1.6
share/man/man1/man1.x68k/bellctrl.1		1.16
share/man/man1/man1.x68k/bellctrl.1		1.17
share/man/man1/man1.x68k/loadfont.1		1.10
share/man/man1/man1.x68k/loadkmap.1		1.7
share/man/man1/man1.x68k/palette.1		1.7
share/man/man1/man1.x68k/tvctrl.1		1.6
share/man/man4/null.4				1.5,1.6
share/man/man8/man8.next68k/boot.8		1.5
share/man/man9/arp.9				1.27

	Provide history.
	Improve grammar and readability. Minor cosmetics.
	[sevan, tickets #1352 - #1364]

sys/conf/files					1.1238
sys/crypto/nist_ctr_drbg/files.nist_ctr_drbg	delete
sys/crypto/nist_ctr_drbg/nist_ctr_aes_rijndael.h delete
sys/crypto/nist_ctr_drbg/nist_ctr_drbg.c	delete
sys/crypto/nist_ctr_drbg/nist_ctr_drbg.h	delete
sys/crypto/nist_ctr_drbg/nist_ctr_drbg_aes128.h	delete
sys/crypto/nist_ctr_drbg/nist_ctr_drbg_aes256.h	delete
sys/crypto/nist_ctr_drbg/nist_ctr_drbg_config.h	delete
sys/crypto/nist_hash_drbg/files.nist_hash_drbg	1.1
sys/crypto/nist_hash_drbg/nist_hash_drbg.c	1.1
sys/crypto/nist_hash_drbg/nist_hash_drbg.h	1.1
sys/dev/rndpseudo.c				1.38
sys/kern/subr_cprng.c				1.31
sys/rump/kern/lib/libcrypto/Makefile		1.5
sys/rump/librump/rumpkern/Makefile.rumpkern	1.176
sys/sys/cprng.h					1.13-1.15

	cprng.h: use static __inline for consistency with other include
	headers and remove an unused function.

	Switch from NIST CTR_DRBG with AES to NIST Hash_DRBG with SHA-256.
	[riastradh, ticket #1365]

sys/dev/pci/ixgbe/ixgbe_x550.c			1.16
sys/dev/pci/ixgbe/ixgbe.c			1.180,1.203-1.204,1.207-1.208 via patch
sys/dev/pci/ixgbe/ix_txrx.c			1.55
sys/dev/pci/ixgbe/ixgbe_netbsd.c		1.10
sys/dev/pci/ixgbe/ixgbe_common.c		1.25
sys/dev/pci/ixgbe/ixv.c				1.129-1.130

	- X550EM supports QSFP, so check ixgbe_media_type_fiber_qsfp too.
	- An interrupt might not arrive when a module is inserted. When an link
	  status change interrupt occurred and the driver still regard SFP as
	  unplugged, issue the module softint before issuing LSC softint.
	- Add 10000BASE-LX media if it's 1000BASE-BX.
	- printf -> device_printf
	- Avoid undefined behavior of VLAN filter setting.
	- Simplify code.
	- Fix typo in unused code.
	- Fix typo in comment. Found by Wataru Ashihara.
	[msaitoh, ticket #1367]

lib/libc/nameser/ns_name.c			1.12

	Fix buffer overrun.
	[maya, ticket #1368]

sys/miscfs/procfs/procfs_linux.c		1.76

	Have procfs_do_pid_stat() pass the proc's map to get_proc_size_info(),
	rather than having the latter look up the map again.
	[chs, ticket #1370]

sys/dev/sysmon/sysmon_power.c			1.61

	Fix info leak.
	[maxv, ticket #1371]

sys/netipsec/key.c				1.266

	Fix info leaks.
	[maxv, ticket #1372]

share/man/man8/man8.x86/boot.8			1.16,1.17
sys/arch/i386/stand/boot/boot2.c		1.71,1.72 (patch)
sys/arch/i386/stand/boot/devopen.c		1.9
sys/arch/i386/stand/boot/devopen.h		1.5
sys/arch/i386/stand/efiboot/boot.c		1.14,1.15 (patch)
sys/arch/i386/stand/efiboot/devopen.c		1.6,1.7
sys/arch/i386/stand/efiboot/devopen.h		1.4
sys/arch/i386/stand/efiboot/efidisk.c		1.8
sys/arch/i386/stand/lib/Makefile		1.46
sys/arch/i386/stand/lib/biosdisk.c		1.50,1.51
sys/arch/i386/stand/lib/biosdisk.h		1.11

	Add GPT and RAIDframe support to bootloaders.
	[manu, ticket #1373]

common/lib/libc/arch/arm/atomic/atomic_or_64.S	1.11
common/lib/libc/arch/arm/atomic/atomic_xor_64.S	1.4

	arm: fix return values of __sync_{,x}or_and_fetch_8.
	[skrll, ticket #1375]

external/mit/expat/dist/conftools/test-driver   up to 1.1.1.1
external/mit/expat/dist/conftools/ar-lib        up to 1.1.1.1
external/mit/expat/dist/conftools/ax-append-compile-flags.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/ax-append-flag.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/ax-append-link-flags.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/ax-check-compile-flag.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/ax-check-link-flag.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/ax-require-defined.m4 up to 1.1.1.1
external/mit/expat/dist/conftools/compile       up to 1.1.1.1
external/mit/expat/dist/conftools/depcomp       up to 1.1.1.1
external/mit/expat/dist/conftools/missing       up to 1.1.1.1
external/mit/expat/dist/conftools/expatcfg-compiler-supports-visibility.m4 up to 1.1.1.1
external/mit/expat/dist/doc/Makefile.am         up to 1.1.1.1
external/mit/expat/dist/doc/Makefile.in         up to 1.1.1.1
external/mit/expat/dist/examples/Makefile.am    up to 1.1.1.1
external/mit/expat/dist/examples/Makefile.in    up to 1.1.1.1
external/mit/expat/dist/lib/Makefile.am         up to 1.1.1.1
external/mit/expat/dist/lib/Makefile.in         up to 1.1.1.1
external/mit/expat/dist/tests/benchmark/Makefile.am up to 1.1.1.1
external/mit/expat/dist/tests/benchmark/Makefile.in up to 1.1.1.1
external/mit/expat/dist/tests/Makefile.am       up to 1.1.1.1
external/mit/expat/dist/tests/Makefile.in       up to 1.1.1.1
external/mit/expat/dist/tests/structdata.c      up to 1.1.1.1
external/mit/expat/dist/tests/structdata.h      up to 1.1.1.1
external/mit/expat/dist/tests/udiffer.py        up to 1.1.1.1
external/mit/expat/dist/tests/xmltest.log.expected up to 1.1.1.1
external/mit/expat/dist/win32/build_expat_iss.bat up to 1.1.1.1
external/mit/expat/dist/xmlwf/Makefile.am       up to 1.1.1.1
external/mit/expat/dist/xmlwf/Makefile.in       up to 1.1.1.1
external/mit/expat/dist/xmlwf/xmlwf_helpgen.py  up to 1.1.1.1
external/mit/expat/dist/xmlwf/xmlwf_helpgen.sh  up to 1.1.1.1
external/mit/expat/dist/Makefile.am             up to 1.1.1.1
external/mit/expat/dist/README.md               up to 1.1.1.1
external/mit/expat/dist/cmake/expat-config.cmake.in up to 1.1.1.1
external/mit/expat/dist/cmake/mingw-toolchain.cmake up to 1.1.1.1
external/mit/expat/dist/acinclude.m4            up to 1.1.1.1
external/mit/expat/dist/fix-xmltest-log.sh      up to 1.1.1.1
external/mit/expat/dist/test-driver-wrapper.sh  up to 1.1.1.1
external/mit/expat/dist/MANIFEST                delete
external/mit/expat/dist/README                  delete
external/mit/expat/dist/conftools/ac_c_bigendian_cross.m4 delete
external/mit/expat/dist/conftools/mkinstalldirs delete
external/mit/expat/dist/xmlwf/xmlurl.h          delete
external/mit/expat/dist/xmlwf/xmlwin32url.cxx   delete
external/mit/expat/dist/CMake.README            up to 1.1.1.5
external/mit/expat/dist/CMakeLists.txt          up to 1.1.1.5
external/mit/expat/dist/Changes                 up to 1.1.1.6
external/mit/expat/dist/ConfigureChecks.cmake   up to 1.1.1.2
external/mit/expat/dist/Makefile.in             up to 1.1.1.6
external/mit/expat/dist/aclocal.m4              up to 1.1.1.4
external/mit/expat/dist/configure               up to 1.1.1.6
external/mit/expat/dist/configure.ac            up to 1.1.1.4
external/mit/expat/dist/expat_config.h.cmake    up to 1.1.1.2
external/mit/expat/dist/expat_config.h.in       up to 1.1.1.6
external/mit/expat/dist/conftools/config.guess  up to 1.4
external/mit/expat/dist/conftools/config.sub    up to 1.4
external/mit/expat/dist/conftools/get-version.sh up to 1.1.1.2
external/mit/expat/dist/conftools/install-sh    up to 1.1.1.5
external/mit/expat/dist/conftools/ltmain.sh     up to 1.1.1.5
external/mit/expat/dist/doc/reference.html      up to 1.1.1.5
external/mit/expat/dist/doc/xmlwf.1             up to 1.1.1.4
external/mit/expat/dist/doc/xmlwf.xml           up to 1.1.1.2
external/mit/expat/dist/examples/elements.c     up to 1.1.1.5
external/mit/expat/dist/examples/outline.c      up to 1.1.1.4
external/mit/expat/dist/lib/ascii.h             up to 1.1.1.2
external/mit/expat/dist/lib/asciitab.h          up to 1.1.1.2
external/mit/expat/dist/lib/expat.h             up to 1.1.1.6
external/mit/expat/dist/lib/expat_external.h    up to 1.1.1.4
external/mit/expat/dist/lib/iasciitab.h         up to 1.1.1.2
external/mit/expat/dist/lib/internal.h          up to 1.1.1.3
external/mit/expat/dist/lib/latin1tab.h         up to 1.1.1.2
external/mit/expat/dist/lib/libexpat.def        up to 1.1.1.3
external/mit/expat/dist/lib/libexpatw.def       up to 1.1.1.3
external/mit/expat/dist/lib/nametab.h           up to 1.1.1.2
external/mit/expat/dist/lib/siphash.h           up to 1.1.1.2
external/mit/expat/dist/lib/utf8tab.h           up to 1.1.1.2
external/mit/expat/dist/lib/winconfig.h         up to 1.1.1.3
external/mit/expat/dist/lib/xmlparse.c          up to 1.8
external/mit/expat/dist/lib/xmlrole.c           up to 1.1.1.5
external/mit/expat/dist/lib/xmlrole.h           up to 1.1.1.2
external/mit/expat/dist/lib/xmltok.c            up to 1.5
external/mit/expat/dist/lib/xmltok.h            up to 1.3
external/mit/expat/dist/lib/xmltok_impl.c       up to 1.6
external/mit/expat/dist/lib/xmltok_impl.h       up to 1.1.1.2
external/mit/expat/dist/lib/xmltok_ns.c         up to 1.1.1.2
external/mit/expat/dist/tests/chardata.c        up to 1.1.1.4
external/mit/expat/dist/tests/chardata.h        up to 1.1.1.2
external/mit/expat/dist/tests/memcheck.c        up to 1.1.1.2
external/mit/expat/dist/tests/memcheck.h        up to 1.1.1.2
external/mit/expat/dist/tests/minicheck.c       up to 1.1.1.4
external/mit/expat/dist/tests/minicheck.h       up to 1.1.1.5
external/mit/expat/dist/tests/runtests.c        up to 1.1.1.5
external/mit/expat/dist/tests/runtestspp.cpp    up to 1.1.1.2
external/mit/expat/dist/tests/xmltest.sh        up to 1.4
external/mit/expat/dist/tests/benchmark/benchmark.c up to 1.1.1.3
external/mit/expat/dist/win32/README.txt        up to 1.1.1.5
external/mit/expat/dist/win32/expat.iss         up to 1.1.1.6
external/mit/expat/dist/xmlwf/codepage.c        up to 1.1.1.4
external/mit/expat/dist/xmlwf/codepage.h        up to 1.1.1.2
external/mit/expat/dist/xmlwf/ct.c              up to 1.1.1.2
external/mit/expat/dist/xmlwf/filemap.h         up to 1.1.1.3
external/mit/expat/dist/xmlwf/readfilemap.c     up to 1.1.1.5
external/mit/expat/dist/xmlwf/unixfilemap.c     up to 1.1.1.4
external/mit/expat/dist/xmlwf/win32filemap.c    up to 1.1.1.3
external/mit/expat/dist/xmlwf/xmlfile.c         up to 1.1.1.4
external/mit/expat/dist/xmlwf/xmlfile.h         up to 1.1.1.2
external/mit/expat/dist/xmlwf/xmlmime.c         up to 1.1.1.2
external/mit/expat/dist/xmlwf/xmlmime.h         up to 1.1.1.2
external/mit/expat/dist/xmlwf/xmltchar.h        up to 1.1.1.2
external/mit/expat/dist/xmlwf/xmlwf.c           up to 1.1.1.6
external/mit/expat/lib/libexpat/expat_config.h  up to 1.6
doc/3RDPARTY					1.1649 (patch)
external/mit/xorg/tools/fc-cache/Makefile	1.18 (patch)

	Update expat to 2.2.8.
	Define XML_POOR_ENTROPY for the tool version of fc-cache
	(we can not assume anything about the build host).
	[maya, ticket #1376]

sys/dev/usb/xhci.c				1.109,1.113

	Fix ryzen usb issues and support xhci version 3.10.
	[mrg, ticket #1377]

sys/netinet/ip_input.c				1.390 (patch)
sys/netinet6/ip6_input.c			1.209 (patch)

	Packet filters can return an mbuf chain with fragmented headers, so
	m_pullup() it when needed.
	[bouyer, ticket #1378]

sys/arch/x86/acpi/acpi_machdep.c		1.27,1.28 (adapted)
sys/arch/xen/include/xen-public/platform.h	(apply patch)

	Attempt to obtain ACPI RSDP from the hypervisor for Xen PV.
	[manu, ticket #1380]

share/man/man8/man8.x86/boot.8			1.18
sys/kern/kern_subr.c				1.227

	Accept root device specification as NAME=label and
	document that the bootdev option accepts a device specification
	with this syntax.
	[manu, ticket #1381]

distrib/sets/lists/comp/md.amd64		1.273
distrib/sets/lists/comp/md.i386			1.191
share/man/man8/man8.x86/boot.8			1.20
sys/arch/i386/include/Makefile			1.50 (patch)
sys/arch/i386/include/multiboot2.h		1.1
sys/arch/i386/stand/boot/Makefile.boot		1.73
sys/arch/i386/stand/dosboot/Makefile		1.32
sys/arch/i386/stand/efiboot/Makefile.efiboot	1.16
sys/arch/i386/stand/efiboot/boot.c		1.16
sys/arch/i386/stand/efiboot/bootia32/Makefile	1.3
sys/arch/i386/stand/efiboot/bootia32/efibootia32.c 1.5
sys/arch/i386/stand/efiboot/bootia32/multiboot32.S 1.1
sys/arch/i386/stand/efiboot/bootx64/Makefile	1.2
sys/arch/i386/stand/efiboot/bootx64/efibootx64.c 1.5
sys/arch/i386/stand/efiboot/bootx64/multiboot64.S 1.1
sys/arch/i386/stand/efiboot/efiboot.c		1.11
sys/arch/i386/stand/efiboot/efiboot.h		1.10
sys/arch/i386/stand/efiboot/eficons.c		1.7
sys/arch/i386/stand/efiboot/efimemory.c		1.9
sys/arch/i386/stand/lib/Makefile		1.47
sys/arch/i386/stand/lib/biosdisk.c		1.52
sys/arch/i386/stand/lib/biosdisk.h		1.12
sys/arch/i386/stand/lib/bootinfo_memmap.c	1.6
sys/arch/i386/stand/lib/exec.c			1.74
sys/arch/i386/stand/lib/exec_multiboot1.c	1.1
sys/arch/i386/stand/lib/exec_multiboot2.c	1.1
sys/arch/i386/stand/lib/exec_multiboot2.c	1.2
sys/arch/i386/stand/lib/libi386.h		1.45
sys/arch/i386/stand/lib/multiboot.S		1.3
sys/arch/i386/stand/lib/pread.c			1.8
sys/arch/i386/stand/netboot/Makefile.netboot	1.11
sys/arch/i386/stand/pxeboot/Makefile		1.26
sys/external/bsd/gnu-efi/dist/inc/efiapi.h	(apply patch)

	Add multiboot 2 support to x86 bootloaders.
	[manu, ticket #1382]

sys/netinet6/nd6_nbr.c				1.173

	nd6: remove extra pserialize_read_exit
	[ozaki-r, ticket #1383]

external/mit/expat/lib/libexpat/expat_config.h	1.7

	Actually define BYTEORDER since it is used.
	[maya, ticket #1384]

sys/net/if.c				1.461
sys/net/if.h				1.277
sys/net/if_gif.c			1.149
sys/net/if_gif.h			1.33
sys/net/if_ipsec.c			1.19,1.20,1.24
sys/net/if_ipsec.h			1.5
sys/net/if_l2tp.c			1.33,1.36-1.39
sys/net/if_l2tp.h			1.7,1.8
sys/net/route.c 			1.220,1.221
sys/net/route.h 			1.125
sys/netinet/in_gif.c			1.95
sys/netinet/in_l2tp.c			1.17
sys/netinet/ip_input.c			1.391,1.392
sys/netinet/wqinput.c			1.6
sys/netinet6/in6_gif.c			1.94
sys/netinet6/in6_l2tp.c 		1.18
sys/netinet6/ip6_forward.c		1.97
sys/netinet6/ip6_input.c		1.210,1.211
sys/netipsec/ipsec_output.c		1.82,1.83 (patched)
sys/netipsec/ipsecif.c			1.12,1.13,1.15,1.17 (patched)
sys/netipsec/key.c			1.259,1.260

	ipsecif(4): support input drop packet counter,
	remove unnecessary addresses in PF_KEY message.
	l2tp(4): fix output bytes counter, initialize mowner variables
	for MBUFTRACE, divide Tx context of l2tp(4) to improve performance.
	rtcache, wqinput and l2tp: avoid having data directly in a
	percpu storage.
	[knakahara, ticket #1385]

sys/dev/ic/nvme.c				1.45

	PRs kern/54275, kern/54503 and kern/54532:
	don't set Phase Tag bit of Completion Queue entry at nvme_poll_done().
	[nonaka, ticket #1386]

sys/arch/sparc/include/ctlreg.h			1.30
sys/dev/pci/if_xgereg.h				1.3

	Add missing NUL to prevent buffer overrun.
	[msaitoh, ticket #1387]

sys/dev/pci/pcireg.h				1.147 via patch
sys/dev/pci/pci_subr.c				1.212, 1.215-1.217 via patch

	- Change fast back-to-back "capable" to "enable" in pci_subr.c.
	- Print Primary Discard Timer, Secondary Discard Timer, Discard
	  Timer Status and Discard Timer SERR# Enable bit in pci_subr.c.
	- Print some DPC register values not with %04x but with %08x because
	  those are 32bit.
	- Remove whitespace for consistency.
	- Use macro.
	- Whitespace fixes.
	[msaitoh, ticket #1388]

sys/dev/pci/ixgbe/ixgbe_type.h			1.42-1.43
sys/dev/pci/ixgbe/ixgbe.c			1.209-1.213 via patch
sys/dev/pci/ixgbe/ixv.c				1.131-1.138 via patch
sys/dev/pci/ixgbe/ixgbe_vf.c			1.19-1.22
sys/dev/pci/ixgbe/ixgbe_vf.h			1.14
sys/dev/pci/ixgbe/ixgbe.h			1.57-1.58 via patch
share/man/man4/ixv.4				1.5 via patch

	- Fix a bug that MBSDC (Bad SFD Count) isn't counted on X550EM_X and
	  X550EM_A. The register is for X550 and newer.
	- ixv(4): Make SIOCADDMULTI returns ENOSPC and print error message
	  when the Ethernet multicast address list exceeds the limit(30) and
	  can't be ALLMULTI.
	- ixv(4): SIOCZIFDATA clear the event counters as ixgbe.c.
	- Reduce ixv(4)'s multicast table array size in ixv_set_multi from
	  MAX_NUM_MULTICAST_ADDRESSES(128) to IXGBE_MAX_VF_MC(30).
	- ixv(4): Add support ALLMULTI and PROMISC.
	- if_flags is neither int nor short. It's unsigned short.
	- Fix a bug that the multicast filter isn't correctly initialized when
	  the total number of the Ethernet multicast addresses is just 128.
	- Make ixv_set_multi() work correctly (especially for PROMISC) when the
	  function is called from if_init().
	- Remove *_set_promisc() and use *_set_multi(). And then, rename
	  *_set_multi() to *_set_rxfilter().
	- ixv(4): If a multicast entry has range, use ALLMULTI like others.
	[msaitoh, ticket #1389]

sys/dev/ic/nvme.c				1.46

	nvme(4): don't attach the device if namespace is not found.
	[nonaka, ticket #1390]

sys/arch/i386/stand/efiboot/bootia32/multiboot32.S 1.2

	Fix multiboot32 argument usage.
	[manu, ticket #1391]

sys/arch/i386/stand/efiboot/boot.c		1.17
sys/arch/i386/stand/efiboot/conf.c		1.3
sys/arch/i386/stand/efiboot/dev_net.c		1.3
sys/arch/i386/stand/efiboot/devopen.c		1.8
sys/arch/i386/stand/efiboot/devopen.h		1.5

	x86 efiboot: pass a filename to BOOTP and parse a DHCP server
	provided filename.
	[nonaka, ticket #1392]

usr.sbin/bta2dpd/bta2dpd/sbc_encode.c		1.10

	Fix off by one in sbc encoder.
	[nat, ticket #1393]

external/mit/expat/lib/libexpat/Makefile	1.3,1.4

	More portable way to extract PACKAGE_VERSION.
	[maya, ticket #1394]

sys/netbt/hci.h					1.46
sys/netbt/hci_event.c				1.26

	When encrypted connections are configured, verify that the encryption
	key length has a minimum size when the adaptor supports that.
	This addresses the 'Key Negotiation of Bluetooth' attack,
	CVE-2019-9506.
	[plunky, ticket #1395]

sys/netinet/if_arp.c				1.288 (patch)
sys/netinet6/nd6.c				1.264
sys/netinet6/nd6.h				1.88
sys/netinet6/nd6_nbr.c				1.174

	Initialize DAD components properly during boot.
	[ozaki-r, ticket #1396]

sys/net/route.c					1.222

	Reduce kernel stack usage by passing a const pointer instead of a
	huge structure by value.
	[rin, ticket #1398]

sys/external/bsd/ipf/netinet/fil.c		1.31
sys/external/bsd/ipf/netinet/ip_fil_netbsd.c	1.32,1.33

	- pfil_run_hooks() can be called recursively, so we have to
	  #define FASTROUTE_RECURSION in fil.c
	- ip6_if_output()/nd6_output() will free the mbuf on error, to make sure
	  to set *mpp to NULL so the caller won't try to free it again.
	[bouyer, ticket #1399]

sys/arch/i386/stand/pxeboot/Makefile		1.28
sys/arch/i386/stand/pxeboot/start_pxe.S		1.7

	Incrase pxeboot code size limit from 64k to 128k.
	[manu, ticket #1400]

sys/net/if_ethersubr.c				1.255

	The ALTQ classifier for Ethernet frames did not work in some
	cases.
	[ozaki-r, ticket #1401]


sys/net/if_ethersubr.c				1.277

	Increment if_iqdrops when dropping an oversized frame.
	[msaitoh, ticket #1402]

sys/dev/pci/ixgbe/ixv.c				1.139

	ixv(4): set MTU correctly if mtu > 1500.
	[msaitoh, ticket #1403]

external/bsd/ipf/dist/man/ipf.5			1.6

	Fix typo.
	[uwe, ticket #1404]

sys/kern/vnode_if.sh				1.67
sys/kern/vnode_if.src				1.78
sys/kern/vnode_if.c				(regen)

	Add fstrans type LAZY and use it for VOP_STRATEGY().
	[hannken, ticket #1405]

sys/dev/pci/if_vge.c				1.75
sys/dev/pci/if_vgereg.h				1.5

	Properly recover from powerdown mode.
	[msaitoh, ticket #1406]

sys/dev/pci/if_et.c                             1.27 via patch

	Fix a bug that multicast address filter doesn't work correctly.
	[msaitoh, ticket #1407]

sys/dev/pci/ixgbe/ixgbe.c			1.214

	Disable EEE for backplane X550EM_X.
	[msaitoh, ticket #1408]

external/bsd/pkg_install/dist/add/perform.c     up to 1.6
external/bsd/pkg_install/dist/add/pkg_add.1     up to 1.3
external/bsd/pkg_install/dist/admin/audit.c     up to 1.3
external/bsd/pkg_install/dist/admin/main.c      up to 1.4
external/bsd/pkg_install/dist/admin/pkg_admin.1 up to 1.5
external/bsd/pkg_install/dist/create/util.c     up to 1.2
external/bsd/pkg_install/dist/delete/pkg_delete.c up to 1.3
external/bsd/pkg_install/dist/info/main.c       up to 1.3
external/bsd/pkg_install/dist/lib/lib.h         up to 1.9
external/bsd/pkg_install/dist/lib/license.c     up to 1.9
external/bsd/pkg_install/dist/lib/parse-config.c up to 1.3
external/bsd/pkg_install/dist/lib/pkcs7.c       up to 1.4
external/bsd/pkg_install/dist/lib/pkg_io.c      up to 1.3
external/bsd/pkg_install/dist/lib/version.h     up to 1.15
external/bsd/pkg_install/dist/lib/vulnerabilities-file.c up to 1.3

	Merge pkg_install-20191008 from pkgsrc.
	[joerg, ticket #1409]

sys/fs/ntfs/ntfs_subr.c				1.62
sys/fs/ntfs/ntfs_vfsops.c			1.108

	It is not possible to call vflush() from xxx_mount().
	Replace with a vnode iterator and use vrecycle().
	When the MFT record size is lower than the cluster size we have
	to read consecutive clusters to fill the MFT record.
	[hannken, ticket #1410]

sys/net/if_vlan.c				1.147

	vlan(4): fix input packet statistics.
	[ozaki-r, ticket #1411]

sys/dev/hpc/hpcapm.c				1.21

	Fix an spl(9) leak.
	[msaitoh, ticket #1412]

sys/dev/mii/rgephy.c			1.43, 1.47, 1.49, 1.54-1.57 (patch)
sys/dev/mii/rgephyreg.h 		1.10, 1.12 (patch)

	- It seems EEE support is not only on 8211F but on 8211D and newer.
	- Indicate master mode if the negotiated result say so.
	- Use symbolic names for chip revision.
	- Cosmetic changes.
	- KNF.
	[msaitoh, ticket #1413]

sys/dev/mii/ciphy.c			1.34-1.37 via patch
sys/dev/mii/miidevs			1.158
sys/dev/mii/miidevs.h			regen
sys/dev/mii/miidevs_data.h		regen

	- Indicate master mode if the negotiated result say so.
	- Call mii_phy_flowstatus() to show the flow setting.
	- Match a lot of Cicada and Vitesse devices correctly.
	- Add support for VSC8221, VSC8234 and VSC8641.
	- KNF
	[msaitoh, ticket #1414]

sys/dev/pci/if_bce.c				1.55,1.56
sys/dev/pci/if_bcereg.h				1.5

	- Add missing splnet()/splx() around mii_tick().
	- Use device_printf() instead of aprint_error_dev)() in bce_watchdog().
	- Mark ETHERCAP_VLAN_MTU.
	- PR kern/24911: clear the powerdown mode.
	- Set proper LED modes.
	[msaitoh, ticket #1415]

sys/arch/arm/ep93xx/epe.c			1.45
sys/arch/mac68k/nubus/if_netdock_nubus.c	1.31
sys/dev/ic/i82586.c				1.86
sys/dev/pcmcia/if_cnw.c				1.66
sys/dev/pcmcia/if_ray.c				1.95
sys/dev/qbus/if_il.c				1.36
sys/dev/qbus/if_qt.c				1.24

	Do not double count incoming packets.
	[msaitoh, ticket #1416]

distrib/sets/lists/modules/mi			1.127
sys/modules/Makefile				1.229,1.230
sys/modules/filemon/Makefile			1.4 (manually adjusted)

	Do not install the filemon module.
	[maya, ticket #1418]

sys/dev/ic/ld_nvme.c				1.23

	Do not attach an ld device if the format descriptor is
	unsupported/unused.
	[mlelstv, ticket #1417]

sys/dev/audio.c					(apply patch)

	Do not allow mmap(2) on audio devices opened read-only.
	[nat, ticket #1419]

sys/kern/subr_disk.c				1.129

	Avoid division by zero in bounds_check_with_label() on misbehaving
	or broken drives.
	[cnst, ticket #1397]

sys/arch/zaurus/conf/Makefile.zaurus.inc	1.10
sys/arch/zaurus/stand/zbsdmod/Makefile		1.12
sys/arch/zaurus/stand/zbsdmod/compat_linux.h	1.7
sys/arch/zaurus/stand/zbsdmod/zbsdmod.c		1.10,1.11

	Explicitly set empty LINKENTRY to keep ENTRY address specified
	in ldscript. Cacheline-align code used to enter the kernel.
	Misc cleanup to avoid future confusion:
	- Remove more unnecessary debug sections
	- Use DBG instead of COPTS to specify -Os as defined in bsd.prog.mk
	- Use CFLAGS and CPPFLAGS correctly
	- Explicitly set -ffreestanding
	Make sure to clear bss before jumping to a kernel copied from
	load buffer.
	[tsutsui, ticket #1420]

sys/dev/scsipi/st.c				1.238

	Add simple position recovery when positioning to EOM by reading
	the position with READ_POSITION.
	[jnemeth, ticket #1421]

sys/dev/rasops/rasops.h				1.49

	rasops(9): avoid size changes of struct rasops_info depending
	on kernel options.
	[tsutsui, ticket #1422]

etc/MAKEDEV.awk					1.28

	PR port-arm/54640: hack to work around conditional RAW_PART
	definition in arm/include/disklabel.h.
	[tsutsui, ticket #1423]

sys/arch/zaurus/dev/zrc.c			1.10

	Fix build errors with options WSDISPLAY_COMPAT_RAWKBD.
	[tsutsui, ticket #1424]

sys/compat/netbsd32/syscalls.master			1.129
sys/compat/netbsd32/netbsd32_syscallargs.h		(regen)
sys/compat/netbsd32/netbsd32_syscall.h			(regen)
sys/compat/netbsd32/netbsd32_sysent.c			(regen)
sys/compat/netbsd32/netbsd32_syscalls.c 		(regen)
sys/compat/netbsd32/netbsd32_syscalls_autoload.c	(regen)
sys/compat/netbsd32/netbsd32_systrace_args.c		(regen)

	For netbsd32_readlinkat(2), bufsize is netbsd_size_t, not size_t.
	[rin, ticket #1425]

