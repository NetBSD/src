# $NetBSD: CHANGES-10.1,v 1.1.2.26 2024/08/23 18:36:36 martin Exp $

A complete list of changes from the NetBSD 10.0 release on 2024-03-28
until the 10.1 release:

doc/CHANGES-10.1                                created
doc/LAST_MINUTE                                 patched by hand
doc/README.files                                patched by hand
external/gpl2/groff/tmac/mdoc.local             patched by hand
sys/sys/param.h                                 patched by hand

	Welcome to 10.0_STABLE!

lib/libc/time/strptime.c			1.66

	strptime(3): PR 58041: pacify -Wsign-compare.
	[riastradh, ticket #648]

share/man/man4/ugen.4				1.39
sys/dev/usb/uftdi.c				1.77
sys/dev/usb/ugen.c				1.176
sys/dev/usb/usbdevices.config			1.43

	uftdi(4): fix openocd with the Tigard debug board.
	[thorpej, ticket #649]

sys/dev/usb/ugen.c				1.177

	ugen(4): add a "ugen-unit" device property for devpubd(8) scripts.
	[thorpej, ticket #651]

sys/arch/alpha/pci/irongate_pci.c		1.13

	alpha: add a missing barrier in irongate_conf_read0().
	[thorpej, ticket #652]

sys/dev/pci/if_iwn.c				1.100

	iwn(4): PR 58105: use the correct firmware file on
	Intel Centrino N 130.
	[riastradh, ticket #653]

share/mk/bsd.lib.mk				1.398,1.399,1.152 (via patch)

	bsd.x11.mk: PR 58104: use TOOL_AWK, not the build host's awk.
	[riastradh, ticket #654]

share/mk/bsd.own.mk				1.1365,1.1366
sys/arch/aarch64/include/sljit_machdep.h	1.4,1.5
sys/external/bsd/sljit/dist/sljit_src/sljitNativeARM_64.c 1.5
sys/modules/Makefile				1.285

	aarch64: PR 58103: enable SLJIT acceleration.
	[riastradh, ticket #655]

sys/stand/efiboot/efiboot.c			1.23

	efiboot: PR 58075: avoid invalid memory access with netboot.
	[riastradh, ticket #656]

distrib/evbarm/instkernel/sshramdisk/Makefile	1.26

	evbarm/sshramdisk: PR 58035: put firmware files in the right
        place.
	[riastradh, ticket #657]

share/man/man4/wg.4				1.8,1.9

	wg(4): PR 58015: man page improvements.
	[riastradh, ticket #658]

sys/netinet/sctp_asconf.c			1.14
sys/netinet6/in6_ifattach.c			1.122
sys/netinet6/nd6.c				1.282

	ipsecif(4): fix invalid IPv6 route after deletion of a tunnel.
	[knakahara, ticket #659]

sbin/ifconfig/ifconfig.8			1.126-1.129

	ifconfig(8): PR 58125: document lagg(4) parameters.
	[andvar, ticket #660]

sys/dev/pci/if_mcx.c				1.27

	mcx(4): PR 58124: enforce full-duplex mark in mcx_media_status(),
	when link is up.
	[andvar, ticket #661]

sys/arch/x86/x86/viac7temp.c			1.10

	viac7temp(4): PR 58148: fix the kernel module.
	[andvar, ticket #662]

share/mk/bsd.hostlib.mk				1.21

	Fix reproducible toolchain build on host toolchains   
        that do not support -iremap.
	[jakllsch, ticket #664]

sys/ddb/db_proc.c				1.16

	ddb(4): fix alignment of 'ps/[lw]' output.
	[skrll, ticket #665]

sys/arch/arm/arm32/pmap.c			1.443

	arm: PR 58135: don't unconditionally set XN in pmap_clearbit.
	[skrll, ticket #666]

sys/arch/aarch64/aarch64/cpu_machdep.c		1.15
sys/arch/aarch64/aarch64/sig_machdep.c		1.9

	aarch64: PR 58149: cannot return from a signal handler if SP was
	misaligned when the signal arrived.
	[skrll, ticket #667]

sys/kern/init_main.c				1.547
sys/kern/kern_hook.c				1.15
sys/kern/vfs_mount.c				1.104
sys/miscfs/procfs/procfs.h			1.83,1.84
sys/miscfs/procfs/procfs_subr.c			1.117
sys/miscfs/procfs/procfs_vfsops.c		1.112-1.114
sys/miscfs/procfs/procfs_vnops.c		1.230

	procfs: PR 39913, PR 57775: make kernel hooks exechook, exithook
	and forkhook MP-safe and make it safe to remove procfs nodes on
	exehook or proc exit.
	[hannken, ticket #668]

sys/dev/ccd.c					1.190

	ccd(4): PR 58043: allocate buffers with PR_NOWAIT and defer to
	kthread if out of memory. 
	[hannken, ticket #669]

external/bsd/ntp/lib/libntp/Makefile		1.28-1.34

	ntpd(8): fix timestamp in the binary for reproducable builds.
	[jakllsch, ticket #663]

sys/arch/vax/vax/unimpl_emul.S			1.5

	vax: fix assembler code to use constants of the correct size
	to fix reproducable builds (no functional change)
	[kalvisd, ticket #670]

sys/uvm/pmap/pmap.c				1.78
sys/uvm/pmap/pmap.h				1.27

	PR 58006: fix kernel hang in pmap_page_clear_attributes().
	[skrll, ticket #671]

distrib/sets/lists/xbase/mi			1.175
external/mit/xorg/bin/xsetwallpaper/Makefile	1.6

	PR 58172: install xsetwallpaper(1) manual page.
	[jakllsch, ticket #672]

sys/netinet6/frag6.c				1.78

	inet6: fix calculation of fragment length.
	[ozaki-r, ticket #673]

sbin/raidctl/raidctl.8				1.80
sbin/raidctl/raidctl.c				1.79
sys/dev/raidframe/raidframeio.h			1.12
sys/dev/raidframe/rf_diskqueue.c		1.64
sys/dev/raidframe/rf_diskqueue.h		1.30
sys/dev/raidframe/rf_disks.c			1.94,1.95
sys/dev/raidframe/rf_disks.h			1.15
sys/dev/raidframe/rf_driver.c			1.141
sys/dev/raidframe/rf_netbsdkintf.c		1.414
sys/dev/raidframe/rf_raid.h			1.52
sys/dev/raidframe/rf_reconstruct.c		1.129

	raid(4): implement hot removal of spares and components.
	[oster, ticket #674]

sbin/raidctl/raidctl.8				1.81
sbin/raidctl/raidctl.c				1.80

	raidctl(8): implement single command-line configuration of simple
	RAID sets.
	[oster, ticket #675]

sys/dev/usb/uftdi.c				1.79

	uftdi(4): add a match quirk to prevent matching any interface
	on SiPEED FPGA development boards (e.g. Tang Nano 9K).
	The FT2232s on these boards are wired up only for JTAG.
	[thorpej, ticket #676]

external/gpl3/gcc.old/dist/gcc/cp/cfns.h	1.12
(applied to external/gpl3/gcc/dist/gcc/cp/cfns.h)
usr.sbin/mtree/create.c				1.78

	Fix tool build on FreeBSD 14 (and possibly other systems).
	[hgutch, ticket #677]

lib/libc/gen/usleep.3				1.20,1.21
lib/libc/gen/usleep.c				1.21

	usleep(3): PR 58184: allow calls with useconds >= 1000000.
	[jdolecek, ticket #678]

sys/dev/usb/uftdi.c				1.78
sys/dev/usb/usbdevs				1.815
sys/dev/usb/usbdevs.h				(regen)
sys/dev/usb/usbdevs_data.h			(regen)

	uftdi(4): PR 58127: add some USB serial adapters.
	[maya, ticket #679]

libexec/httpd/dir-index-bozo.c			1.37

	httpd(8): PR 57962: create mobile-friendly directory listings.
	[maya, ticket #680]

etc/Makefile					1.470

	PR/58200: change "makeobsolete" to use the tool version of sed.
	[christos, ticket #681]

distrib/common/Makefile.bootcd			1.48
distrib/common/bootimage/Makefile.installimage	1.11
distrib/i386/cdroms/installcd/Makefile		1.12
share/mk/bsd.own.mk				1.1373
sys/arch/i386/conf/LEGACY			1.3

	i386: reduce size of ISO image:
	 - remove redundant kernels and floppy images
	 - do not build AMD GPU firmware
	 - remove DRM support from the LEGACY kernel (targetting ISA machines)
	[nia, ticket #682]

external/mit/xf86-input-ws/dist/src/ws.c	1.17,1.18

	xf86-input-ws: print log message about touchpad scrolling only once.
	[nia, ticket #683]

sys/arch/hp300/stand/inst/Makefile		1.11
sys/arch/hp300/stand/uboot/Makefile		1.11

	hp300: PR 58211: fix hardlinks in /usr/mdec.
	[tsutsui, ticket #684]

sys/arch/hp300/stand/common/if_le.c		1.15,1.16

	hp300: do not panic on fatal errors on receiving packets with invalid
	length.
	[tsutsui, ticket #685]

sys/arch/mac68k/dev/pm_direct.c			1.31

	mac68k: avoid random crashes on some Powerbook models
	when using mouse or keyboard.
	[nat, ticket #686]

sys/dev/pci/if_vmx.c				1.13

	vmx(4):	set IFM_FDX flag if the link is up.
	[msaitoh, ticket #687]

usr.bin/tic/tic.c				1.41

	tic(1): PR 58034: only mark the terminfo entry promoted if
	it actually was.
	[wiz, ticket #688]

sys/dev/hil/hil.c				1.8

	hp300: fix "stray level 1 interrupt" panic by pressing keys
	during autoconf(9).
	[tsutsui, ticket #689]

distrib/notes/hp300/hardware			1.28
share/man/man4/man4.hp300/topcat.4		1.8
sys/arch/hp300/dev/diofb.c			1.8-1.10
sys/arch/hp300/dev/diofbvar.h			1.5
sys/arch/hp300/dev/topcat.c			1.7-1.12
sys/arch/hp300/dev/topcatreg.h			1.5

	hp300: topcat(4) framebuffer fixes.
	[tsutsui, ticket #690]

sys/arch/i386/conf/LEGACY			1.4

	Exclude DRM_LEGACY from the ISA kernel.
	[nia, ticket #691]

sbin/disklabel/main.c				1.58

	disklabel(8): avoid writing a label to the wrong sector
	on some architectures from installer/ramdisk versions of
	the disklabel command.
	[tsutsui, ticket #692]

sys/arch/hp300/hp300/autoconf.c			1.113

	hp300: fix boot device selection for SCSI disks.
	[tsutsui, ticket #693]

sys/arch/vax/include/mcontext.h			1.11
sys/arch/vax/vax/machdep.c			1.200
sys/arch/vax/vax/sig_machdep.c			1.27

	vax: implement _UC_SETSTACK / _UC_CLRSTACK.
	[thorpej, ticket #694]

sys/arch/evbarm/conf/GENERIC64			1.216

	aarch64: add some simple PCI audio devices to GENERIC64
	(for use in QEMU).
	[nia, ticket #698]

sys/dev/pci/eap.c				1.103

	eap(4): restore the full set of supported hardware encodings
	from netbsd-7.
	[nia, ticket #697]

share/man/man4/eap.4				1.18-1.20

	eap(4): improve man page.
	[nia, ticket #696]

sys/arch/sgimips/sgimips/machdep.c		1.155

	sgimips: PR 58269: call mips_vector_init earlier to fix boot.
	[skrll, ticket #695]

external/bsd/tre/dist/src/agrep.c		1.5,1.6

	agrep(1): PR 53513: rewrite check for binary files.
	[andvar, ticket #699]

distrib/sets/lists/man/mi			1.1773 (adapted)
share/man/man4/man4.i386/Makefile		1.81
share/man/man4/man4.i386/viac7temp.4		delete
share/man/man4/man4.x86/Makefile		1.24
share/man/man4/man4.x86/viac7temp.4		1.1
sys/arch/amd64/conf/ALL				1.188
sys/arch/amd64/conf/GENERIC			1.612
sys/arch/i386/conf/ALL				1.519
sys/arch/i386/conf/GENERIC			1.1256
sys/arch/x86/x86/viac7temp.c			1.11

	viac7temp(4): rewrite temperature sensor to read value from MSR.
	Add the driver to amd64 GENERIC.
	[andvar, ticket #700]


sys/arch/x86/x86/fpu.c				1.88

	xen: workaround panic "fpudna from userland" on i386 Xen PV domU.
	[manu, ticket #701]

sys/dev/usb/if_urtwn.c				1.108
sys/dev/usb/usbdevs				1.812
sys/dev/usb/usbdevs.h				(regen)
sys/dev/usb/usbdevs_data.h			(regen)

	urtwn(4): PR 57819: add Mercusys and Mercusys MW150USV2 support.
	[nia, ticket #702]

usr.bin/aiomixer/main.c				1.6

	aiomixer(1): fix setting volume on sb(4) emulated in QEMU.
	[nia, ticket #703]

usr.bin/ftp/ftp.1				1.154

	ftp.1: drop a sentence that's no longer accurate.
	[gutteridge, ticket #704]

distrib/sets/lists/base/mi			1.1345
external/public-domain/tz/share/zoneinfo/Makefile 1.5

	Install /usr/share/zoneinfo/leap-seconds.list.
	[kre, ticket #705]

sys/fs/msdosfs/msdosfs_rename.c			1.4

	PR 58146: fix msdosfs rename crash in RUMP.
	[rhialto, ticket #706]

sys/arch/macppc/macppc/mainbus.c		1.26

	macppc: PR 57394: check for proper error value from OF_finddevice().
	[tsutsui, ticket #707]

sys/arch/mac68k/dev/aed.c			1.39
sys/arch/macppc/dev/aed.c			1.35

	mac68k/macppc: PR 58303: fix passing of emulated 2nd and 3rd button
	events to the corresponding adb mouse.
	[nat, ticket #708]

crypto/external/bsd/openssh/bin/Makefile.inc	1.5

	openssh: use ${EXTERNAL_OPENSSL_SUBDIR} instead of hard-coded
	`openssl`.
	[rin, ticket #709]

usr.sbin/envstat/prog_ops.h			1.3
usr.sbin/powerd/prog_ops.h			1.2
usr.sbin/traceroute/prog_ops.h			1.3

	envstat(8), powerd(8), traceroute(8): add support to CRUNCHOPS
	to enable building rump-fied programs as crunched binaries.
	[rin, ticket #710]

lib/libpthread/pthread.c			1.185

	libpthread: PR 57831: fix resource leak in pthread_create().
	[hannken, ticket #711]

sys/dev/mii/miidevs				1.169-1.171
sys/dev/mii/miidevs.h				(regen)
sys/dev/mii/miidevs_data.h			(regen)

	miidevs: Add MaxLinear GPY21[125] 2.5G PHY and
	GPY115 Gigabit PHY.
	[msaitoh, ticket #712]

sys/dev/pci/igc/if_igc.c			1.7-1.9,1.14

	igc(4):
	 - Fix build of the MODULAR kernel, which explicitly excludes vlans.
	 - Notify which of 64- or 32-bit DMA is used
	 - Cleanup
	[rin, ticket #713]

sys/dev/clk/clk.c				1.8

	clk(4): clk_set_rate: Add KASSERT to check `clk != NULL`
	[rin, ticket #714]

sys/dev/fdt/fdt_powerdomain.c			1.2

	fdt_powerdomain: fix out of bounds data access in the "all"
	(index -1) case.
	[rin, ticket #715]

sys/lib/libsa/netif.c				1.27

	libsa: do not panic when the requested NIC is not available.
	[rin, ticket #716]

sys/arch/x86/x86/coretemp.c			1.40,1.41

	coretemp(4): do not accept impossibly low TjMax values.
	[gutteridge, ticket #717]

sys/dev/pckbport/synaptics.c			1.83

	pms(4): PR 57874: fix synaptics capability parsing to
	unbreak old devices.
	[gutteridge, ticket #718]

etc/etc.aarch64/MAKEDEV.conf			1.10
etc/etc.amd64/MAKEDEV.conf			1.36
etc/etc.i386/MAKEDEV.conf			1.36

	Fix some missing device nodes. PRs 58093, 58100, 58101 and 58102.
	[skrll, ticket #719]

xsrc/external/mit/xorg-server/dist/hw/xfree86/modes/xf86Modes.c 1.2

	PR 58321: make sure we fill in the name field in generated/
	converted modes.
	[tsutsui, ticket #720]

external/gpl3/gcc.old/dist/gcc/doc/gcc.info	1.15
external/gpl3/gcc.old/dist/gcc/doc/gcc.texi	1.13
						(applied to external/gpl3/gcc)

	PR 58336: fix broken gcc.info file.
	[hgutch, ticket #721]
	
distrib/hp300/cdroms/installcd/Makefile		1.4
sys/arch/hp300/dev/dcm.c			1.91
sys/arch/hp300/dev/dcmreg.h			1.11
sys/arch/hp300/dev/diofbreg.h			1.4
sys/arch/hp300/dev/diofbvar.h			1.4
sys/arch/hp300/dev/dma.c			1.45
sys/arch/hp300/dev/dnkbd.c			1.14
sys/arch/hp300/dev/dvbox.c			1.4
sys/arch/hp300/dev/frodoreg.h			1.6
sys/arch/hp300/dev/hpib.c			1.45
sys/arch/hp300/dev/mcclock_frodo.c		1.2
sys/arch/hp300/dev/rbox.c			1.4
sys/arch/hp300/dev/rboxreg.h			1.3
sys/arch/hp300/dev/rtc.c			1.22
sys/arch/hp300/dev/sti_sgc.c			1.8
sys/arch/hp300/dev/topcatreg.h			1.3
sys/arch/hp300/hp300/autoconf.c			1.111,1.114
sys/arch/hp300/hp300/machdep.c			1.238
sys/arch/hp300/hp300/trap.c			1.156
sys/arch/hp300/include/bus.h			1.23
sys/arch/hp300/include/cpu.h			1.73
sys/arch/hp300/stand/Makefile.buildboot		1.38,1.39
sys/arch/hp300/stand/common/clock.c		1.14
sys/arch/hp300/stand/common/conf.c		1.15
sys/arch/hp300/stand/common/conf.h		1.4
sys/arch/hp300/stand/common/devopen.c		1.14,1.15
sys/arch/hp300/stand/common/hil.c		1.15
sys/arch/hp300/stand/common/ite_dumb.c		1.2
sys/arch/hp300/stand/common/ite_sti.c		1.2
sys/arch/hp300/stand/common/machdep.c		1.16
sys/arch/hp300/stand/common/netio.c		1.19
sys/arch/hp300/stand/common/prf.c		1.6
sys/arch/hp300/stand/common/rd.c		1.16
sys/arch/hp300/stand/common/scsi.c		1.12,1.13
sys/arch/hp300/stand/common/scsireg.h		1.5,1.6
sys/arch/hp300/stand/common/scsivar.h		1.5
sys/arch/hp300/stand/common/sd.c		1.12,1.13
sys/arch/hp300/stand/inst/Makefile		1.12
sys/arch/hp300/stand/inst/inst.c		1.25
sys/arch/hp300/stand/mkboot/Makefile		1.12,1.13
sys/arch/hp300/stand/mkboot/mkboot.c		1.12-1.20
sys/arch/hp300/stand/mkboot/volhdr.h		1.6
sys/arch/hp300/stand/mkboot/volhdr.h		delete
sys/arch/hp300/stand/uboot/Makefile		1.12,1.13
sys/fs/cd9660/cd9660_extern.h			1.29
sys/fs/cd9660/cd9660_util.c			1.15,1.16
sys/sys/bootblock.h				1.59
tools/Makefile.nbincludes			1.11 (patch)
usr.sbin/installboot/Makefile			1.59
usr.sbin/installboot/arch/hp300.c		1.18,1.19
usr.sbin/installboot/cd9660.c			1.1,1.2
usr.sbin/installboot/fstypes.c			1.14
usr.sbin/installboot/installboot.8		1.106-1.109
usr.sbin/installboot/installboot.h		1.44,1.45

	hp300: create bootable CD images.
	Various minor fixes. PRs 57909, 54455.
	[tsutsui, ticket #722]

sys/dev/pci/pcireg.h				1.171

	PCI_CLASS_MASK: use unsigned to avoid undefined behavior.
	[rin, ticket #723]

share/mk/bsd.kmodule.mk				1.86
sys/arch/aarch64/aarch64/netbsd32_machdep_13.c	1.4
sys/arch/aarch64/aarch64/netbsd32_machdep_16.c	1.4
sys/arch/mips/mips/netbsd32_machdep_13.c	1.4
sys/arch/mips/mips/netbsd32_machdep_16.c	1.8
sys/arch/powerpc/powerpc/compat_13_machdep.c	1.23
sys/arch/powerpc/powerpc/compat_16_machdep.c	1.25,1.26
sys/arch/sun2/sun2/enable.h			1.5
sys/arch/sun2/sun2/genassym.cf			1.17
sys/modules/Makefile.compat			1.1
sys/modules/compat_13/Makefile			1.3-1.5
sys/modules/compat_16/Makefile			1.3,1.4
sys/modules/compat_netbsd32_13/Makefile		1.5
sys/modules/compat_netbsd32_16/Makefile		1.5
sys/arch/amiga/amiga/locore.s			1.169
sys/arch/atari/atari/locore.s			1.125
sys/arch/cesfic/cesfic/locore.s			1.45
sys/arch/hp300/hp300/locore.s			1.183
sys/arch/luna68k/luna68k/locore.s		1.81
sys/arch/m68k/conf/files.m68k			1.53
sys/arch/m68k/include/pte_motorola.h		1.10 (adapted, via patch)
sys/arch/m68k/m68k/compat_13_sigreturn13.s	1.8
sys/arch/m68k/m68k/compat_16_sigreturn14.s	1.6
sys/arch/m68k/m68k/sigreturn.s			delete
sys/arch/mac68k/mac68k/locore.s			1.182
sys/arch/mvme68k/mvme68k/locore.s		1.129
sys/arch/news68k/news68k/locore.s		1.84
sys/arch/next68k/next68k/locore.s		1.84
sys/arch/sun2/sun2/locore.s			1.37
sys/arch/sun3/sun3/locore.s			1.109
sys/arch/sun3/sun3x/locore.s			1.77
sys/arch/x68k/x68k/locore.s			1.130

	PR 58346: fix compat modules build.
	[pgoyette, ticket #724]

sys/arch/xen/xen/xbdback_xenbus.c		upto 1.107

	Add back proper support for disk transfer request which are
	not contiguous in memory (this support was lost with rev 1.83,
	between netbsd-9 and netbsd-10 branches).
	This fixes a possible virtual disk corruption with linux domUs.
	[bouyer, ticket #726]

usr.sbin/btpand/btpand.c			1.9

	btpand(8): fix off-by-one bug causing out of bounds memory access.
	[plunky, ticket #727]

share/man/man9/atomic_loadstore.9		1.8

	atomic_loadstore(9): PR 58340: clarify relation to __HAVE_ATOMIC64_OPS.
	[rin, ticket #728]

sys/dev/pci/igc/if_igc.h			1.3

	igc(4): use __HAVE_ATOMIC64_LOADSTORE instead of __HAVE_ATOMIC64_OPS
	to detect atomic_loadstore(9) is applicable to 64-bit integers.
	[rin, ticket #729]

crypto/external/bsd/openssh/dist/log.c		1.29
crypto/external/bsd/openssh/dist/version.h	(patch)

	sshd(8): PR 58386:  avoid strnvis and syslog_r in signal handler
	context. Fixes CVE-2024-6387.
	[riastradh, ticket #737]

sys/dev/pci/pcidevs				1.1507
sys/dev/pci/pcidevs.h				(regen)
sys/dev/pci/pcidevs_data.h			(regen)

	PR 58358: add Brainboxes as manufacturer and some of their devices.
	[nia, ticket #730]

usr.sbin/sysinst/msg.mi.de			1.49,1.50
usr.sbin/sysinst/msg.mi.en			1.52

	sysinst(8): note that leaving the network "media type" empty
	autoconfigures.
	[nia, ticket #731]

sys/arch/powerpc/oea/altivec.c			1.35

	powerpc: PR 58283; don not try to restore altivec registers
	in vec_restore_from_mcontext() if no altivec is supported.
	[tsutsui, ticket #732]

distrib/cdrom/Makefile				1.54-1.57
distrib/cdrom/boothfs.uue			1.2
distrib/cdrom/macppc_installboot/Makefile	1.12-1.14
distrib/cdrom/macppc_installboot/cd9660.c	1.5,1.6
distrib/cdrom/macppc_installboot/cd9660.c	delete
distrib/cdrom/macppc_installboot/installboot.c	1.6,1.7
distrib/cdrom/macppc_installboot/installboot.h	1.5
distrib/cdrom/macppc_mkboothfs/mkboothfs.c	1.4
distrib/macppc/Makefile				1.18
etc/Makefile					1.471,1.472
etc/etc.mac68k/Makefile.inc			1.25,1.26
etc/etc.macppc/Makefile.inc			1.13
external/gpl2/mkhybrid/README.md		1.1
external/gpl2/mkhybrid/bin/Makefile		1.1-1.3
external/gpl2/mkhybrid/dist/COPYING		1.1
external/gpl2/mkhybrid/dist/ChangeLog		1.1
external/gpl2/mkhybrid/dist/ChangeLog.mkhybrid	1.1
external/gpl2/mkhybrid/dist/Makefile.in		1.1,1.2
external/gpl2/mkhybrid/dist/README		1.1
external/gpl2/mkhybrid/dist/README.eltorito	1.1
external/gpl2/mkhybrid/dist/README.hfs_boot	1.1
external/gpl2/mkhybrid/dist/README.hfs_magic	1.1
external/gpl2/mkhybrid/dist/README.mkhybrid	1.1
external/gpl2/mkhybrid/dist/README.mkisofs	1.1
external/gpl2/mkhybrid/dist/README.session	1.1
external/gpl2/mkhybrid/dist/README.win32	1.1
external/gpl2/mkhybrid/dist/TODO		1.1
external/gpl2/mkhybrid/dist/acconfig.h		1.1
external/gpl2/mkhybrid/dist/apple.c		1.1-1.4
external/gpl2/mkhybrid/dist/apple.h		1.1,1.2
external/gpl2/mkhybrid/dist/apple_proto.h	1.1,1.2
external/gpl2/mkhybrid/dist/config.h		1.1,1.2
external/gpl2/mkhybrid/dist/config.h.in		1.1-1.3
external/gpl2/mkhybrid/dist/configure		1.1-1.3
external/gpl2/mkhybrid/dist/configure.in	1.1-1.3
external/gpl2/mkhybrid/dist/defaults.h		1.1-1.3
external/gpl2/mkhybrid/dist/desktop.c		1.1,1.2
external/gpl2/mkhybrid/dist/eltorito.c		1.1
external/gpl2/mkhybrid/dist/getopt.c		1.1-1.3
external/gpl2/mkhybrid/dist/getopt.h		1.1,1.2
external/gpl2/mkhybrid/dist/getopt1.c		1.1-1.3
external/gpl2/mkhybrid/dist/hash.c		1.1,1.2
external/gpl2/mkhybrid/dist/include/fctldefs.h	1.1
external/gpl2/mkhybrid/dist/include/mconfig.h	1.1,1.2
external/gpl2/mkhybrid/dist/include/prototyp.h	1.1
external/gpl2/mkhybrid/dist/include/statdefs.h	1.1
external/gpl2/mkhybrid/dist/install-sh		1.1
external/gpl2/mkhybrid/dist/iso9660.h		1.1
external/gpl2/mkhybrid/dist/joliet.c		1.1
external/gpl2/mkhybrid/dist/libfile/LEGAL.NOTICE 1.1
external/gpl2/mkhybrid/dist/libfile/README	1.1
external/gpl2/mkhybrid/dist/libfile/apprentice.c 1.1,1.2
external/gpl2/mkhybrid/dist/libfile/file.h	1.1-1.3
external/gpl2/mkhybrid/dist/libfile/lfile.c	1.1,1.2
external/gpl2/mkhybrid/dist/libfile/patchlevel.h 1.1
external/gpl2/mkhybrid/dist/libfile/proto.h	1.1
external/gpl2/mkhybrid/dist/libfile/softmagic.c	1.1,1.2
external/gpl2/mkhybrid/dist/libhfs_iso/Makefile	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/README	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/block.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/block.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/btree.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/btree.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/data.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/data.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/file.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/file.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/hfs.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/hfs.h	1.1,1.2
external/gpl2/mkhybrid/dist/libhfs_iso/hybrid.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/internal.h 1.1
external/gpl2/mkhybrid/dist/libhfs_iso/low.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/low.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/lvolume.c 1.1
external/gpl2/mkhybrid/dist/libhfs_iso/node.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/node.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/record.c	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/record.h	1.1
external/gpl2/mkhybrid/dist/libhfs_iso/volume.h	1.1
external/gpl2/mkhybrid/dist/mac_label.c		1.1,1.2
external/gpl2/mkhybrid/dist/mac_label.h		1.1
external/gpl2/mkhybrid/dist/mac_label_proto.h	1.1
external/gpl2/mkhybrid/dist/mactypes.h		1.1
external/gpl2/mkhybrid/dist/magic		1.1
external/gpl2/mkhybrid/dist/mapping		1.1
external/gpl2/mkhybrid/dist/match.c		1.1,1.2
external/gpl2/mkhybrid/dist/match.h		1.1,1.2
external/gpl2/mkhybrid/dist/mkhybrid.8		1.1,1.2
external/gpl2/mkhybrid/dist/mkisofs.8		1.1
external/gpl2/mkhybrid/dist/mkisofs.c		1.1-1.7
external/gpl2/mkhybrid/dist/mkisofs.h		1.1-1.6
external/gpl2/mkhybrid/dist/mkisofs.spec	1.1
external/gpl2/mkhybrid/dist/multi.c		1.1
external/gpl2/mkhybrid/dist/name.c		1.1
external/gpl2/mkhybrid/dist/rock.c		1.1
external/gpl2/mkhybrid/dist/tree.c		1.1-1.3
external/gpl2/mkhybrid/dist/volume.c		1.1,1.2
external/gpl2/mkhybrid/dist/volume.h		1.1,1.2
external/gpl2/mkhybrid/dist/write.c		1.1,1.2
external/gpl2/mkhybrid/dist/write.h		1.1
share/mk/bsd.own.mk				1.1375,1.1376
tools/Makefile					1.221,1.222
tools/macppc_installboot/Makefile		1.1
tools/mkhybrid/Makefile				1.1

	mac68k, macppc: add a tool mkhybrid(8) to create bootable
	install CD images.
	[tsutsui, ticket #733]

share/man/man4/ddb.4				1.204

	ddb(4): vax: clarify how to enter into DDB from console.
	[rin, ticket #734]

sys/arch/aarch64/include/vmparam.h		1.21
sys/arch/arm/pci/pci_msi_machdep.c		1.10
sys/dev/acpi/acpi_resource.c			1.43
sys/dev/pci/pci_resource.c			1.5

	Fixes for Ampere Altra/Altra Max:
	pci_resource: make unexpected bus numbers in bridges non-fatal.
	acpi: ignore producer/consumer bit for fixed memory resources.
	aarch64: Bump VM_PHYSSEG_MAX to match DRAM_BANKS / FDT_MEMORY_RANGES.
	arm: pci: fix ITS ID lookup for MSIs.
	[jmcneill, ticket #735]

sys/altq/altq_rmclass.c				1.31

	altq, cbq: take care of borrowed classes on sleeping.
	[ozaki-r, ticket #736]

sys/arch/x86/include/specialreg.h		1.212
sys/arch/x86/x86/identcpu.c			1.129,1.130

	x86: PR 58370: VIA CPU probe fixes.
	[andvar, ticket #738]

sys/conf/copts.mk				1.12 (patch)
sys/net/zlib.c					1.39

	Avoid errors for newer gcc -Wimplicit-fallthrough warnings in
	net/zlib.c
	[rin, ticket #739]

sys/netinet6/ip6_output.c			1.232
sys/netipsec/ipsec.c				1.178
sys/netipsec/ipsec_input.c			1.79
sys/netipsec/ipsec_output.c			1.86

	ipsec: remove unnecessary splsoftnet protection, the code is
	already MP-safe.
	[rin, ticket #740]

sys/kern/uipc_socket.c				1.309

	PR 55690: make kqfilter() behave the same with option PIPE_SOCKETPAIR
	pipe as it does for standard one - refuse EVFILT_WRITE if the reader
	is already disconnected.
	[jdolecek, ticket #741]

bin/cp/utils.c					1.50

	cp(1): PR 57857: always copy regular files, even if they appear to
	be zero-sized.
	[rin, ticket #742]

bin/ls/ls.c					1.78

	ls(1): PR 57892: print full pathname in error messages.
	[rin, ticket #743]

common/lib/libc/arch/aarch64/string/bcopy.S	1.3

	aarch64: PR 57388: minor bug fix in bcopy.S.
	[rin, ticket #744]

common/lib/libc/arch/arm/string/memcpy_arm.S	1.6,1.7
common/lib/libc/arch/arm/string/memcpy_neon.S	1.2
common/lib/libc/arch/arm/string/memcpy_xscale.S	1.6
common/lib/libc/arch/arm/string/memmove.S	1.11
common/lib/libc/arch/arm/string/memset.S	1.9
common/lib/libc/arch/arm/string/memset_naive.S	1.2
common/lib/libc/arch/arm/string/strlen_neon.S	1.4

	arm: string: Use unsigned comparison for pointers and size_t values.
	[rin, ticket #745]

etc/services					1.105,1.106

	/etc/services: resolve a conflict for port 2049 and restore local
	additions. PR 57759.
	[rin, ticket #746]

external/bsd/libproc/dist/proc_sym.c		1.5,1.6

	libproc: sanitize process symbols so binary doesn't end up in dtrace
	profiling.
	[rin, ticket #747]

lib/libc/atomic/atomic_ops.3			1.9

	atomic_ops(3): note that aarch64 implements CAS.
	[rin, ticket #748]

lib/libc/gdtoa/strtod.c				1.19

	libc: PR 55668: remove workarounds for older gcc versions
	for the internal routine used by strtod(3).
	[rin, ticket #749]

lib/libc/gen/err.3				1.24

	err(3): improve the manual page.
	[rin, ticket #750]

lib/libc/gen/usleep.3				1.22

	usleep(3): PR 58184: add CAVEATS for NetBSD before 10.1.
	[rin, ticket #751]

share/man/man4/options.4			1.531

	options(4): update `file-system UDF' description, it is not considered
	experimental any more.
	[reinoud, ticket #752]

lib/libc/net/getaddrinfo.3			1.61

	freeaddrinfo(3): note that a call with NULL argument causes
	a segmentation fault.
	[rin, ticket #753]

lib/libc/stdio/fvwrite.c			1.31

	fvwrite: optimize for unbuffered write.
	[rin, ticket #754]

lib/libc/sys/stat.2				1.60

	stat(2): improve manual page.
	[rin, ticket #755]

lib/libcurses/refresh.c				1.127

	curses(3): fix random application crashes.
	[rin, ticket #756]

lib/libpthread/pthread.c			1.182

	libpthread: avoid deadlocks in snprintf(3).
	[rin, ticket #757]

lib/libpthread/pthread_attr_getguardsize.3	1.6
lib/libpthread/pthread_attr_getstack.3		1.9

	pthread: PR 57721: document the setstack vs setguardsize bug.
	Suggest the safe, compatible workaround.
	[rin, ticket #758]

lib/libutil/stat_flags.3			1.9

	stat_flags(3): improve manual page.
	[rin, ticket #759]

sbin/mount_procfs/mount_procfs.8		1.39

	mount_procfs(8): document the format of the region descriptor
	lines contained in the 'map' and 'maps' special files.
	[rin, ticket #760]

bin/sh/histedit.c				1.68

	sh(1): ignore non-numeric values for HISTSIZE.
	[kre, ticket #761]

distrib/sets/lists/comp/mi			1.2463
share/man/man9/Makefile				1.471
share/man/man9/imax.9				1.7,1.8

	imax(9): document the renaming from  max/min to uimax/uimin.
	[rin, ticket #762]

sys/net/if_bridge.c				1.192

	bridge(4): add missing curlwp_bind() for pppoe.
	[rin, ticket #763]

common/lib/libc/arch/i386/atomic/atomic.S	1.37
common/lib/libc/arch/x86_64/atomic/atomic.S	1.30
sys/arch/amd64/amd64/cpufunc.S			1.68
sys/arch/i386/i386/cpufunc.S			1.52
sys/arch/xen/include/hypervisor.h		1.60
sys/arch/xen/include/xenring.h			1.8

	xen: PR 57199: don't hotpatch away LOCK prefix in xen_mb,
	even on UP boots.
	[riastradh, ticket #764]

distrib/sets/lists/debug/module.mi		1.27
distrib/sets/lists/modules/mi			1.160
sys/modules/Makefile				1.291

	modules: Build `ipl` module only if MKIPFILTER is enabled.
	[rin, ticket #765]

distrib/amd64/ramdisks/Makefile			1.6

	PR 58316 and 57948: only enable the build of ramdisk-zfsroot if
	ZFS is enabled.
	[ozaki-r, ticket #766]

distrib/sets/lists/comp/mi			1.2465
share/man/man9/Makefile				1.472

	crashme(9): install man page.
	[rin, ticket #767]

lib/libcurses/screen.c				1.39
tests/lib/libcurses/tests/curs_set		1.2

	curses: PR 58090, PR 58313: init old_mode to 1 (normal visible cursor).
	[uwe, ticket #768]

share/man/man4/sht4xtemp.4			1.3

	Fix a typo in the man page.
	[brad, ticket #769]

libexec/ld.elf_so/rtld.c			1.216

	PR 57628: at the end of _rtld_init() explicitly initialize the
	ld.elf_so local copy of the atomic access support functions
	for machines that do not implement all required ops in hardware
	(like 32bit sparc).
	[martin, ticket #775]

sys/dev/pci/if_vioif.c				1.108

	vioif(4): fix missing check for stopping state in RX interrupt.
	[rin, ticket #770]

share/man/man4/virtio.4				1.10,1.11

	virtio(4) PR 58533: add references to viocon.
	[uwe, ticket #771]

sys/dev/pci/if_vioif.c				1.111

	vioif(4): PR 58049: respect queue size limits.
	[isaki, ticket #772]

lib/libc/compat-43/killpg.c			1.10
sys/kern/kern_descrip.c				1.263
sys/kern/kern_ktrace.c				1.185
sys/kern/kern_proc.c				1.276
sys/kern/sys_sig.c				1.58
sys/kern/tty.c					1.313
tests/lib/libc/sys/t_kill.c			1.2

	PR 58425: disallow INT_MIN as a (negative) pid arg.
	Add a test for this.
	[kre, ticket #773]

bin/sh/histedit.c				1.72

	sh(1): fix sh histedit core dump.
	[kre, ticket #774]

bin/pax/ar_subs.c				1.58
bin/pax/buf_subs.c				1.31
bin/pax/extern.h				1.61
bin/pax/file_subs.c				1.65
bin/pax/ftree.c					1.43
bin/pax/pax.c					1.50,1.51
tests/bin/pax/t_pax.sh				1.3-1.7

	pax(1): Fix various PRs and add tests for the bugs.
	PR 33753: pax(1) deletes target file if rewriting it fails
	(`don't installworld to a full disk')
	PR 41736: pax reports an error when copying zero files
	PR 44498: tar(1) unnecessarily demands that getcwd() work
	[riastradh, ticket #776]

libexec/ld.elf_so/README.TLS			1.7
libexec/ld.elf_so/arch/aarch64/rtld_start.S	1.6,1.7
libexec/ld.elf_so/tls.c				1.15,1.20,1.21
tests/libexec/ld.elf_so/t_tls_extern.c		1.15,1.16

	ld.elf_so(1): PR 58154: fix aarch64 thread-local storage
	[riastradh, ticket #777]

sys/dev/virtio/viocon.c				1.10

	viocon(4): PR 58555: fix crash at boot on certain hosts.
	[riastradh, ticket #778]

libexec/ld.elf_so/arch/hppa/hppa_reloc.c	1.52,1.53

	hppa: ld.elf_so(1): avoid a crash on R_PARISC_NONE relocations.
	[macallan, ticket #779]

tests/net/if_tap/t_tap.sh			1.12

	t_tap: fix `tap_bridged` test case.
	[rin, ticket #780]

tests/net/net_common.sh				1.45

	Halt rump servers only if already started.
	[rin, ticket #781]

sys/dev/pci/if_rge.c				1.29

	rge(4): PR 57694:
	- handle stuck transmitter (descriptor still owned)
	- restart send queue after transmit
	- count output packets
	- use deferred start
	[mrg, ticket #782]

sys/uvm/uvm_map.c				1.407,1.412,1.413

	uvm_findspace(): PR 51254: for sh3, convert a KASSERTMSG(9) into
	printf(9).
	[rin, ticket #783]

sys/net/bpf.c					1.253

	bpf: PR 58531: mark bpfread_filtops FILTEROP_MPSAFE.
	[rin, ticket #784]

external/bsd/mdocml/dist/mdoc.7			1.6
external/bsd/mdocml/dist/st.c			1.3
external/gpl2/groff/dist/tmac/doc-syms		1.6
external/gpl2/groff/dist/tmac/groff_mdoc.man	1.8

	mandoc: merge upstream changes to add IEEE 1003.1-2024 (Posix 2024)
	groff: add IEEE Std 1003.1-2024
	[wiz, ticket #785]

lib/librumphijack/hijack.c			1.140

	librumphijack: support flock(2).
	[ozaki-r, ticket #786]

lib/libc/gdtoa/hdtoa.c				1.13
tests/lib/libc/stdio/t_printf.c			1.11-1.18

	libc: PR 56937: fix long double formatting.
	[riastradh, ticket #787]

sys/netbt/bt_proto.c				1.17

	netbt(4): PR 56988: initialize bt_lock earlier.
	[riastradh, ticket #788]

sys/dev/hdaudio/hdafg.c				1.30

	hdafg(4): PR 57322: do hotplug detection in kthread, not callout.
	[riastradh, ticket #789]

tests/lib/libc/gen/t_fpclassify.c		1.4,1.5

	tests/lib/libc/gen/t_fpclassify: PR 57422: enable long double
	tests on all architectures, not just those where long double is
	_larger_ than double -- the long double functions should work
	even if it's the same as double.
	[riastradh, ticket #790]

sys/dev/acpi/acpi_display.c			1.24

	acpiout(4): PR 57825: fix brightness controls on certain
	machines.
	[riastradh, ticket #791]

common/lib/libc/stdlib/_strtoi.h		1.3
lib/libc/stdlib/Makefile.inc			1.97
lib/libc/stdlib/strtoi.3			1.8,1.9
lib/libc/stdlib/strtonum.c			1.7
lib/libc/stdlib/strtou.3			delete
tests/lib/libc/stdlib/t_strtoi.c		1.3

	strtoi(3), strtou(3): PR 57828: prioritize ERANGE over ENOTSUP.
	[riastradh, ticket #792]

sys/sys/socket.h				1.132

	<sys/socket.h>: PR 57871: use unsigned char, not u_char, for
	POSIX apps.
	[riastradh, ticket #793]

lib/libcrypt/crypt-argon2.c			1.20-1.22
lib/libcrypt/crypt-sha1.c			1.11
lib/libcrypt/crypt.c				1.41
lib/libcrypt/hmac.c				1.5
lib/libcrypt/md5crypt.c				1.16
lib/libcrypt/pw_gensalt.c			1.14

	libcrypt: PR 57895: fix uninitialized variable reference.
	[riastradh, ticket #794]

distrib/sets/lists/debug/mi			1.425
distrib/sets/lists/tests/mi			1.1306
lib/libc/arch/arm/gen/setjmp.S			1.19
lib/libc/arch/i386/gen/setjmp.S			1.18
lib/libc/arch/i386/gen/sigsetjmp.S		1.19
lib/libc/arch/sh3/gen/setjmp.S			1.12
lib/libc/arch/sh3/gen/sigsetjmp.S		1.11
lib/libc/arch/x86_64/gen/__setjmp14.S		1.4
lib/libc/arch/x86_64/gen/__sigsetjmp14.S	1.4
tests/lib/libc/setjmp/Makefile			1.3
tests/lib/libc/setjmp/t_sigstack.c		1.1-1.12

	longjmp(3): PR 57946: restore stack first, then signal mask.
	[riastradh, ticket #795]

sys/ufs/ext2fs/ext2fs_dir.h			1.23

	ext2fs: PR 58018: fix readdir type for regular files.
	[riastradh, ticket #796]

usr.bin/audio/common/wav.c			1.23
usr.bin/audio/record/record.c			1.59

	audioplay(1)/audiorecord(1): PR 57973:
	- fix a bug in the RIFF parser on 64-bit platforms
	- fix audio-conversion functions for two types of input/output
	[mrg, ticket #797]

usr.bin/config/defs.h				1.109
usr.bin/config/files.c				1.38
usr.bin/config/mkioconf.c			1.36
usr.bin/config/mkmakefile.c			1.73
usr.bin/config/pack.c				1.11

	config(1): PR 58115: make sort order deterministic to fix
	reproducible build.
	[riastradh, ticket #798]

sys/arch/x86/x86/cpu_rng.c			1.21

	x86/cpu_rng: PR 58122: fix health test false alarm rate.
	[riastradh, ticket #799]

external/mpl/bind/dist/lib/ns/query.c		1.21

	named(8): PR 58170: remove incorrect blocklist report for a
	request that we cannot evaluate legitimacy of, in order to
	avoid blocking legitimate clients.
	[riastradh, ticket #800]

distrib/sets/lists/debug/mi			1.433
distrib/sets/lists/tests/mi			1.1313
etc/mtree/NetBSD.dist.tests			1.204
external/gpl3/gcc/dist/libstdc++-v3/config/io/basic_file_stdio.cc 1.2
tests/lib/libstdc++/Makefile			1.1
tests/lib/libstdc++/h_cin_nosync.cc		1.1
tests/lib/libstdc++/t_sync_with_stdio.sh	1.1,1.2

	libstdc++: PR 58206: avoid undefined behaviour in sync_with_stdio -
	don't fflush stdin.
	[riastradh, ticket #801]

