# $NetBSD: CHANGES-8.3,v 1.1.2.11 2020/05/25 17:49:03 martin Exp $

A complete list of changes from the NetBSD 8.2 release to the NetBSD 8.3
release:

external/gpl2/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 8.2_STABLE.
	[martin]

sys/dev/ic/spdmem.c				1.31-1.35
sys/dev/ic/spdmemvar.h				1.15,1.16

	- Print DDR3's row and column correctly.  
	- Use fine timebase parameters for time calculation on DDR3. This
	  change makes PC3-XXXX value more precisely on newer DDR3.
	- Calculate DDR3's tRAS correctly.
	- Fix spelling of symmetric. 
	[msaitoh, ticket #1528]

sys/dev/mii/miidevs				1.154, 1.162-1.167
sys/dev/mii/miidevs.h				regen 
sys/dev/mii/miidevs_data.h			regen
sys/dev/mii/atphy.c				1.28 via patch
sys/dev/mii/brgphy.c				1.87 via patch
sys/dev/mii/etphy.c				1.5, 1.6 via patch
sys/dev/mii/rdcphy.c				1.6, 1.8 via patch

	- Add support Broadcom BCM54213PE and some new RDC devices.
	- Rename RDC to xxRDC.
	- Use xxVIA instead of VIA.
	- etphy(4):
	  - Rename ET1011 to ET1011C and add ET1011 support.
	  - Use mii_phy_flowstatus() to reflect flow status from negotiated
	    result.
	- Use static.
	- KNF.
	[msaitoh, ticket #1529]

sys/arch/x86/x86/procfs_machdep.c		1.33-1.36  
sys/arch/x86/x86/tsc.c				1.40
sys/arch/x86/x86/specialreg.h			1.159-1.161
usr.sbin/cpuctl/arch/i386.c			1.109-1.110 via patch

	- Print avx512ifma, cqm_mbm_total, cqm_mbm_local, waitpkg, rdpru,
	  Fast Short Rep Mov(fsrm), AVX512_VP2INTERSECT, SERIALIZE and
	  TSXLDTRK.
	- Rename CPUID Fn8000_0007 %edx bit 8 from "TSC" to "ITSC"
	  (Invariant TSC) to avoid confusion.
	- Print CPUID 0x80000007 %edx on both Intel and AMD.
	- Remove ci_max_ext_cpuid from usr.sbin/cpuctl/arch/i386.c because it's 
	  the same as ci_cpuid_extlevel.
	- Use unsigned to avoid undefined behavior in procfs_getonefeatreg().
	[msaitoh, ticket #1529]

sys/netinet6/nd6_rtr.c				1.148

	PR kern/55091 and PR bin/54997:	fix default route selection.
	[kim, ticket #1531]

sys/dev/wsfb/genfb.c				1.72

	Get genfb's address offset correctly when the value >= 4G.
	[msaitoh, ticket #1532]

sys/arch/macppc/stand/ofwboot/Locore.c		1.34 (via patch)
sys/arch/powerpc/oea/ofw_consinit.c		1.18

	Fix booting with auto-boot == true on some macppc machines.
	[rin, ticket #1533]

lib/libc/sys/fdatasync.2			1.17
sys/kern/vfs_syscalls.c				1.544

	Allow fdatasync on non-writable fds (POSIX conformance fix).
	[gdt, ticket #1534]

sys/compat/ossaudio/ossaudio.c			1.83

	ossaudio: Avoid giving userland uninitialized memory.
	[maxv, ticket #1535]

etc/rc.d/network				1.75
share/man/man5/rc.conf.5			1.172

	Allow rc.conf to setup resolv.conf via resolvconf(8).
	[kim, ticket #1537]

etc/rc.d/network				1.77,1.78 (plus patch)
share/man/man5/ifconfig.if.5			1.19,1.20
usr.sbin/rtsold/rtsold.8			1.37-1.42

	Add an "rtsol" keyword to ifconfig.if for enabling IPv6 RS/RA.
	[kim, ticket #1538]

external/bsd/bind/include/config.h		(apply patch)

	Fix BIND configuration for big-endian hosts.
	This should make DNSSEC work on such hosts as well.
	[he, ticket #1539]

sys/arch/hp300/hp300/machdep.c			1.233

	Fix garbages in dmesg caused by uninitialized variables.
	[tsutsui, ticket #1540]

sys/dev/dkwedge/dk.c				1.98

	PR kern/55026: fix a race condition that could cause a crash
	on last close of a wedge.
	[maya, ticket #1541]

sys/arch/hppa/hppa/trap.c			1.115

	Fix incorrect KASSERT.
	[skrll, ticket #1542]

sys/kern/subr_cprng.c				1.34

	Disable rngtest on output of cprng_strong.
	[riastradh, ticket #1543]

games/fortune/strfile/strfile.c			1.39
games/fortune/unstr/unstr.c			1.15

	Fix potential buffer overflows in fortune tools.
	[nia, ticket #1544]

external/bsd/bind/dist/lib/isc/sha2.c		(apply patch)

	Fix a bug introduced when fixing alingment issues.
	[he, ticket #1545]

bin/rcp/rcp.c					1.50

	In sink(), upon error, avoid multiple replies to the source
	as this would lead to a desynchronization of the protocol and
	further files or directories to be ignored or corrupted.
	[aymeric, ticket #1546]

sys/arch/x86/pci/if_vmx.c			1.60

	Fix wrong logic to make the number of vmx(4) TX/RX queues a power
	of two.
	[yamaguchi, ticket #1547]

sys/kern/kern_time.c				1.204
sys/netinet/igmp.c				1.70

	Fix one byte kernel heap leak.
	Fix uninitialized memory access.
	[christos, ticket #1549]

