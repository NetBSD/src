$NetBSD: TODO.ptrace,v 1.19 2017/02/12 06:16:33 kamil Exp $

Items we (currently) plan to finish in the ptrace(2) field:

 - verify ppid of core dump generated with PT_DUMPCORE
   it must point to the real parent, not tracer
 - adapt OpenBSD regress test (regress/sys/ptrace/ptrace.c) for the ATF context
 - reiterate over FreeBSD tests and add missing ones if applicable
 - add new ptrace(2) calls to lock (suspend) and unlock LWP within a process
 - add PT_DUMPCORE tests in the ATF framework
 - add ATF tests for PT_WRITE_I and PIOD_WRITE_I - test mprotect restrictions
 - switch PT_WATCHPOINT* to PT_*ETDBREGS and document it, add ATF tests
 - add tests for the procfs interface covering all functions available on the
   same level as ptrace(2)
 - add support to read debugger events via a file descriptor in procfs
   (kevent(2)), it's still useful in cases when a parent traces tracee and has
   to call waitpid(2) for its child - as this clashes with GUI toolkits
 - add support for PT_STEP, PT_GETREGS, PT_SETREGS, PT_GETFPREGS, PT_SETFPREGS
   in all ports
 - add proper implementation of PTRACE_VFORK for vfork(2)-like events
 - add ATF tests for SIGCHLD
 - add si_code values for PT_SYSCALL: TRAP_SCE and TRAP_SCX
 - add ATF tests for PT_SYSCALL and PT_SYSCALLEMU
 - research support PT_SYSCALL & PT_STEP combined like in Linux
 - fix more calls for netbsd32 compat

and of course: fix as many bugs as possible.

Features in ELF, DWARF, CTF, DTrace are out of scope of the above list.
