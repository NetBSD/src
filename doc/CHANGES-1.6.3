#	$NetBSD: CHANGES-1.6.3,v 1.1.2.180 2006/05/09 12:03:53 tron Exp $

A complete list of changes from NetBSD 1.6.2 to NetBSD 1.6.3:

File						Revision(s)
----						--------

sys/conf/osrelease.sh				patch
share/tmac/doc-common				patch

	Mark this as 1.6.2_STABLE.

build.sh					patch

	Set NETBSDSRCDIR explicitly to avoid build lossage
	[jmmv, ticket #1550]

usr.sbin/route6d/route6d.c			1.49

	Validate packet length.
	[itojun, ticket #1551]

share/termcap/termcap.src			1.85-1.86

	Apply various fixes to entries.
	[tron, ticket #1554]

xsrc/xfree/xc/programs/xterm/Tekproc.c		1.3

	Revert revision 1.2, and fix the warning correctly. 
	Prevents garbled fonts.
	[fredb, ticket #1545]

usr.sbin/dhcp/clientscript/dhclient-script	1.5

	Update resolv.conf if we have new nameservers. 
	Don't require a domain, because it is not needed.
	[aymeric, ticket #1546]

sys/sys/stat.h					1.45 via patch

	Define S_IFSOCK as an XSI extension, define S_ISLNK() for POSIX-2001,
	and define S_ISSOCK() for POSIX-2001. PR#22902
	[kleink, ticket #1556]

usr.bin/sed/process.c				1.34

	Prevent integer underflow.
	[itojun, ticket #1558]

sys/net/if.c					1.131

	Fix out-of-bounds access to ifindex2ifnet[].
	[briggs, ticket #1560]

sys/dev/hpc/hpcbatterytable.h			1.4

	Add MobilePro 880 (MC/R730A) to hpcbatterytable.h
	[shin, ticket #1584]

sys/arch/hpcmips/vr/vrpiu.c			1.32

	Add MobilePro 880 (MC/R730A) to stylus calibration table.
	[shin, ticket #1585]

sys/arch/hpcmips/conf/GENERIC			1.143
sys/arch/hpcmips/conf/VR41XX			1.16
sys/arch/hpcmips/vr/vrc4172pwm.c		1.19

	Add MC/R700A, MC/R730, and MC/R730A vrc4172pwm flags.
	[shin, ticket #1586]

sys/arch/hpcmips/conf/GENERIC			1.144
sys/arch/hpcmips/vr/vrc4172pci.c		1.11

	Add MobilePro 880 (MC/R730A), MC/R730 support for USB/pci.
	[shin, ticket #1587]

sys/arch/hpcmips/tx/tx39clock.c			1.16

	Initialize sc_epoch and RTC properly when reboot/resume.
	[shin, ticket #1588]

gnu/dist/cvs/src/filesubr.c			1.4

	Implement proper group membership testing. PR#24021
	[christos, ticket #1592]

sys/arch/arm/arm/syscall.c			1.21-1.22

	Fix up some unitialised variables to avoid a possible crash.
	[skrll, ticket #1552]

sys/arch/amiga/dev/toccata.c			1.7

	Remove forgotten debug printf from development.
	[is, ticket #1593]

sys/dev/usb/ehci.c				1.51
sys/dev/usb/ohci.c				1.146
sys/dev/usb/uhci.c				1.177
sys/dev/usb/uhub.c				1.65

	Use the correct wValue to get hub desriptors.
	Also, make wValue checks of root hub codes less strict.
	[toshii, ticket #1599]

lib/libc/net/nslexer.l				1.7
lib/libc/net/nsparser.y				1.9

	Use syslog(3) instead of err(3) to log errors.
	Add '0ption never-interactive' to nslexer.l, to prevent isatty() from
	being called unnecessarily.
	[lukem, ticket #1601]

lib/libc/net/getnetnamadr.c			1.28

	Use the correct parameters when building the YP map name in 
	_yp_getnetbyaddr(). Fixes getnetbyaddr() when reading from YP.
	[lukem, ticket #1602]

etc/namedb/root.cache				1.10

	Update to 2004012900 version
	[taca, ticket #1603]

sys/uvm/uvm_mmap.c				1.66

	#if 0 the call to uvm_map_checkprot() in sys_munmap() -- it's not 
	documented, and programs do not expect it.  Also fixes memory leaks 
	in dlopen()/dlclose().
	[skrll, ticket #1607]

sys/dev/pci/eso.c				1.32

	Audio 2's DMA current address register implements only the least
	significant 20 bits, so make sure its memory allocation won't cross
	a 1M boundary.
	[kleink, ticket #1613]

sys/dev/pci/eso.c				1.33

	Fix a (non-dangerous) malloc size botch in eso_allocm(). PR#18342
	[kleink, ticket #1614]

usr.sbin/route6d/route6d.c			1.51

	Let it compile again on sparc/sparc64.
	[martin, ticket #1626]

sys/dev/scsipi/scsiconf.c			1.220

	Add a drive with broken tagged queuing support. PR#23815
	[bouyer, ticket #1625]

gnu/usr.bin/cvs/include/config.h		patch

	Correct version # reported to correct one
	[wiz, ticket #1620]

sys/kern/vfs_getcwd.c				1.22

	Rewind the 'bp' advanced backward by cache_revlookup() if 
	getcwd_getcache() finally returns cache miss.
	[enami, ticket #1616]

sys/kern/vfs_cache.c				patch
sys/kern/vfs_getcwd.c				patch

	Fix LP64 bugs triggered by overflow.
	[enami, ticket #1617]

usr.bin/rpcgen/rpc_main.c			1.24

	Remove special case handling for $CPP and use execvp() instead.
	[martin, ticket #1619]

sys/miscfs/fifofs/fifo_vnops.c			1.46

	Handle the case of fifo_close() getting called from vclean().
	Fixes memory leak in revoke(2) path.
	[wrstuden, ticket #1621]

share/man/man4/auich.4				patch
sys/dev/pci/auich.c				patch
sys/dev/pci/auichreg.h				patch
sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add support for ICH3, ICH4, ICH5, SiS 7012, nForce MCP, nForce2 MCP-T,
	and nForce3 MCP-T to auich driver.
	[kent, ticket #1612]

sys/dev/pci/if_bge.c				1.59

	Set BGE_JUMBO_RXRING_VALID in bge_flags when allocating jumbo ring 
	buffers so it can be freed later. PR#24686
	[martin, ticket #1622]

sys/netinet/tcp_timer.c				1.66

	callout_ack() was called with wrong argument
	[he, ticket #1624]

usr.sbin/route6d/route6d.c			1.50

	Need_trigger/idx should be u_int
	[martin, ticket #1627]

lib/libc/gen/arc4random.c			0-1.5
lib/libc/gen/arc4random.3			0-1.6
lib/libc/gen/Makefile.inc			1.111
lib/libcrypt/blowfish.c				0-1.3
lib/libcrypt/bcrypt.c				0-1.3
lib/libcrypt/crypt.c				1.19-1.21
lib/libcrypt/crypt.3				1.14-1.17
include/pwd.h					1.26
include/stdlib.h				1.56
usr.bin/passwd/pwd_gensalt.c			1.6
share/man/man5/passwd.conf.5			1.5-1.6
lib/libcrypt/Makefile				1.12,1.14
lib/libc/shlib_version				1.117
lib/libcrypt/shlib_version			1.4
distrib/sets/lists/base/shl.mi			patch
distrib/sets/lists/comp/mi			patch

	Introduce bcrypt password scheme. Adds the arc4random API for creating 
	cryptographically strong random numbers.
	[provos, ticket #1386]

gnu/lib/libstdc++/include/Makefile		1.4 via patch

	Add more rules to disable default '.cc -> NULL' transforms, because the 
	default rules cause problems if "valarray.cc" is newer than "valarray"
	(for example).
	[junyoung, ticket #1611]

sys/kern/kern_exit.c				1.104-1.106

	Make sure that, if orphaned child is being traced, it's reparented back 
	to the original parent before it's killed.
	[junyoung, ticket #1615]

sys/dev/ata/wd.c				1.258 via patch

	Add LBA48_THRESHOLD #define and set it to the *correct* value.  Use it
	in place of 0xffffff (which is one too few 'f').
	[bouyer, ticket #1628]

sys/dev/ata/wd.c				1.260 via patch

	For LBA drives, compute the number of cylinders from the drive capacity
	in the default disklabel and the boot message, instead of using the
	value reported by the drive (which is 16383 if the drive is larger 
	than 8G). Fixes PR#9864
	[bouyer, ticket #1629]

sys/dev/pci/pciide.c				1.195

	Correct offset for the promise "magic registers" (it depends on channel
	number). This makes cable detect work properly for newer promise 
	(pdc268 and newer).
	[bouyer, ticket #1630]

sys/dev/pci/pcidevs				1.565 via patch
sys/dev/pci/pcidevs_data.h		regen
sys/dev/pci/pcidevs.h			regen

	Add 3com 3c940 Gigabit Ethernet, and VIA KT600 PCI devices. PR#22453
	[bouyer, ticket #1631]

sys/dev/pci/pciide.c				1.196 via patch

	Add support for VIA VT8237 (KT600) IDE controller. PR#22453
	[bouyer, ticket #1632]

sys/dev/ic/esiop.c				1.25

	The real value of the message is in msgin, not 
	esiop_cmd->cmd_tables->msg_in[0], so print the correct value.
	[bouyer, ticket #1633]

sys/arch/vax/include/stdarg.h			1.16

	Fix == vs = typo from rev. 1.13 in __va_copy. PR#24846
	[kleink, ticket #1634]

lib/libc/time/strptime.3			1.16-1.17 via patch

	%% doesn't write anything; a literal % is matched.
	[kleink, ticket #1635]

sys/dev/ic/wdc.c				1.172 via patch

	Wait a bit more after reset before re-enabling interrupts. PR#24904
	[bouyer, ticket #1637]

usr.sbin/sushi/sushi.c				1.11-1.12

	Don't report curses initialization failure using curses. PR#24435
	[martin, ticket #1638]

usr.sbin/arp/arp.c				1.39

	Plug memory leak. PR#22479
	[fair, ticket #1636]

libexec/fingerd/fingerd.c			1.21

	Correct option parse error reporting. PR#24917
	[fair, ticket #1639]

gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/NEWS				patch
gnu/dist/cvs/configure				patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/system.h			patch
gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/sanity.sh				patch
gnu/dist/cvs/commit.c				patch
gnu/dist/cvs/recurse.c				patch
gnu/dist/cvs/run.c				patch
gnu/dist/cvs/server.c				patch
gnu/usr.bin/cvs/include/config.h		patch

	Fixes a known security problem w. syslog'ing as root (and prevents
	pserver from being run as root).
	[jmc, ticket #1641]

sys/netinet/udp_usrreq.c			1.117-1.118

	Drop packet if IPv6 udp packet does not have checksum (checksum is
	mandatory in IPv6).
	[itojun, ticket #1645]

sbin/routed/rdisc.c				patch
sbin/routed/main.c				patch

	Fix invalid cast wrt router discovery.
	[ws, ticket #1642]

sbin/routed/routed.8				patch

	Fix inconsistency between manual page and RFC 1256.
	[ws, ticket #1643]

gnu/dist/cvs/src/server.c			1.14

	Correctly fallback into the normal path when SETXID_SUPPORT is defined
	but the binary was the normal one.  Fixes PR#23471.
	[jmc, ticket #1646]

crypto/dist/openssl/crypto/opensslv.h		patch
crypto/dist/openssl/apps/asn1pars.c		patch
crypto/dist/openssl/certs/vsign3.pem		patch
crypto/dist/openssl/crypto/asn1/a_strex.c	patch
crypto/dist/openssl/crypto/bio/b_print.c	patch
crypto/dist/openssl/crypto/evp/e_rc4.c		patch
crypto/dist/openssl/crypto/pem/pem_lib.c	patch
crypto/dist/openssl/crypto/x509/by_dir.c	patch
crypto/dist/openssl/crypto/x509/x509type.c	patch
crypto/dist/openssl/doc/crypto/BIO_f_ssl.pod	patch
crypto/dist/openssl/doc/ssl/SSL_COMP_add_compression_method.pod		patch
crypto/dist/openssl/ssl/s3_clnt.c		patch
crypto/dist/openssl/ssl/s3_enc.c		patch
crypto/dist/openssl/ssl/s3_pkt.c		patch
crypto/dist/openssl/ssl/ssl.h			patch
crypto/dist/openssl/ssl/ssl_cert.c		patch
crypto/dist/openssl/ssl/ssl_ciph.c		patch

	Pull up major differences from openssl 0.9.6l->0.9.6m. Major fix is
	a null pointer check that can cause crashes. SA#2004-005
	[groo, ticket #1640]

gnu/dist/toolchain/gcc/config/arm/arm.c		patch

	Fixes bad code generation that could cause X crashes.
	[is, ticket #1647]

sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen
sys/dev/pci/if_fxp_pci.c			patch

	Pull in changes to support the Intel 82801EB/ER (ICH5) Controller. 
	PR#25002
	[briggs, ticket #1648]

gnu/usr.bin/send-pr/send-pr.sh			1.21-1.22 via patch

	Use mktemp(1) for safe temp files. PR#21840
	[reed, ticket #1649]

bin/sh/arith_lex.l				1.11

	Recognise octal and hexadecimal constants in expressions.
	[simonb, ticket #1650]

lib/libc/db/hash/hash_buf.c			1.9
lib/libc/db/hash/hash_bigkey.c			1.16

	lib/libc/db/hash/* writes memory garbage to db file.
	Fixed by changing malloc's to calloc's where needed. PR#5996
	[bouyer, ticket #1651]

sys/dev/ic/com.c				1.225

	Fix race condition introduced in rev 1.189; after the change, if there
	is THRE interrupt occurs between the LSR read and IIR read, we won't
	see the LSR_TXRDY bit when testing it in the variable `lsr' and we
	don't interrupted again (as the corresponding bit in the IIR is
	cleared by reading, except for some broken device).
	Tested by Matthias Scheler and me, reviewed by Allen Briggs.
	Closes PR#25010.
	[enami, ticket #1658]

usr.sbin/rpc.lockd/lockd_lock.c			1.12

	- protect from pid reusing.
	- fix a null dereference on the error.
	[bouyer, ticket #1654]

usr.sbin/rpc.lockd/lockd_lock.c			1.13

	for fork'ed children, use _exit instead of exit.
	[bouyer, ticket #1652]

usr.sbin/rpc.lockd/lockd_lock.c			1.17

	for lock/unlock requests, log svid as well as client name.
	[bouyer, ticket #1653]

usr.sbin/rpc.lockd/lockd_lock.c			patch

	getlock: detect duplicated locks slightly correctly.
	XXX how should we do for byte range lock?
	[bouyer, ticket #1655]

usr.sbin/rpc.statd/statd.c			1.22

	reset_host: reset actual host infos rather than reset copies of them.
	[bouyer, ticket #1656]

usr.sbin/rpc.statd/statd.c			1.23

	init_file: copy status_info from static storage so that
	statd doesn't always use the same "status" number.
	[bouyer, ticket #1657]

share/termcap/termcap.src			1.87 via patch

	Add enable ACS (eA) capability to our xterm entry. The xterm shipped
	with Xfree 4.4.0 needs this. Fixes PR lib/24770 by Matthias Scheler.
	[jdc, ticket #1660]

crypto/dist/kame/racoon/isakmp.c		patch

	Reject packet with too big isakmp message length field.
	[itojun, ticket #1644]

sys/dev/hpc/hpckbdkeymap.h			1.27

	Give the MobilePro 800 and MobilePro 880 correct keymaps:  fix the
	positioning of the cursor keys to match the keycaps, and make the cmdmap
	work correctly.
	[tv, ticket #1659]

bin/pax/ar_io.c					1.23-1.39
bin/pax/ar_subs.c				1.17-1.29
bin/pax/buf_subs.c				1.18-1.23
bin/pax/cpio.1					0-1.7
bin/pax/cpio.c					1.14-1.17
bin/pax/cpio.h					1.5-1.6
bin/pax/extern.h				1.31-1.41
bin/pax/file_subs.c				1.24-1.41
bin/pax/ftree.c					1.22-1.29
bin/pax/ftree.h					1.4-1.5
bin/pax/gen_subs.c				1.24-1.26,1.28-1.32
bin/pax/getoldopt.c				1.15-1.19
bin/pax/options.c				1.40-1.73
bin/pax/options.h				1.8-1.9
bin/pax/pat_rep.c				1.14-1.21
bin/pax/pat_rep.h				1.4-1.5
bin/pax/pax.1					1.34-1.36,1.38-1.47
bin/pax/pax.c					1.18-1.33
bin/pax/pax.h					1.14-1.23
bin/pax/sel_subs.c				1.16-1.19
bin/pax/sel_subs.h				1.5-1.6
bin/pax/tables.c				1.18-1.23
bin/pax/tables.h				1.7-1.8
bin/pax/tar.1					0-1.13
bin/pax/tar.c					1.22-1.48
bin/pax/tar.h					1.6-1.8
bin/pax/tty_subs.c				1.12-1.16

	Pullup pax to current version on trunk. Includes many fixes.
	[rafal, ticket #1021]

etc/rc.d/ipmon					1.10

	ipmon -D writes a pidfile; use it
	[mrg, ticket #1662]

etc/defaults/rc.conf				1.57
etc/rc.d/ipmon					1.11

	Move ipmon's "-D" argument from "command_args" to "ipmon_flags" so
	that passing an (optional) filename argument (that must come last)
	works fine from $ipmon_flags. From PR#25006.
	[mrg, ticket #1663]


sbin/raidctl/raidctl.8				patch

	Add a couple little warnings about swapping to RAID 5 sets.
	[oster, ticket #1555]

etc/etc.acorn32/MAKEDEV				patch
etc/etc.algor/MAKEDEV				patch
etc/etc.alpha/MAKEDEV				patch
etc/etc.cats/MAKEDEV				patch
etc/etc.evbarm/MAKEDEV				patch
etc/etc.evbmips/MAKEDEV				patch
etc/etc.hpcarm/MAKEDEV				patch
etc/etc.hpcmips/MAKEDEV				patch
etc/etc.i386/MAKEDEV				patch
etc/etc.macppc/MAKEDEV				patch
etc/etc.netwinder/MAKEDEV			patch
etc/etc.playstation2/MAKEDEV			patch
etc/etc.sbmips/MAKEDEV				patch
etc/etc.shark/MAKEDEV				patch
etc/etc.sparc64/MAKEDEV				patch

	Fix ugen issue from latest shell changes that treat numeric constants
	differently depending on their prefix.
	[taca, ticket #1664]

sys/arch/hp300/stand/common/clock.c		1.5

	Fix yet another y2k+1 bug.
	[tsutsui, ticket #1665]

sys/arch/hp300/dev/grf_gb.c			patch
sys/arch/hp300/dev/grf_dv.c			patch
sys/arch/hp300/dev/grf_hy.c			patch
sys/arch/hp300/dev/grf_rb.c			patch
sys/arch/hp300/dev/grf_tc.c			patch

	Check mapped device VA by badaddr() in cnattach functions for 
	framebuffers.
	[tsutsui, ticket #1666]

sys/arch/hp300/dev/itevar.h			1.19

	Don't panic when kernel tries to print a horizontal tab via itecnputc().
	[tsutsui, ticket #1667]

sys/arch/hp300/dev/hil.c			patch

	Include "ite.h" before the first reference of NITE.
	Fixes panic with unknown type keyboards (including JP one).
	[tsutsui, ticket #1668]

usr.sbin/racoon/racoon/Makefile			1.20

	Do not compile in print-isakmp.c, as src/dist/tcpdump contains ancient 
	version which could be vulnerable to attacks.
	[itojun, ticket #1669]

lib/libc/time/strftime.3			patch

	Add documentation for %v
	[kleink, ticket #1670]

distrib/i386/floppies/ramdisk-rescuesmall/Makefile	patch

	Adjust size to fit current image. PR#25177
	[grant, ticket #1671]

sys/arch/i386/i386/pmc.c			patch

	fix local panic DoS when running pmc(1) on a P4. PR#25014.
	[mrg, ticket #1672]

usr.sbin/pkg_install/add/verify.c		1.5

	Fix signature verification after pkg_add and friends were changed to
	use fexec() - trying to exec "gpg --verify %s" won't work with fexec,
	so split up the command into separate words.
	[agc, ticket #1673]

sys/arch/macppc/conf/INSTALL			1.67

	Add gem and brgphy so we have ethernet on the PowerBook G4 DVI.
	[kristerw, ticket #1674]

sys/arch/macppc/conf/INSTALL			1.75

	Add the wsmux pseudo-device.  This will make the adb keyboard work
	even if the heuristics in the console attachment code fail to
	identify the keyboard type.
	This should fix PR 22317 and part of PR 24778.
	[kristerw, ticket #1676]

sys/sys/cdefs.h					1.50

	Trim leading whitespace from an #error, shuts up warning from
	makedepend.
	[kleink, ticket #1677]

sys/netinet/tcp_subr.c				patch
sys/netinet/tcp_input.c				patch
sys/netinet/tcp_var.h				patch

	If a segment is received with RST set and the segment is completely to  
	the left of the receive window, ignore it.  Add some additional 
	comments to the code that deals with received segments that are 
	completely to the right of the receive window.  If an invalid SYN is 
	received, force an ACK and drop it; if the other side really sent the 
	SYN; it'll respond with a reset.
	Respond to RST by ACK, as suggested in NISCC recommendation.
	Rate-limit ACKs against RSTs and SYNs. 
	If SYN is coming and RCV.NXT == SEG.SEQ, then ACK with value - 1.
	SA#2004-006.
	[itojun, ticket #1680]

sys/arch/macppc/conf/INSTALL			1.74 via patch

	Add "wdc* at pci? dev ? function ?".
	[kristerw, ticket #1675]


sys/arch/sparc/stand/ofwboot/version		1.7-1-8
sys/arch/sparc/stand/ofwboot/elfXX_exec.c	1.4
sys/arch/sparc/stand/ofwboot/ofdev.c		1.3
sys/arch/sparc/stand/ofwboot/boot.c		1.5

	Allow hyphen in kernel names.
	When calculating the allocated symbol table size, round up the section
	sizes with ELF_ALIGN(). PR#13429 PR#18691 PR#25429
	[martin, ticket #1684]

usr.bin/vi/common/line.c			1.7

	Flush the current line cache on every operation on the DB.
	We can't keep a reference to data returned by libdb after a subsequent
	call to any other libdb function on that DB.
	[aymeric, ticket #1685]

sys/dev/microcode/isp/asm_2100.h		1.4-1.5

	Revert ISP2100 firmware to Qlogic revision 1.19.16 (the version that 
	shipped with NetBSD 1.5).  With all newer versions available to us, 
	we have seen some adapters crash -- and fail to respond to 
	reset -- under certain heavy load conditions.  This version appears 
	stable under heavy load with the current driver on multiple systems 
	on which we can reproduce the failure with newer versions.
	[tls, ticket #1683]

dist/am-utils/libamu/misc_rpc.c			1.2-1.3

	Avoid a cast between pointers to different integer sizes
	[aymeric, ticket #1681]

lib/libc/gen/getcwd.c				1.26

	readlink(2) does not NUL-terminate, use with sizeof (buf-1).
	[kleink, ticket #1687]

bin/csh/dir.c					1.21,1.23

	Use readlink with bufsize - 1.
	Avoid overflow in strcpy.
	[kleink, ticket #1688]

sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscalls.c	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/arm/syscalls.master	1.15 via patch
sys/compat/linux/arch/i386/linux_syscall.h	regen
sys/compat/linux/arch/i386/linux_syscallargs.h	regen
sys/compat/linux/arch/i386/linux_syscalls.c	regen
sys/compat/linux/arch/i386/linux_sysent.c	regen
sys/compat/linux/arch/i386/syscalls.master	1.67 via patch
sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen
sys/compat/linux/arch/m68k/syscalls.master	1.43 via patch
sys/compat/linux/arch/mips/linux_syscall.h	regen
sys/compat/linux/arch/mips/linux_syscallargs.h	regen
sys/compat/linux/arch/mips/linux_syscalls.c	regen
sys/compat/linux/arch/mips/linux_sysent.c	regen
sys/compat/linux/arch/mips/syscalls.master	1.12 via patch
sys/compat/linux/arch/powerpc/linux_syscall.h	regen
sys/compat/linux/arch/powerpc/linux_syscallargs.h	regen
sys/compat/linux/arch/powerpc/linux_syscalls.c	regen
sys/compat/linux/arch/powerpc/linux_sysent.c	regen
sys/compat/linux/arch/powerpc/syscalls.master	1.16 via patch
sys/compat/linux/common/linux_file64.c		1.22 via patch

	Add Linux compat arg wrapper for ftruncate64(), and change linux compat
	truncate64() wrapper to translate args structure NetBSD truncate() and
	ftrucate() have hidden 'pad' argument, so we have to do the argument
	translation. Problem found and patch supplied in PR kern/22360 by
	Ales Krenek.
	[wennmach, ticket #1686]

sys/dev/ata/atavar.h				1.41 via patch

	Change the value of DRIVE_ATAPIST which was same as that of
	DRIVE_DMAERR.
	[bouyer, ticket #1689]

sys/dev/ata/atareg.h				1.14 via patch

	Add definitions of new feature bits.
	[bouyer, ticket #1690]

sys/dev/ata/wdcreg.h				patch
sys/dev/ata/wd.c				1.275

	When using LBA48, use Flush cache extended command if supported.
	PR#25366.
	[bouyer, ticket #1691]


usr.sbin/rpc.yppasswdd/yppasswdd_mkpw.c		1.12

	Problem: rpc.yppasswdd didn't work if invoked with the -noshell option.

	Reason: In routine make_passwd() in yppasswdd_mkpw.c, fgets() is used
	to read master.passwd line-by-line. The lines are then parsed using  
	pw_scan(), without removing the trailing from the line. pw_scan() 
	fills in the shell name into pw.pw_shell, including the trailing. 
	
	Subsequently, rpc.yppasswdd calls pw_copy(), which copies master.passwd
	to ptmp, updating the entry for pw.pw_name. pw_copy() terminates the   
	updated entry with an additonal , so that there is now an empty line 
	in ptmp.
	        
	Finally, rpc.yppasswdd calls pw_mkdb(3), which exec's /usr/sbin/pwd_mkdb
	to install ptmp to master.passwd (and to create the pwd.db and spwd.db  
	data bases). pwd_mkdb chokes on the empty ptmp line.
	
	Fix: remove the trailing from the buffer fgets() returns. As a side
	effect, this gets us some additional error checking.
	
	[1694, ticket #wennmach]

sys/dev/pci/if_ti.c				1.59

	cur_rx->ti_vlan_tag holds the 802.1q VLAN tag and the 802.1p priority.
	Trimm the priority, as the upper layers won't do it and will drop the
	packet if priority is not 0.
	While there, print the revision in the "unsupported chip revision"
	printf.
	[bouyer, ticket #1697]

sys/dev/pci/if_ti.c				1.60
sys/dev/pci/if_tireg.h				1.13

	Use the bus_space_*_stream_* methods to access the chip's registers.
	As we turn the chip to big-endian mode on big-endian systems, we should
	never byte-swap the data read/written from/to registers. Tested on
	sparc64. Finally fix kern/13341 by Jason R. Thorpe (really, the hard
	work of putting bus_dmamap_sync() calls at the right places has been
	done my Jason mid-2001 :)
	[bouyer, ticket #1698]

gnu/dist/toolchain/gcc/config/m68k/m68k.c	1.3

	Fix a bug WRT -vomit-frame-pointer -- use_return_insn() must return
	false if we saved the GOT pointer register.
	Note: This is already fixed in the GCC 3 sources, but GCC 3 uses a
	different condition to determine whether to save and restore the
	register, so the patch cannot be the same.
	[skrll, ticket #1699]

sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen
sys/compat/linux/arch/m68k/syscalls.master	patch

	Correct incorrect definition of system call 194 (linux_sys_ftruncate64)
	caused by the patch for ticket #1686.
	[skrll, ticket #1701]

include/dlfcn.h					1.15-1.16
lib/csu/common_elf/common.c			1.13
lib/csu/common_elf/common.h			1.9
lib/libc/dlfcn/dlfcn_elf.c			1.3-1.4
lib/libc/dlfcn/dlfcn_stubs.c			delete
libexec/ld.elf_so/Makefile			patch
libexec/ld.elf_so/README			patch
libexec/ld.elf_so/TODO				new file
libexec/ld.elf_so/arch/alpha/Makefile.inc	patch
libexec/ld.elf_so/arch/alpha/alpha_reloc.c	patch
libexec/ld.elf_so/arch/alpha/ld.so.script	delete
libexec/ld.elf_so/arch/alpha/rtld_start.S	patch
libexec/ld.elf_so/arch/arm/Makefile.inc		patch
libexec/ld.elf_so/arch/arm/mdreloc.c		new file
libexec/ld.elf_so/arch/arm/rtld_start.S		patch
libexec/ld.elf_so/arch/i386/Makefile.inc	patch
libexec/ld.elf_so/arch/i386/mdreloc.c		new file
libexec/ld.elf_so/arch/i386/rtld_start.S	patch
libexec/ld.elf_so/arch/m68k/Makefile.inc	patch
libexec/ld.elf_so/arch/m68k/mdreloc.c		new file
libexec/ld.elf_so/arch/m68k/rtld_start.S	patch
libexec/ld.elf_so/arch/mips/Makefile.inc	patch
libexec/ld.elf_so/arch/mips/ld.so.script	delete
libexec/ld.elf_so/arch/mips/mips_reloc.c	patch
libexec/ld.elf_so/arch/mips/rtld_start.S	patch
libexec/ld.elf_so/arch/powerpc/Makefile.inc	patch
libexec/ld.elf_so/arch/powerpc/ld.so.script	patch
libexec/ld.elf_so/arch/powerpc/ppc_reloc.c	patch
libexec/ld.elf_so/arch/powerpc/rtld_start.S	patch
libexec/ld.elf_so/arch/sh3/Makefile.inc		patch
libexec/ld.elf_so/arch/sh3/mdreloc.c		new file
libexec/ld.elf_so/arch/sh3/rtld_start.S		patch
libexec/ld.elf_so/arch/sparc/Makefile.inc	patch
libexec/ld.elf_so/arch/sparc/mdreloc.c		patch
libexec/ld.elf_so/arch/sparc/rtld_start.S	patch
libexec/ld.elf_so/arch/sparc64/Makefile.inc	patch
libexec/ld.elf_so/arch/sparc64/mdreloc.c 	patch
libexec/ld.elf_so/arch/sparc64/rtld_start.S	patch
libexec/ld.elf_so/arch/vax/Makefile.inc		patch
libexec/ld.elf_so/arch/vax/mdreloc.c		new file
libexec/ld.elf_so/arch/vax/rtld_start.S  	patch
libexec/ld.elf_so/arch/x86_64/Makefile.inc	patch
libexec/ld.elf_so/arch/x86_64/mdreloc.c  	patch
libexec/ld.elf_so/arch/x86_64/rtld_start.S	patch
libexec/ld.elf_so/debug.c			patch
libexec/ld.elf_so/debug.h			patch
libexec/ld.elf_so/headers.c			patch
libexec/ld.elf_so/ld.elf_so.1			patch
libexec/ld.elf_so/load.c			patch
libexec/ld.elf_so/malloc.c			patch
libexec/ld.elf_so/map_object.c			patch
libexec/ld.elf_so/paths.c			patch
libexec/ld.elf_so/reloc.c			patch
libexec/ld.elf_so/rtld.c			patch
libexec/ld.elf_so/rtld.h			patch
libexec/ld.elf_so/rtldenv.h			patch
libexec/ld.elf_so/search.c			patch
libexec/ld.elf_so/symbol.c			patch
libexec/ld.elf_so/sysident.h			patch
libexec/ld.elf_so/xmalloc.c			patch
libexec/ld.elf_so/xprintf.c			patch
usr.bin/ldd/ldd_elf/ldd.c			patch

	Apply patch (request by skrll in ticket #1702):
	Bring "ld.elf_so" (mostly) in sync with NetBSD-current:
	- MI and MD (e.g. under NetBSD-alpha) performance improvements
	- RTLD_SELF, RTLD_NEXT, RTLD_DEFAULT support
	- much better structured code
	- closes PR bin/25464
	[skrll, ticket #1702]

sys/dev/pcmcia/if_ne_pcmcia.c			1.113

	My incarnation of the RPTI 400 card tells 0:0:0:0:0:0 when using the
	ASIC to read the Ethernet address. However, as other OS's drivers
	suggest, something which looks right is at offset 0x110.
	[is, ticket #1703]

gnu/dist/cvs/BUGS				patch
gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/HACKING				patch
gnu/dist/cvs/INSTALL				patch
gnu/dist/cvs/Makefile.am			patch
gnu/dist/cvs/Makefile.in			patch
gnu/dist/cvs/NEWS				patch
gnu/dist/cvs/README				patch
gnu/dist/cvs/TODO				patch
gnu/dist/cvs/configure				patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/cvs.spec.in			patch
gnu/dist/cvs/mktemp.sh				new file
gnu/dist/cvs/noautomake.sh			deleted
gnu/dist/cvs/contrib/ChangeLog			patch
gnu/dist/cvs/contrib/log_accum.in		patch
gnu/dist/cvs/diff/ChangeLog			patch
gnu/dist/cvs/diff/Makefile.am			patch
gnu/dist/cvs/diff/Makefile.in			patch
gnu/dist/cvs/diff/diff.c			patch
gnu/dist/cvs/diff/diffrun.h			patch
gnu/dist/cvs/diff/libdiff.dep			new file
gnu/dist/cvs/diff/libdiff.dsp			patch
gnu/dist/cvs/diff/libdiff.mak			new file
gnu/dist/cvs/doc/CVSvn.texi			deleted
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/Makefile.am			patch
gnu/dist/cvs/doc/Makefile.in			patch
gnu/dist/cvs/doc/cvs.1				new file
gnu/dist/cvs/doc/cvs.man.footer			new file
gnu/dist/cvs/doc/cvs.man.header			new file
gnu/dist/cvs/doc/cvs.texinfo			patch
gnu/dist/cvs/doc/mkman.in			new file
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/Makefile.am			patch
gnu/dist/cvs/lib/Makefile.in			patch
gnu/dist/cvs/lib/libcvs.dep			new file
gnu/dist/cvs/lib/libcvs.dsp			new file
gnu/dist/cvs/lib/libcvs.mak			new file
gnu/dist/cvs/lib/mkdir.c			patch
gnu/dist/cvs/lib/regex.c			patch
gnu/dist/cvs/lib/system.h			patch
gnu/dist/cvs/man/ChangeLog			patch
gnu/dist/cvs/man/Makefile.am			patch
gnu/dist/cvs/man/Makefile.in			patch
gnu/dist/cvs/man/cvs.1				deleted
gnu/dist/cvs/man/cvs.5				patch
gnu/dist/cvs/src/ChangeLog			patch
gnu/dist/cvs/src/Makefile.am			patch
gnu/dist/cvs/src/Makefile.in			patch
gnu/dist/cvs/src/add.c				patch
gnu/dist/cvs/src/admin.c			patch
gnu/dist/cvs/src/annotate.c			patch
gnu/dist/cvs/src/buffer.c			patch
gnu/dist/cvs/src/buffer.h			patch
gnu/dist/cvs/src/checkin.c			patch
gnu/dist/cvs/src/checkout.c			patch
gnu/dist/cvs/src/classify.c			patch
gnu/dist/cvs/src/client.c			patch
gnu/dist/cvs/src/client.h			patch
gnu/dist/cvs/src/commit.c			patch
gnu/dist/cvs/src/create_adm.c			patch
gnu/dist/cvs/src/cvs.h				patch
gnu/dist/cvs/src/cvsrc.c			patch
gnu/dist/cvs/src/diff.c				patch
gnu/dist/cvs/src/edit.c				patch
gnu/dist/cvs/src/edit.h				patch
gnu/dist/cvs/src/entries.c			patch
gnu/dist/cvs/src/error.c			patch
gnu/dist/cvs/src/expand_path.c			patch
gnu/dist/cvs/src/fileattr.c			patch
gnu/dist/cvs/src/fileattr.h			patch
gnu/dist/cvs/src/filesubr.c			patch
gnu/dist/cvs/src/find_names.c			patch
gnu/dist/cvs/src/hardlink.c			patch
gnu/dist/cvs/src/hash.c				patch
gnu/dist/cvs/src/hash.h				patch
gnu/dist/cvs/src/history.c			patch
gnu/dist/cvs/src/ignore.c			patch
gnu/dist/cvs/src/import.c			patch
gnu/dist/cvs/src/lock.c				patch
gnu/dist/cvs/src/log.c				patch
gnu/dist/cvs/src/login.c			patch
gnu/dist/cvs/src/logmsg.c			patch
gnu/dist/cvs/src/main.c				patch
gnu/dist/cvs/src/mkmodules.c			patch
gnu/dist/cvs/src/modules.c			patch
gnu/dist/cvs/src/myndbm.c			patch
gnu/dist/cvs/src/no_diff.c			patch
gnu/dist/cvs/src/parseinfo.c			patch
gnu/dist/cvs/src/patch.c			patch
gnu/dist/cvs/src/rcs.c				patch
gnu/dist/cvs/src/rcs.h				patch
gnu/dist/cvs/src/rcscmds.c			patch
gnu/dist/cvs/src/recurse.c			patch
gnu/dist/cvs/src/release.c			patch
gnu/dist/cvs/src/remove.c			patch
gnu/dist/cvs/src/repos.c			patch
gnu/dist/cvs/src/root.c				patch
gnu/dist/cvs/src/root.h				patch
gnu/dist/cvs/src/run.c				patch
gnu/dist/cvs/src/sanity.sh			patch
gnu/dist/cvs/src/server.c			patch
gnu/dist/cvs/src/server.h			patch
gnu/dist/cvs/src/stack.c			new file
gnu/dist/cvs/src/stack.h			new file
gnu/dist/cvs/src/status.c			patch
gnu/dist/cvs/src/subr.c				patch
gnu/dist/cvs/src/tag.c				patch
gnu/dist/cvs/src/update.c			patch
gnu/dist/cvs/src/update.h			patch
gnu/dist/cvs/src/vers_ts.c			patch
gnu/dist/cvs/src/watch.c			patch
gnu/dist/cvs/src/watch.h			patch
gnu/dist/cvs/src/zlib.c				patch
gnu/usr.bin/cvs/cvs/Makefile			patch
gnu/usr.bin/cvs/include/config.h		patch

	Bring up to 1.11.16. SA#2004-008
	[christos, ticket #1696]

etc/rc.d/network				1.44

	Allow an IPv6 default route to be set from /etc/mygate6 or 
	$defaultroute6.
	[itojun, ticket #1704]

sys/nfs/nfs_srvcache.c				1.31 via patch

	Enable reply cache for connection oriented protocols as well
	(linux retransmits rpcs even when using tcp).

	[yamt, ticket #1705]

sys/nfs/nfs_serv.c				1.89

	Fix an LP64 problem for exclusive create in nfsrv_create().
	[yamt, ticket #1706]

usr.sbin/syslogd/syslogd.c			patch

	Avoid crashes in syslogd(8) which could happen if it reloaded the
	configuration at the wrong moment. Fixes PR bin/24682.
	[he, ticket #1707]

sys/compat/linux/arch/arm/syscalls.master	patch
sys/compat/linux/arch/i386/syscalls.master	patch
sys/compat/linux/arch/mips/syscalls.master	patch
sys/compat/linux/arch/powerpc/syscalls.master	patch
sys/compat/linux/common/linux_file64.c		patch
sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscalls.c	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/i386/linux_syscall.h	regen
sys/compat/linux/arch/i386/linux_syscallargs.h	regen
sys/compat/linux/arch/i386/linux_syscalls.c	regen
sys/compat/linux/arch/i386/linux_sysent.c	regen
sys/compat/linux/arch/mips/linux_syscall.h	regen
sys/compat/linux/arch/mips/linux_syscallargs.h	regen
sys/compat/linux/arch/mips/linux_syscalls.c	regen
sys/compat/linux/arch/mips/linux_sysent.c	regen
sys/compat/linux/arch/powerpc/linux_syscall.h	regen
sys/compat/linux/arch/powerpc/linux_syscallargs.h	regen
sys/compat/linux/arch/powerpc/linux_syscalls.c	regen
sys/compat/linux/arch/powerpc/linux_sysent.c	regen

	Bring netbsd-1-6 inline with -current sources after the mistakes in 
	ticket #1686
	[skrll, ticket #1708]

sys/netinet6/in6.h				1.45
sys/netinet6/in6_pcb.h				1.25
sys/netinet6/ip6_output.c			1.83
sys/netinet6/raw_ip6.c				1.65
sys/netinet6/udp6_output.c			1.18

	Implement IPV6_USE_MIN_MTU sockopt.
	[itojun, ticket #1709]

usr.bin/sed/compile.c				1.26-1.28

	sed(1) fixes for PR#25899, PR#24234, PR#25911
	[grant, ticket #1710]

tools/compat/compat_defs.h			1.36

	Before sucking in stdlib.h check if this is NetBSD. If so, explicitly
	make sure to use _POSIX_C_SOURCE and undef _NETBSD_SOURCE so the
	myriad of NetBSD extentions don't get pulled into scope (and likely
	conflict at some point with branched code trying to build on -current
	due to drift). Fixes PR toolchain/25533.
	[jmc, ticket #1711]

usr.bin/vi/cl/cl_screen.c			1.7

	. don't call newterm() more than once; use setterm() and resizeterm()
	  instead on subsequent calls. Newterm() would fail after a few calls,
	  leading to vi exiting with a "ex/vi: error initializing terminal"
	  message
	. if tcsetattr() fails due to EINTR, ignore it
	Fixes PR bin/25849.
	[aymeric, ticket #1713]

build.sh                                        patch

	Print out starttime, endtime and various other paramaters after
	finishing a build. This fixes PR toolchain/25872.
	[jmc, ticket #1712]

tools/compat/compat_defs.h			patch
bin/cat/cat.c					patch
bin/pax/ar_io.c					patch
bin/pax/ar_subs.c				patch
bin/pax/buf_subs.c				patch
bin/pax/cpio.c					patch
bin/pax/file_subs.c				patch
bin/pax/ftree.c					patch
bin/pax/gen_subs.c				patch
bin/pax/getoldopt.c				patch
bin/pax/options.c				patch
bin/pax/pat_rep.c				patch
bin/pax/pax.c					patch
bin/pax/pax.h					patch
bin/pax/sel_subs.c				patch
bin/pax/tables.c				patch
bin/pax/tar.c					patch
bin/pax/tty_subs.c				patch
usr.bin/file/Makefile				patch
tools/sunlabel/Makefile				patch
usr.sbin/sunlabel/sunlabel.c			patch
lib/libc/gen/getcap.c				patch

	Fixes for PR#24481 and botched pullup #1021 that prevented 1.6 from
	building on non-NetBSD hosts.

gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/NEWS				patch
gnu/dist/cvs/acinclude.m4			patch
gnu/dist/cvs/aclocal.m4				patch
gnu/dist/cvs/config.h.in			patch
gnu/dist/cvs/configure				patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/cvs.1				patch
gnu/dist/cvs/doc/cvs.texinfo			patch
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/Makefile.am			patch
gnu/dist/cvs/lib/Makefile.in			patch
gnu/dist/cvs/lib/xsize.h			new file
gnu/dist/cvs/src/ChangeLog			patch
gnu/dist/cvs/src/commit.c			patch
gnu/dist/cvs/src/cvs.h				patch
gnu/dist/cvs/src/filesubr.c			patch
gnu/dist/cvs/src/history.c			patch
gnu/dist/cvs/src/sanity.sh			patch
gnu/dist/cvs/src/server.c			patch
gnu/dist/cvs/src/subr.c				patch
gnu/dist/cvs/src/wrapper.c			patch
gnu/usr.bin/cvs/include/config.h		patch

	Update cvs to version 1.1.17.
	[taca, ticket #1716]

tools/compat/compat_defs.h			1.40

	On NetBSD boxes make sure and provide prototypes for strtouq since
	quad_t gets exposed all the time, but routines which use it do not.
	Otherwise callers of strtouq will lose.
	[jmc, ticket #1717]

sys/dev/pci/if_tl.c				1.65
sys/dev/pci/pcidevs				1.628
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Apply patch from kern/25936 by Michael Blake: Add support for the
	Netelligent 10/100 TX variant found on the Compaq Proliant Professional
	Workstation 5100.
	[bouyer, ticket #1718]

tools/compat/Makefile				1.17
tools/compat/lchflags.c				1.1-1.2 (new)
tools/compat/lchmod.c				1.1-1.2 (new)
tools/compat/lchown.c				1.1-1.2 (new)

	Implement replacements for lchflags(), lchmod(), and
	lchown(), to enable cross-building on more host systems.
	[cgd, ticket #1719]

sys/dev/pci/pcidevs				1.514 via patch
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pciide.c				1.187 via patch
sys/dev/pci/pciidevar.h				1.10 via patch
sys/dev/pci/pciide_sii3112_reg.h		1.1 (new)

	Add support for SATALink 3112.
	[grant, ticket #1720]

tools/gettext/Makefile				1.4 via patch
gnu/dist/gettext/Makefile.am			1.2
gnu/dist/gettext/Makefile.in			1.4
gnu/dist/gettext/src/Makefile.am		1.2
gnu/dist/gettext/src/Makefile.in		1.3

	Disable rules that try to rebuild files in the source tree
	(only affects MKMAINTAINER=yes builds.)
	[dbj, ticket #1722]

lib/csu/powerpc/crt0.c				1.23
lib/csu/powerpc/dot_init.h			1.2
lib/libc/arch/powerpc/SYS.h			1.11
lib/libc/arch/powerpc/gen/__setjmp14.S		1.2
lib/libc/arch/powerpc/gen/__sigsetjmp14.S	1.2
lib/libc/arch/powerpc/gen/_setjmp.S		1.2
lib/libc/arch/powerpc/gen/setjmp.S		1.4
lib/libc/arch/powerpc/gen/sigsetjmp.S		1.5
lib/libc/arch/powerpc/string/bzero.S		1.5
lib/libc/arch/powerpc/string/ffs.S		1.2
lib/libc/arch/powerpc/string/strlen.S		1.2
lib/libc/arch/powerpc/sys/Ovfork.S		1.4
lib/libc/arch/powerpc/sys/__clone.S		1.2
lib/libc/arch/powerpc/sys/__vfork14.S		1.3
lib/libc/arch/powerpc/sys/brk.S			1.10
lib/libc/arch/powerpc/sys/cerror.S		1.6
lib/libc/arch/powerpc/sys/fork.S		1.4
lib/libc/arch/powerpc/sys/pipe.S		1.7
lib/libc/arch/powerpc/sys/ptrace.S		1.4
lib/libc/arch/powerpc/sys/sbrk.S		1.9
lib/libc/arch/powerpc/sys/setlogin.S		1.4
lib/libc/arch/powerpc/sys/sigpending.S		1.8
lib/libc/arch/powerpc/sys/sigprocmask.S		1.8
lib/libc/arch/powerpc/sys/sigsuspend.S		1.8
sys/arch/powerpc/include/asm.h			1.10

	Fix build problems of ppc platforms caused by ticket #1708.
	This closes PR port-powerpc/25941.
	[skrll, ticket #1725]

libexec/ld.elf_so/reloc.c			1.84

	Don't print relocated content (in DEBUG mode) as it can cause
	misaligned access. It needs to be done differently if needed at all.
	Fix PR port-sparc64/20907.
	[skrll, ticket #1726]

gnu/dist/gettext/config.guess			patch
gnu/dist/gettext/config.sub			patch
gnu/dist/toolchain/gcc/config/x-darwin		new file
gnu/dist/toolchain/gcc/configure		patch
gnu/dist/toolchain/gcc/configure.in		patch
gnu/dist/toolchain/gdb/config/powerpc/darwin.mh	new file
gnu/dist/toolchain/gdb/configure.host		patch
gnu/dist/toolchain/libiberty/strerror.c		patch
lib/libc/gen/pwcache.c				patch
lib/libc/locale/rune.h				patch
lib/libc/locale/runeglue.c			patch
lib/libc/locale/runetype.h			patch
lib/libc/locale/setlocale1.c			patch
lib/libc/locale/setlocale32.c			patch
tools/compat/compat_defs.h			patch
tools/compat/config.h.in			patch
tools/compat/configure				patch
tools/compat/configure.ac			patch
usr.bin/mklocale/Makefile			patch
usr.bin/mklocale/ldef.h				patch
usr.bin/mklocale/lex.l				patch
usr.bin/mklocale/yacc.y				patch
usr.bin/xinstall/xinstall.c			patch
usr.sbin/makefs/walk.c				patch
usr.sbin/sunlabel/Makefile			patch

	Fix building the netbsd-1-6 branch under Darwin/MacOS.
	[dbj, ticket #1723]

bin/dd/strsuftoull.c				patch
bin/ed/re.c					patch
crypto/dist/ssh/auth-krb4.c			patch
crypto/dist/ssh/auth-options.c			patch
crypto/dist/ssh/auth-rh-rsa.c			patch
crypto/dist/ssh/auth-rhosts.c			patch
crypto/dist/ssh/auth-rsa.c			patch
crypto/dist/ssh/auth.c				patch
crypto/dist/ssh/auth1.c				patch
crypto/dist/ssh/auth2-hostbased.c		patch
crypto/dist/ssh/auth2-passwd.c			patch
crypto/dist/ssh/auth2-pubkey.c			patch
crypto/dist/ssh/auth2.c				patch
crypto/dist/ssh/authfd.c			patch
crypto/dist/ssh/bufaux.c			patch
crypto/dist/ssh/canohost.c			patch
crypto/dist/ssh/channels.c			patch
crypto/dist/ssh/clientloop.c			patch
crypto/dist/ssh/compat.c			patch
crypto/dist/ssh/dh.c				patch
crypto/dist/ssh/dispatch.c			patch
crypto/dist/ssh/groupaccess.c			patch
crypto/dist/ssh/hostfile.c			patch
crypto/dist/ssh/log.c				patch
crypto/dist/ssh/log.h				patch
crypto/dist/ssh/monitor.c			patch
crypto/dist/ssh/nchan.c				patch
crypto/dist/ssh/packet.c			patch
crypto/dist/ssh/packet.h			patch
crypto/dist/ssh/scard.c				patch
crypto/dist/ssh/servconf.c			patch
crypto/dist/ssh/session.c			patch
crypto/dist/ssh/sftp-client.c			patch
crypto/dist/ssh/sftp-server.c			patch
crypto/dist/ssh/ssh-agent.c			patch
crypto/dist/ssh/ssh-keygen.c			patch
crypto/dist/ssh/ssh.c				patch
crypto/dist/ssh/sshconnect.c			patch
crypto/dist/ssh/sshconnect1.c			patch
crypto/dist/ssh/sshconnect2.c			patch
crypto/dist/ssh/sshd.c				patch
crypto/dist/ssh/sshlogin.c			patch
crypto/dist/ssh/ttymodes.c			patch
dist/am-utils/fsinfo/fsi_util.c			patch
dist/am-utils/fsinfo/fsi_analyze.c		patch
dist/am-utils/fsinfo/fsinfo.c			patch
dist/am-utils/fsinfo/fsinfo.h			patch
dist/am-utils/fsinfo/wr_fstab.c			patch
games/cribbage/cribbage.h			patch
games/cribbage/extern.c				patch
games/cribbage/score.c				patch
games/cribbage/support.c			patch
gnu/dist/map-mbone/mapper.c			patch
gnu/dist/mrinfo/mrinfo.c			patch
gnu/dist/mrouted/callout.c			patch
gnu/dist/mrouted/cfparse.y			patch
gnu/dist/mrouted/config.c			patch
gnu/dist/mrouted/defs.h				patch
gnu/dist/mrouted/igmp.c				patch
gnu/dist/mrouted/kern.c				patch
gnu/dist/mrouted/main.c				patch
gnu/dist/mrouted/prune.c			patch
gnu/dist/mrouted/route.c			patch
gnu/dist/mrouted/rsrr.c				patch
gnu/dist/mrouted/vif.c				patch
gnu/dist/mtrace/mtrace.c			patch
gnu/usr.sbin/mrouted/Makefile			patch
lib/libcompat/regexp/regexp.c			patch
libexec/ftpd/ftpd.c				patch
libexec/rexecd/rexecd.c				patch
libexec/uucpd/uucpd.c				patch
sbin/savecore/savecore.c			patch
sys/arch/sbmips/sbmips/sb1250_icu.c		patch
usr.bin/make/suff.c				patch
usr.bin/rdist/defs.h				patch
usr.bin/rdist/docmd.c				patch
usr.bin/rdist/server.c				patch
usr.bin/xlint/xlint/xlint.c			patch
usr.sbin/isdn/isdnd/alias.c			patch
usr.sbin/isdn/isdnd/controller.c		patch
usr.sbin/isdn/isdnd/curses.c			patch
usr.sbin/isdn/isdnd/dial.c			patch
usr.sbin/isdn/isdnd/exec.c			patch
usr.sbin/isdn/isdnd/fsm.c			patch
usr.sbin/isdn/isdnd/holiday.c			patch
usr.sbin/isdn/isdnd/isdnd.h			patch
usr.sbin/isdn/isdnd/log.c			patch
usr.sbin/isdn/isdnd/main.c			patch
usr.sbin/isdn/isdnd/monitor.c			patch
usr.sbin/isdn/isdnd/msghdl.c			patch
usr.sbin/isdn/isdnd/process.c			patch
usr.sbin/isdn/isdnd/rates.c			patch
usr.sbin/isdn/isdnd/rc_config.c			patch
usr.sbin/isdn/isdnd/support.c			patch
usr.sbin/isdn/isdnd/timer.c			patch
usr.sbin/pppd/chat/chat.c			patch

	Fix problems when building the netbsd-1-6 branch with GCC 3.3.3.
	[dbj, ticket #1724]


sys/arch/sparc64/sparc64/locore.s		1.198

	Change interrupt pending list end value to -1, to avoid linking an
	interrupt handler twice.
	[nakayama, ticket #1727]

sbin/dmesg/dmesg.8				1.15-1.16

	Talk a little about the system message buffer and cross-reference
	MSGBUFSIZE in options(4).
	[briggs, ticket #1728]

share/man/man4/cardbus.4			1.17-1.18

	Update to suggest what to do if you see
	  cbb0: NOT USED because of unconfigured interrupt
	on an i386-family system.
	[briggs, ticket #1729]

lib/libc/net/gethnamaddr.c			1.62 via patch

	Now that e.f.f.3.ip6.arpa is ready, we no longer need to query ip6.int.
	[itojun, ticket #1731]

bin/pax/ar_subs.c				1.30

	Remove misplaced semi-colons.
	[cube, ticket #1732]

bin/pax/buf_subs.c				1.24

	Do the special symlink treatment with all negative fd's.
	[cube, ticket #1733]

bin/pax/tar.1					1.14

	Document that ``--unlink'' is the default, and that it is
	therefore ignored and only accepted for compatibility with
	other tar(1) implememtations.
	[cube, ticket #1734]

bin/pax/pax.1					1.48

	Remove extraneous word, and fix a grammar error.
	[cube, ticket #1735]

bin/pax/file_subs.c				1.42-1.46,1.48-1.50

	Fix handling of certain archives, fixing core dump (PR#25207).
	Fix problem with trailing slashes (PR#15188).
	Treat sticky bit specially for non-superuser (PR#25350).
	Set chflags after rename, not before.
	Don't exit with 1 on broken archives that mark directories as files.
	Don't attempt to remove current directory.
	Break out of loop and avoid infinite loop in certain error situations.
	Salvage the `create parent directories and try again' patch.
	[cube, ticket #1736]

bin/pax/tar.c					1.49-1.52,1.54-1.57 (patch)

	Fix bug in --exclude emulation, and use snprintf.  (PR#25131)
	Fix bug in pax append mode.  (PR#25200)
	Fix handling of certain archives, fixing core dump. (PR#25207)
	Fix problems with 1.5.3/i386 kernel sets (PR#25299) and
	MS-DOS gzip files (PR#25310).
	Slight code restructuring.
	Fix handling of tar with hardlinks to long file names
	(PR#25934, PR#25934).
	Fix unterminated buffer string in exaclude destination buffer.
	Fix isfoo() ctype macros to take unsigned char.
	[cube, ticket #1737]

bin/pax/gen_subs.c				patch

	Minimize difference with -current and netbsd-2-0 version.
	[cube, ticket #1738]

sys/dev/raidframe/rf_disks.c			1.54

	rf_CheckLabels() needs to die, but for now, we patch it by setting
	fatal_error when too_fatal is set, and by setting fatal_error in a
	couple other critical cases.
	[oster, ticket #1740]

libexec/ftpd/Makefile				1.47-1.51 + patch
libexec/ftpd/cmds.c				1.17-1.18,1.21-1.23
libexec/ftpd/conf.c				1.47-1.52
libexec/ftpd/extern.h				1.44-1.50 + patch
libexec/ftpd/ftpcmd.y				1.68,1.70-1.80
libexec/ftpd/ftpd.8				1.70-1.74
libexec/ftpd/ftpd.c				1.139-1.158
libexec/ftpd/ftpd.conf.5			1.20-1.28
libexec/ftpd/ftpusers.5				1.14-1.15
libexec/ftpd/logutmp.c				1.3-1.8
libexec/ftpd/logwtmp.c				1.17-1.22
libexec/ftpd/pathnames.h			1.11
libexec/ftpd/popen.c				1.28-1.30
libexec/ftpd/version.h				1.44-1.57
libexec/ftpd/strsuftoll.c			patch (new)

	Update to NetBSD ftpd 20040809.  Fixes SA#2004-009.
	[he, ticket #1739]

sys/dev/pci/pcidevs				1.647 via patch
sys/dev/pci/pcidevs.h				regnerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/cardbus/cardbusdevs			patch (from pcidevs 1.647)
sys/dev/cardbus/cardbusdevs.h			regenerate
sys/dev/cardbus/cardbusdevs_data.h		regenerate
sys/dev/ic/ninjascsi32.c			1.1-1.2 via patch (new)
sys/dev/ic/ninjascsi32reg.h			1.1 (new)
sys/dev/ic/ninjascsi32var.h			1.1-1.2 (new)
sys/dev/cardbus/njs_cardbus.c			1.1-1.2 via patch (new)
sys/dev/cardbus/files.cardbus			1.23 via patch
sys/dev/pci/njs_pci.c				1.1-1.2 via patch (new)
sys/dev/pci/files.pci				1.217 via patch
share/man/man4/njs.4				1.1-1.3 (new)
share/man/man4/Makefile				1.329 via patch
distrib/sets/lists/man/mi			1.722 via patch
sys/dev/DEVNAMES				1.162 via patch
sys/conf/files					1.682 via patch
sys/arch/i386/conf/CARDBUS			1.73 via patch
sys/arch/i386/conf/GENERIC			1.629 via patch
sys/arch/i386/conf/GENERIC_LAPTOP		1.114 via patch

	Add support for the Workbit NinjaSCSI-32 PCI/Cardbus
	SCSI driver, njs(4).
	[itohy, ticket #1741]

sys/arch/amiga/dev/ite_et.c			1.7

	While in graphics mode, short-circuit text-mode functions
	which would otherwise destroy graphics state.  Fixes PR#26788.
	[is, ticket #1742]

distrib/notes/common/xfer			1.50

	Remove mention of split sets, as we don't produce them any more.
	[is, ticket #1744]

distrib/notes/amiga/hardware			1.45

	Clarify Apollo-accelerator-modified-mainboard-SCSI vs.
	Apollo-accelerator-provided-SCSI support status.
	[is, ticket #1743]

sys/arch/i386/conf/CARDBUS			patch
sys/arch/i386/conf/DR-EVIL			patch
sys/arch/i386/conf/GENERIC_LAPTOP		patch

	Add missing "scsibus* at adv?" line.
	[itohy, ticket #1745]

usr.bin/newsyslog/newsyslog.c			1.47

	Various fixes for when ngen is 0.  Fixes PR#26991.
	[mjl, ticket #1746]

sys/compat/hpux/hpux_compat.c			patch
sys/compat/hpux/hpux_tty.c			patch
sys/compat/ibcs2/ibcs2_misc.c			patch
sys/compat/irix/irix_prctl.c			patch
sys/compat/irix/irix_swap.c			patch
sys/compat/osf1/osf1_signal.c			patch
sys/compat/svr4/svr4_filio.c			patch
sys/compat/svr4/svr4_signal.c			patch
sys/compat/svr4_32/svr4_32_filio.c		patch
sys/compat/ultrix/ultrix_misc.c			patch

	Bounds check syscall arguments where appropriate.
	[david, ticket #1800]

sys/dev/ic/siop_common.c			1.33
sys/dev/ic/siopvar_common.h			1.27
sys/dev/pci/siop_pci_common.c			1.22

	The 1010-66 always generate AIP values on the bus, regardless of the
	SCNTL4 settings. Disable AIP completely, as this confuse pre-Ultra160
	drives.
	[bouyer, ticket #1748]

sys/dev/ic/esiop.c				1.28
sys/dev/ic/esiopvar.h				1.9
sys/dev/ic/siop.c				1.73
sys/dev/ic/siop_common.c			1.34
sys/dev/microcode/siop/esiop.out		regen
sys/dev/microcode/siop/esiop.ss			1.17
sys/dev/microcode/siop/oosiop.out		regen
sys/dev/microcode/siop/osiop.out		regen

	Properly compute xs->resid, instead of assuming it'll always be 0 when
	a command is done.
	[bouyer, ticket #1749]

sys/dev/ic/esiop.c				1.29
sys/dev/ic/esiopvar.h				1.10
sys/dev/ic/siop.c				1.74
sys/dev/ic/siop_common.c			1.35
sys/dev/ic/siopvar_common.h			1.28
sys/dev/microcode/siop/esiop.out		regen
sys/dev/microcode/siop/esiop.ss			1.18
sys/dev/microcode/siop/siop.out			regen
sys/dev/microcode/siop/siop.ss			1.18

	When an unexpected disconnect occurs only compute the resid; do the
	real save data pointers when we get the message (or rather, at
	disconnect time following the message).
	Factor out code to do this, and to deal with xs->resid, in
	siop_common.c.
	[bouyer, ticket #1750]

sys/dev/ic/esiop.c				1.30
sys/dev/ic/siop.c				1.75
sys/dev/ic/siop_common.c			1.36
sys/dev/ic/siopvar_common.h			1.29

	Add support for the Ignore Wide Residue SCSI message.
	[bouyer, ticket #1751]

sys/dev/ic/esiop.c				1.31

	Remove a redundant BUS_DMASYNC_POSTREAD | BUS_DMASYNC_POSTWRITE, and
	fix another one (POST -> PRE).
	[bouyer, ticket #1752]

sys/dev/ic/siop.c				1.76

	Add missing return, fix handling of Ignore Wide Residue messages.
	[bouyer, ticket #1753]

usr.sbin/sup/source/scm.c			1.18 via patch

	Don't set AI_NUMERICHOST in matchhost() to resolve given hostname since
	it is supposed to be an arbitrary name (i.e. not restricted to numeric
	representation). Tested by Soda with our production server. PR#27047.
	[soda, ticket #1754]

usr.sbin/syslogd/syslogd.c			1.68

	Postpone initial setting of the alarm timer until after the call to
	daemon(), as the timer would be cleared by daemon's fork().
	[heas, ticket #1773]

sys/netinet6/ipsec.c				1.98-1.99

	Add missing break.
	[itojun, ticket #1774]

usr.bin/vi/vi/v_txt.c				1.12

	Move a line of code which was "obviously" misplaced.
	This fixes a core dump when auto-completing filenames and at least
	one of the file names is larger than the screen width.
	Bug report and fix by Peter Bex in PR#28382.
	[aymeric, ticket #1790]

usr.bin/calendar/calendars/calendar.holiday	1.10

	Fix the date of the Australia Day holiday.
	[simonb, ticket #1850]

sys/netinet6/ipsec.c				1.101

	Fix possible remote DoS via IPSec AH packets.
	[itojun, ticket #5711]

sys/arch/i386/i386/locore.s			patch

	Check the passed in address as well as determining the maximum length
	using VM_MAXUSER_ADDRESS in copyinstr and copyoutstr.
	Problem originally fixed in OpenBSD/i386.
	This fix suggested by Charles Hannum (mycroft at netbsd dot org).
	[fvdl, ticket #5712]

xfree/xc/extras/Xpm/cxpm/cxpm.c			patch
xfree/xc/extras/Xpm/lib/Attrib.c		patch
xfree/xc/extras/Xpm/lib/CrBufFrI.c		patch
xfree/xc/extras/Xpm/lib/CrDatFrI.c		patch
xfree/xc/extras/Xpm/lib/Imakefile		patch
xfree/xc/extras/Xpm/lib/RdFToBuf.c		patch
xfree/xc/extras/Xpm/lib/RdFToI.c		patch
xfree/xc/extras/Xpm/lib/WrFFrBuf.c		patch
xfree/xc/extras/Xpm/lib/WrFFrI.c		patch
xfree/xc/extras/Xpm/lib/XpmI.h			patch
xfree/xc/extras/Xpm/lib/create.c		patch
xfree/xc/extras/Xpm/lib/data.c			patch
xfree/xc/extras/Xpm/lib/hashtab.c		patch
xfree/xc/extras/Xpm/lib/misc.c			patch
xfree/xc/extras/Xpm/lib/parse.c			patch
xfree/xc/extras/Xpm/lib/scan.c			patch
xfree/xc/extras/Xpm/lib/xpm.h			patch
xfree/xc/extras/Xpm/sxpm/sxpm.c			patch
xfree/xc/extras/Xpm/sxpm/sxpm.man		patch

	Fix for security problems reported in CAN-2005-0605
	[tron, ticket #5703]

sys/dev/microcode/siop/ncr53cxxx.c		patch

	Fix this to build with GCC 3.3.x.
	[tron, ticket #5713]

sys/dev/pci/aac_pci.c				1.8-1.10
sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add support for Adaptec 2200S Vulcan 2M, Dell PERC
	320/DC, Adaptec 2410SA and Adaptec 2810SA controllers.
	[he, ticket #1755]

sys/ufs/ext2fs/ext2fs_bmap.c			1.19

	getblk() can return NULL if we are the pagedaemon. Check for this.
	[bouyer, ticket #5728]

lib/libc/net/rcmd.c				1.55 via patch

	Retain the euid of the target user whilst reading the
	.rhosts file. This allows it to have a mode of 600
	and still function correctly even when used on an NFS
	client with uid 0 mapped to another (anonymous) UID.
	Patch from Brian Ginsbach <ginsbach@cray.com>,
	and fixes [bin/14880] from Darren Reed <darrenr@>.
	[ginsbach, ticket #5732]

usr.bin/telnet/telnet.c				1.30 via patch

	Plug buffer overflows, ref. CAN 2005-0468 and 2005-0469.
	Patch from MIT/Kerberos (MITKRB5-SA-2005-001-telnet.txt).
	[tron, ticket #5742]

sys/dev/pci/neo.c				1.28

	* neo_intr()
	  update the watermark for the recording buffer
	  The fix was provided in PR#26706 by Chapman Flack.
	[kent, ticket #5743]

src/sys/dev/audio.c				patch

	Correct audio recording buffer handling. Fixes PR kern/26706.
	[kent, ticket #5744]

sys/dev/pci/trm.c				1.19

	Move epprom settings checks to the right place, so that sync/wide nego
	is started based on the eeprom values and adapter capabilities.
	Avoid the driver to negotiate wide transfers with a wide drive
	connected to a non-wide capable controller.
	[bouyer, ticket #5751]

sys/dev/ic/esiop.c				1.33

	Don't assume all LUNs are probed before scsipi sets the mode, and
	always check if lun_tagtbl needs to be allocated. Fixes PR kern/29603.
	[bouyer, ticket #5755]

sys/dev/pci/if_tl.c				1.69
sys/dev/pci/pcidevs				1.706
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add "Compaq Netelligent 10 T/2 PCI UTP/Coax Controller". Fix kern/29218
	by A L Meyers.
	[bouyer, ticket #5756]

sys/dev/pci/if_wm.c				1.102

	In wm_stop():
	 - Clear the interrupt mask to ensure the device cannot assert its
	   interrupt line.
	 - Clear sc->sc_icr to ensure wm_intr() makes no attempt to service any
	   currently pending or shared interrupt.
	This should address the problem reported in both PR/29903 and PR/22493.
	(wm(4) is susceptible to crashing in wm_intr() when the interface is 
	downed)
	[scw, ticket #5761]

sys/compat/linux/common/linux_file.c		1.62 via patch

	Fix linux_sys_p{read|write}() to actually call correct syscall after
	arg massage, i.e. sys_p{read|write} as appropriate; up to now, the
	functions called sys_{read|write}() by mistake.
	[bad, ticket #5762]

sys/dev/pci/aac_pci.c				1.13
sys/dev/pci/pcidevs				1.702
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add missing PCI id for Adaptec ASR-2410SA, and use this PCI
	id symbol instead of hardcoding the number.
	[tron, ticket #5721]

sys/dev/audio.c					1.196 via patch

	Make sure buffer sizes are initialized correctly even when the pause
	state is explicitly set.
	Without this, the machine would crash for some audio hardware that
	needs to divide by the block size (e.g., cs4281.c/cs4280.c).
	[is, ticket #5793]

gnu/dist/cvs/AUTHORS				patch
gnu/dist/cvs/BUGS				patch
gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/HACKING				patch
gnu/dist/cvs/Makefile.in			patch
gnu/dist/cvs/NEWS				patch
gnu/dist/cvs/README				patch
gnu/dist/cvs/TODO				patch
gnu/dist/cvs/aclocal.m4				patch
gnu/dist/cvs/configure				patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/contrib/ChangeLog			patch
gnu/dist/cvs/contrib/Makefile.am		patch
gnu/dist/cvs/contrib/Makefile.in		patch
gnu/dist/cvs/contrib/README			patch
gnu/dist/cvs/contrib/commit_prep.in		patch
gnu/dist/cvs/contrib/cvs_acls.html		new file
gnu/dist/cvs/contrib/cvs_acls.in		patch
gnu/dist/cvs/contrib/log.in			patch
gnu/dist/cvs/contrib/log_accum.in		patch
gnu/dist/cvs/contrib/mfpipe.in			patch
gnu/dist/cvs/contrib/rcslock.in			patch
gnu/dist/cvs/cvs2netbsd				patch
gnu/dist/cvs/diff/ChangeLog			patch
gnu/dist/cvs/diff/Makefile.in			patch
gnu/dist/cvs/diff/libdiff.dep			patch
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/Makefile.am			patch
gnu/dist/cvs/doc/Makefile.in			patch
gnu/dist/cvs/doc/cvs.1				patch
gnu/dist/cvs/doc/cvs.man.header			patch
gnu/dist/cvs/doc/cvs.texinfo			patch
gnu/dist/cvs/doc/mkman.in			delete
gnu/dist/cvs/doc/mkman.pl			new file
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/Makefile.am			patch
gnu/dist/cvs/lib/Makefile.in			patch
gnu/dist/cvs/lib/fncase.c			patch
gnu/dist/cvs/lib/regex.c			patch
gnu/dist/cvs/lib/sighandle.c			patch
gnu/dist/cvs/lib/system.h			patch
gnu/dist/cvs/lib/test-getdate.sh		new file
gnu/dist/cvs/lib/xtime.h			patch
gnu/dist/cvs/man/ChangeLog			patch
gnu/dist/cvs/man/Makefile.am			patch
gnu/dist/cvs/man/Makefile.in			patch
gnu/dist/cvs/src/ChangeLog			patch
gnu/dist/cvs/src/Makefile.am			patch
gnu/dist/cvs/src/Makefile.in			patch
gnu/dist/cvs/src/add.c				patch
gnu/dist/cvs/src/admin.c			patch
gnu/dist/cvs/src/annotate.c			patch
gnu/dist/cvs/src/buffer.c			patch
gnu/dist/cvs/src/build_src.com			patch
gnu/dist/cvs/src/checkin.c			patch
gnu/dist/cvs/src/checkout.c			patch
gnu/dist/cvs/src/classify.c			patch
gnu/dist/cvs/src/client.c			patch
gnu/dist/cvs/src/commit.c			patch
gnu/dist/cvs/src/create_adm.c			patch
gnu/dist/cvs/src/cvs.h				patch
gnu/dist/cvs/src/cvsrc.c			patch
gnu/dist/cvs/src/diff.c				patch
gnu/dist/cvs/src/edit.c				patch
gnu/dist/cvs/src/entries.c			patch
gnu/dist/cvs/src/expand_path.c			patch
gnu/dist/cvs/src/fileattr.c			patch
gnu/dist/cvs/src/filesubr.c			patch
gnu/dist/cvs/src/find_names.c			patch
gnu/dist/cvs/src/hardlink.c			patch
gnu/dist/cvs/src/hardlink.h			patch
gnu/dist/cvs/src/hash.c				patch
gnu/dist/cvs/src/hash.h				patch
gnu/dist/cvs/src/history.c			patch
gnu/dist/cvs/src/history.h			patch
gnu/dist/cvs/src/ignore.c			patch
gnu/dist/cvs/src/import.c			patch
gnu/dist/cvs/src/lock.c				patch
gnu/dist/cvs/src/log.c				patch
gnu/dist/cvs/src/login.c			patch
gnu/dist/cvs/src/logmsg.c			patch
gnu/dist/cvs/src/main.c				patch
gnu/dist/cvs/src/mkmodules.c			patch
gnu/dist/cvs/src/modules.c			patch
gnu/dist/cvs/src/myndbm.c			patch
gnu/dist/cvs/src/no_diff.c			patch
gnu/dist/cvs/src/parseinfo.c			patch
gnu/dist/cvs/src/patch.c			patch
gnu/dist/cvs/src/rcs.c				patch
gnu/dist/cvs/src/rcs.h				patch
gnu/dist/cvs/src/rcscmds.c			patch
gnu/dist/cvs/src/recurse.c			patch
gnu/dist/cvs/src/release.c			patch
gnu/dist/cvs/src/remove.c			patch
gnu/dist/cvs/src/repos.c			patch
gnu/dist/cvs/src/root.c				patch
gnu/dist/cvs/src/root.h				patch
gnu/dist/cvs/src/sanity.sh			patch
gnu/dist/cvs/src/server.c			patch
gnu/dist/cvs/src/server.h			patch
gnu/dist/cvs/src/stack.c			patch
gnu/dist/cvs/src/stack.h			patch
gnu/dist/cvs/src/status.c			patch
gnu/dist/cvs/src/subr.c				patch
gnu/dist/cvs/src/tag.c				patch
gnu/dist/cvs/src/update.c			patch
gnu/dist/cvs/src/vers_ts.c			patch
gnu/dist/cvs/src/version.c			patch
gnu/dist/cvs/src/wrapper.c			patch
gnu/dist/cvs/ylwrap				new file
gnu/usr.bin/cvs/Makefile.inc			patch
gnu/usr.bin/cvs/cvs/Makefile			patch
gnu/usr.bin/cvs/cvsbug/Makefile			patch
gnu/usr.bin/cvs/include/config.h		patch
gnu/usr.bin/cvs/libcvs/Makefile			patch
gnu/usr.bin/cvs/rcs2log/Makefile		patch

	Update CVS to version 1.11.20.
	[tron, ticket #5822]

lib/libz/inftrees.c				1.10
sys/lib/libz/inftrees.c				1.10    

	Return correct error on all zero length codes.
	[tron, ticket #5835]

usr.sbin/amd/include/config.h			patch

	Embed machine and cpu architecture correctly by target host environmet,
	not by build host.
	[nakayama, ticket #5837]

gnu/dist/cvs/src/cvsbug.in			1.3

	Fix vulnerability reported in SA16553 using the Red Hat patch.
	[tron, ticket #5850]

sys/compat/freebsd/freebsd_misc.c		patch

	Fix a user-controlled length argument from potentially overflowing an
	integer.  Reported by Christer Oeberg.
	[elad, ticket #5867]

xfree/xc/config/cf/NetBSD.cf			1.80

	Remove unsafe /tmp file creation for the file.0 target. Just make
	the file in the current build directory instead of temp directory.
	[reed, ticket #5866]

crypto/dist/openssl/crypto/opensslv.h		1.2
crypto/dist/openssl/ssl/s23_srvr.c		1.2

	Fix openssl 2.0 rollback, CAN-2005-2969. Also, add a
	preprocessor symbol so we can distinguish fixed openssl
	from the vanilla openssl.
	[gendalia, ticket #5908]

distrib/sets/makesrctars			patch

	Allow autobuild to create source sets with builds.
	[jmc, ticket #5912]

sys/arch/sun3/dev/if_ie.c			1.42

	Avoid NULL pointer dereference in case of #if NBPFILTER == 0.
	Closes PR port-sun3/21699.
	[tsutsui, ticket #5784]

sys/arch/sun2/dev/if_ec.c			1.9

	Make ec interfaces ifconfig up without panic.
	[tsutsui, ticket #5785]

distrib/notes/alpha/install			1.29 (via patch)
distrib/notes/common/main			1.284 (via patch)

	Updated URL for list of NetBSD mirrors.
	[heinz, ticket #5790]

crypto/dist/kame/libipsec/policy_parse.y	1.4-1.5
lib/libipsec/policy_parse.y			1.9-1.10,1.13-1.14 via patch

	Avoid memory leak, and correct various malloc usage.  PR#23625
	[wiz, ticket #1798]

sys/netinet/fil.c				patch

	Don't pass a NULL pointer to ipfr_fastroute(). From Christoph
	Egger in PR#26141.
	[darrenr, ticket #1780]

sys/netatalk/aarp.c				1.17

	PR/31051: Kousaku Nakahara: can't find the device from Macintosh through
	AppleTalk(Netatalk) in the network including a seed router
	Byte order problem, fixed as suggested.
	[taca, ticket #5851]

distrib/sets/lists/base/mi			patch
share/zoneinfo/africa				patch
share/zoneinfo/antarctica			patch
share/zoneinfo/asia				patch
share/zoneinfo/australasia			patch
share/zoneinfo/backward				patch
share/zoneinfo/etcetera				patch
share/zoneinfo/europe				patch
share/zoneinfo/iso3166.tab			patch
share/zoneinfo/leapseconds			patch
share/zoneinfo/northamerica			patch
share/zoneinfo/solar87				patch
share/zoneinfo/solar88				patch
share/zoneinfo/solar89				patch
share/zoneinfo/southamerica			patch
share/zoneinfo/yearistype.sh			patch
share/zoneinfo/zone.tab				patch

	This update most importantly adds over the previous tzdata2002d ...
	_lots_ of fixes, including most recently the leap second at the
	end of 2005 and the U.S. DST changes taking effect in 2007.
	[kleink, ticket #5859]

share/zoneinfo/asia				1.1.1.34
share/zoneinfo/australasia			1.9
share/zoneinfo/northamerica			1.1.1.31
share/zoneinfo/southamerica			1.1.1.30

	Update to tzdata2005n.
	[kleink, ticket #5903]

games/phantasia/main.c				1.15
games/phantasia/setup.c				1.14 via patch

	Now games.tgz can be shared among MACHINE_ARCH's
	[jmc, ticket #5921]

distrib/sets/lists/comp/mi			patch
distrib/sets/lists/man/mi			patch
share/man/man4/Makefile				patch
share/man/man4/ukyopon.4			patch
share/man/man4/usb.4				patch
sys/arch/algor/conf/P4032			patch
sys/arch/algor/conf/P5064			patch
sys/arch/algor/conf/P6032			patch
sys/arch/alpha/conf/ALPHA			patch
sys/arch/alpha/conf/BASIL			patch
sys/arch/alpha/conf/FRAU-FARBISSINA		patch
sys/arch/alpha/conf/GENERIC			patch
sys/arch/cats/conf/GENERIC			patch
sys/arch/hpcmips/conf/GENERIC			patch
sys/arch/hpcmips/conf/TX3922			patch
sys/arch/hpcmips/conf/VR41XX			patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC_LAPTOP		patch
sys/arch/i386/conf/IOPENER			patch
sys/arch/i386/conf/SWINGER			patch
sys/arch/macppc/conf/GENERIC			patch
sys/arch/playstation2/conf/DEBUG		patch
sys/arch/prep/conf/GENERIC			patch
sys/arch/prep/conf/NATSUMI			patch
sys/arch/sparc64/conf/GENERIC32			patch
sys/dev/DEVNAMES				patch
sys/dev/usb/Makefile				patch
sys/dev/usb/files.usb				patch
sys/dev/usb/ukyopon.c				patch
sys/dev/usb/ukyopon.h				patch
sys/dev/usb/umodem.c				patch
sys/dev/usb/umodem_common.c			patch
sys/dev/usb/umodemvar.h				patch
sys/dev/usb/usbdevs				patch
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h 			regen

	Provide a backport for ukyopon(4) and pullup umodem(4) updates.
	[itohy, ticket #5754]
	
sys/dev/pci/if_fxp_pci.c			patch
sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add support for 82801FB 10/100 ethernet.
	[riz, ticket #5773]

sys/kern/kern_exec.c				patch

	Don't clear unconditionally P_SUGID when we exec. Clear it only when
	the real and effective user and group ids match.
	[dan, ticket #5924]

dist/ntp/ntpd/ntpd.c				1.8

	Use group-id from ``gr'' and not ``pw''.
	Fixes security issue addressed by CAN-2005-2496.
	[dan, ticket #5926]

sys/dev/scsipi/scsipi_ioctl.c			1.54

	Don't claim there is a data in or out phase if the datalen is 0
	(userland shouldn't claim it either, but a buggy software shouldn't
	be able to crash the kernel anyway). Should fix port-sparc64/31925
	by Johan A.van Zanten (which should really be kern/31925).
	Analysed and patch tested by Martin Husemann.
	[bouyer, ticket #5929]

usr.sbin/rpc.statd/stat_proc.c			1.7

	When forking, we keep a reference to the status db file, and if the
	memory copy of the file is dirty, is will be synced when the child
	exists.  But the parent may have done changes to the database in
	the meantime, resulting in a db corruption.
	Fix this by calling sync_file() just before the fork. The child
	will still have a reference to the db, but won't try to write it
	on exit.
	[bouyer, ticket #5930]

sys/miscfs/kernfs/kernfs_vnops.c		1.114 via patch

	Fix 64 bit truncation problem allowing to read arbitrary kernel memory.
	[christos, ticket #5952]

sys/kern/kern_time.c				patch

	Avoid time wrap when setting the system time.
	[christos, ticket #5966]

build.sh					patch

	Clean up environment to avoid side effects on builds.
	[jmc, ticket #5972]

sys/dev/ic/esiop.c				patch
sys/dev/ic/esiopvar.h				patch
sys/dev/ic/siop.c				patch
sys/dev/ic/siopvar.h				patch
sys/dev/ic/siopvar_common.h			patch
sys/dev/microcode/siop/esiop.ss			patch
sys/dev/microcode/siop/siop.ss			patch
sys/dev/microcode/siop/esiop.out		regen
sys/dev/microcode/siop/siop.out			regen

	Some drives disconnect after the last data phase without a save data 
	pointer message. In such case we would not update resid with the 
	proper value (eventually resid would not be updated at all if there 
	was only one data phase). To fix this, have the script save the offset 
	in the data tables at disconnect time if there was a transfer, and 
	use this to compute the resid if the current offset is 0. PR#31990" 
	[bouyer, ticket #5957]

usr.sbin/rpc.statd/statd.c			1.24

	rpc.statd doesn't save failed notifies in the database. PR#31502
	[bouyer, ticket #5959]

usr.sbin/rpc.statd/statd.c			1.25

	We can't call db->put() with key or data pointing back to db(3)'s memory
	space, or the database will be corrupted (noticed when the database is
	updated in reset_host()). Change change_host() to copy hostname and 
	HostInfo to local storage before calling db->put().
	Change notify_one() to use change_host() instead of calling db->put()
	directly.
	[bouyer, ticket #5970]

share/zoneinfo/asia				patch
share/zoneinfo/northamerica			patch
share/zoneinfo/southamerica			patch

	Update to tzdata2005o
	[kleink, ticket #5965]

sys/dev/ic/ninjascsi32.c			1.6

	- Fix diagnostic panic for unaligned DMA buffer.
	- Fix error cleanup path in attach.
	[itohy, ticket #5991]

dist/am-utils/libamu/mount_fs.c			patch

	Backout changes made for ticket #624. This fixes PR bin/27287.
	[bouyer, ticket #5994]

sys/arch/i386/pci/pchb_rnd.c			patch

	Improve code probing for the Intel hardware RNG to avoid false
	detections.
	[tron, ticket #6015]

usr.sbin/rpc.statd/statd.c			1.27

	Use sigaction(2) to setup automatic disposal of child processes after
	daemonizing. This is more portable and avoids zombie "rpc.statd"
	processes after an NFS client running e.g. Mac OS X shuts down.
	[tron, ticket #6037]

sys/netinet/in.c				1.105

	Close NULL dereference when a GIFALIAS is performed on a
	non existant address.
	[seanb, ticket #6040]

sys/arch/i386/pci/pchb_rnd.c			patch

	PR port-i386/33264: Fix build of kernels with the DIAGNOSTIC option
	defined in the kernel configuration.
	[tron, ticket #6049]

usr.sbin/rtadvd/rtadvd.c			patch

	Process Source Link-Layer Address (SLLA) option correctly.
	[martti, ticket #6074]

