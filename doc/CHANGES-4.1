#	$NetBSD: CHANGES-4.1,v 1.1.2.195 2010/01/27 21:10:16 bouyer Exp $

A complete list of changes from the NetBSD 4.0 release to the NetBSD 4.1
release:

File						Revision(s)
----						--------
gnu/usr.bin/groff/tmac/mdoc.local		patch
sys/sys/param.h					patch

	Welcome to 4.0_STABLE

sys/arch/amd64/amd64/bios32.c			1.6
sys/arch/amd64/amd64/mainbus.c			1.17
sys/arch/amd64/conf/GENERIC			1.151
sys/arch/amd64/conf/files.amd64			1.39 via patch
sys/arch/x86/x86/ipmi.c				1.12
sys/arch/x86/x86/ipmi.c				1.8
sys/dev/DEVNAMES				1.228

	Use PRIx64 for a 64-bit quantity instead of llx in a debug print.
	Add (commented-out) support for IPMI on amd64--pretty much copied straight
	from i386.
	Check for duplicate sensor names in the IPMI table.  If a duplicate name
	is found, try to make it unique by appending a count (1-99) to the sensor
	description (truncating, if necessary).
	[briggs, ticket #989]

sys/dev/raidframe/rf_netbsdkintf.c		1.231 via patch

	Implement dumping kernel cores to RAID 1 sets.  The component used
	for the dump is selected in this order of preference:
	   1) the master
	   2) a used_spare of the master
	   3) the slave
	   4) a used_spare of the slave
	[oster, ticket #1014]

sys/dev/pci/arcmsr.c				patch
sys/dev/pci/arcmsrvar.h				patch
sys/dev/pci/pcidevs				patch
sys/dev/pci/files.pci				patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/XEN2_DOM0			patch
sys/arch/i386/conf/INSTALL_LARGE		patch
sys/arch/amd64/conf/GENERIC			patch
sys/arch/amd64/conf/INSTALL			patch
share/man/man4/Makefile				patch
share/man/man4/arcmsr.4				patch
distrib/sets/lists/man/mi			patch

	Add the Areca Technology Corporation SATA RAID controller driver,
	ported from OpenBSD.
	[christos, ticket #1037]

xsrc/xfree/xc/lib/font/bitmap/pcfread.c		1.3

	Apply security fix for CVE-2008-0006.
	[tron, ticket #1047]

distrib/hp700/Makefile				1.3
distrib/hp700/sysnbsd/Makefile			1.1
distrib/notes/common/netboot			1.32
distrib/notes/common/sysinst			1.84
distrib/notes/common/xfer			1.61
distrib/notes/hp700/Makefile			1.2
distrib/notes/hp700/hardware			1.4
distrib/notes/hp700/install			1.2
distrib/notes/hp700/upgrade			1.2
distrib/notes/hp700/xfer			1.2

	Improve hp700 install notes somewhat.
	Actually build and install a SYSNBSD.
	[skrll, ticket #1035]

usr.bin/xargs/Makefile				1.4
usr.bin/xargs/pathnames.h			1.6
usr.bin/xargs/strnsubst.c			1.1
usr.bin/xargs/xargs.1				1.19
usr.bin/xargs/xargs.c				1.16, 1.18

	Bring in xargs from FreeBSD to gain -I, -J etc. but keep our
	GNU compatible exit values. Fixes PR#36154 and PR#37666.
	[apb, ticket #1036]

distrib/sets/lists/base/mi			1.712
distrib/sets/lists/comp/mi			1.1035
distrib/sets/lists/man/mi			1.1010
sys/netinet/tcp_usrreq.c			1.133
sys/netinet/tcp_var.h				1.148
usr.sbin/Makefile				1.228 via patch
usr.sbin/tcpdrop/Makefile			1.1
usr.sbin/tcpdrop/tcpdrop.8			1.1
usr.sbin/tcpdrop/tcpdrop.c			1.1 - 1.3

	Import tcpdrop(8) from OpenBSD
	[ghen, ticket #1039]

sys/arch/algor/algor/algor_p4032_intr.c		1.15, 1.17 via patch
sys/arch/algor/algor/algor_p5064_intr.c		1.18, 1.20 via patch
sys/arch/algor/algor/algor_p6032_intr.c		1.12, 1.14 via patch
sys/arch/algor/algor/locore_machdep.S		1.4
sys/arch/algor/dev/mcclock_mainbus.c		1.7
sys/arch/algor/isa/mcclock_isa.c		1.9
sys/arch/mips/mips/mips3_clock.c		1.8, 1.9

	Fix botch on MI todr(9) migration of algor on September 2006:
	initialize necessary values for mips3_delay().
	[tsutsui, ticket #1040]

sys/dev/ic/bt8xx.h				1.9
sys/dev/pci/bktr/bktr_audio.c			1.18
sys/dev/pci/bktr/bktr_core.c			1.46
sys/dev/pci/bktr/bktr_core.h			1.10
sys/dev/pci/bktr/bktr_os.c			1.49
sys/dev/pci/bktr/bktr_reg.h			1.18

	Don't assume that sizeof(long) == sizeof(int);
	makes bktr work on amd64.
	[jmcneill, ticket #1046]

sys/dev/usb/if_aue.c				1.107, 1.108 via patch	
sys/dev/usb/if_auereg.h				1.19, 1.20 via patch 

	Prevents hang on close by unprotected creation of the formerly used
	workqueue item.
	[is, ticket #1048]

sys/arch/x86/isa/clock.c			1.23 via patch

	fixes clock accounting problem in i8254_get_timecount that caused
	the auich auich_calibrate() function to get the wrong ac97 freq
	(may cause audio to play at wrong speed on some systems).
	[chuck, ticket #1049]

sys/netinet/tcp_usrreq.c			1.134

	Protect inet6_ident_core() with #ifdef INET6, fixes building without
	options INET6.
	[joerg, ticket #1057]

sys/dev/pci/azalia_codec.c			1.48

	When converting mixer values to hardware values, round up. This makes
	stepping and restore actually work.
	[joerg, ticket #982]

lib/libkvm/kvm_sparc64.c			1.11
sys/arch/sparc64/include/kcore.h		1.5
sys/arch/sparc64/sparc64/pmap.c			1.201

	Extend the sparc64 cpu kcore segment so that it records all kernel
	mappings done via locked 4 MB pages.
	[martin, ticket #983]

sys/dev/pci/uhci_pci.c				1.38

	Be paranoid about disabling interrupts and acknowledging any pending
	interrupts while attaching uhci. Fixes recent problems with uvm_fault
	during uhci attach.
	[gavan, ticket #1000]

sys/arch/xen/xen/isa_machdep.c			1.9
sys/arch/xen/xen/pciide_machdep.c		1.7

	Properly setup the IO APIC for ISA and pciide compat interrupts too.
	Makes ACPI kernels works again with pciide controllers in compat mode.
	[bouyer, ticket #1001]

sys/dev/pci/if_bnx.c				1.11

	Reprogram multicast filter after SIOCADDMULTI / SIOCDELMULTI.
	[dyoung, ticket #1011]

sys/dev/scsipi/cd.c				1.270
sys/fs/udf/udf_subr.c				1.42
sys/sys/cdio.h					1.29

	Fix panics on certain UDF disc mounts.
	[reinoud, ticket #1004]

etc/Makefile					1.347

	Remove MKUUCP from RELEASEVARS.  It is no longer used in src.
	[minskim, ticket #1005]

sys/netinet6/in6_src.c				1.40

	Fix ipv6 ephemeral port allocation.
	[yamt, ticket #1006]

sys/fs/msdosfs/msdosfs_vnops.c			1.43

	Fix msdos rename routine.
	[pooka, ticket #1007]

sys/fs/tmpfs/tmpfs_pool.c			1.11

	Fix a diagnostic panic if the pool allocator is called with NOWAIT.
	[pooka, ticket #1008]

sys/fs/tmpfs/tmpfs_vnops.c			1.43

	Fix a race condition in rename.
	[pooka, ticket #1010]

distrib/sets/lists/etc/mi			1.186
etc/Makefile					1.338
etc/login.conf					1.1-1.2

	Add a default login.conf.
	[elad, ticket #1012]

sys/arch/atari/dev/wdc_mb.c			1.29-1.30
        Apply missed following MI wdc changes to atari's mainbus wdc backend:
        - make bus space handles an array for each command register
          http://mail-index.netbsd.org/source-changes/2003/11/27/0036.html
          (note we no longer have to specify stride for wdc after this change)
        - add the notion of "shadow register"
          http://mail-index.netbsd.org/source-changes/2004/05/25/0048.html
        Problem reported by Alan Hourihane in PR#37464.
	[tsutsui, ticket #1013]

usr.sbin/postinstall/postinstall		1.56 via patch

	Update URLs after website reorganization in the motd check. PR#37070.
	[jnemeth, ticket #1022]

share/examples/puffs/ssshfs/ssshfs.c		patch

	Fix symlink creation, from Dieter Rolants in PR#37549
	[pooka, ticket #1023]

sbin/newfs/mkfs.c				1.104
sbin/newfs/mount_mfs.8				1.15

	PR#37503 - De Zeurkous -- inaccurate description of -s option
	PR#37155 - Marcelo Schmidt -- specifying too large of a size
	causes segvs
	[jnemeth, ticket #1024]

sys/arch/sun3/sun3/obmem.c			1.24

	Pass correct size to allocate struct obmem_softc. Fixes an
	occasional panic on my 3/80.
	[tsutsui, ticket #1025]

sys/arch/cobalt/cobalt/machdep.c		1.91

	In icu_intr_establish(), don't panic if the specified irq
	is already in use and just return NULL instead.
	[tsutsui, ticket #1026]

common/dist/zlib/inflate.c			1.4

	Disable a sanity check output buffer != NULL in _STANDALONE case.
	Some kernels are loaded at address 0x0 by bootloaders and
	output buffer address could be zero in such case.
	[tsutsui, ticket #1027]

sys/dev/ic/i82557.c				1.105
sys/dev/ic/i82557reg.h				1.19
sys/dev/ic/i82557var.h				1.36

	Pull several fixes from OpenBSD's fxp.c, fixing PR#30560 as
	well as random pool corruption.
	[tsutsui, ticket #1028]

usr.sbin/ndiscvt/ndiscvt.8			1.6

	PR#37604 - Danilo Vidovic -- we do have a ndis(4) man page
	[jnemeth, ticket #1029]

sys/arch/sparc64/sparc64/autoconf.c		1.147

	Fix unusued variable warning (depending on options).
	[martin, ticket #1030]

dist/nawk/lex.c					1.8

	Bring back the fix in revision 1.6, apparently accidentally lost 
	during last merge, to allow escape of a newline in string literals.
	[christos, ticket #1034]

usr.bin/systat/extern.h				1.38
usr.bin/systat/keyboard.c			1.24
usr.bin/systat/main.c				1.41

	don't call curses from a signal handler!
	[christos, ticket #1031]

sys/net/bpf_filter.c				1.34

	PR#37663: Guy Harris: bpf_validate rejects valid programs that use the
	multiply instruction
	[christos, ticket #1032]

sbin/fdisk/fdisk.c				1.114

	Add a sanity check to avoid possible division by zero, and
	adjust sector numbers _after_ "Sanity check the data against all
	zeroes".  PR#37656
	[tsutsui, ticket #1052]

sbin/fdisk/fdisk.c				1.107

	Don't print drive serial number if -S (setting shell variables)
	is specified.
	[tsutsui, ticket #1053]

games/larn/bill.c				1.9
games/larn/header.h				1.18 via patch
games/larn/main.c				1.21
games/larn/scores.c				1.16 via patch

	Since games are (now) setgid, not setuid, it is no longer necessary to
	manipulate the effective uid, only the effective gid.
	Use mkstemp to make the temporary files used when you win.
	[dholland, ticket #1067]

sys/dev/audio.c					1.233

	Don't enter an infinite loop in audio_read() when the sc->sc_rustream
	buffer is full.  Fixes kern/34659.
	[gson, ticket #1054]

sys/dev/usb/uhub.c				1.94

	Speed up uhub attachment considerably.
	[jmcneill, ticket #1056]

usr.sbin/services_mkdb/services_mkdb.8		1.6 via patch

	Update pathnames to the services and netgroups databases after
	their move to /var/db.
	[jnemeth, ticket #1033]

sys/arch/ews4800mips/conf/RAMDISK		1.7

	Disable agr(4) to shrink an install kernel.
	[tsutsui, ticket #1055]

sys/netipsec/ipsec_mbuf.c			1.10 via patch

	Avoid a buffer overrun which could crash a FAST_IPSEC kernel.
	PR#30124.
	[seanb, ticket #1015]

sys/dev/usb/ukbd.c				1.96

	Add support for function keys F16 to F19 as present on e.g. the new
	Apple aluminum keyboard. PR#37788.
	[tron, ticket #1060]

xsrc/xfree/xc/programs/Xserver/hw/xfree86/os-support/bsd/bsd_KbdMap.c 1.11
	Add another translation table to make the modular kbd driver cope  
	with our AT/PS2 pseudo XT scancodes. Tested on shark and sgimips
	with an IBM  Model M
	[macallan, ticket #1062]

sys/arch/hpcmips/conf/GENERIC			1.199
sys/arch/hpcmips/conf/TX3912			1.68
sys/arch/hpcmips/conf/TX3922			1.80
sys/arch/hpcmips/tx/tx39power.c			1.18
sys/arch/mips/mips/cache_tx39.c			1.6
sys/arch/mips/mips/locore_mips1.S		1.64

	Make GENERIC and TX3922 kernels boot on TX3922 based machines
	[tsutsui, ticket #1065]

sys/arch/hpcmips/conf/GENERIC			1.200
sys/arch/hpcmips/conf/LROUTER			1.36
sys/arch/hpcmips/conf/MPC303			1.48
sys/arch/hpcmips/conf/TX3912			1.69
sys/arch/hpcmips/conf/TX3922			1.81
sys/arch/hpcmips/conf/TX3922			1.82
sys/arch/hpcmips/conf/VR41XX			1.43

	Add options COMPAT_16, COMPAT_20 and COMPAT_30 to non-GENERIC kernels.
	Requested by Risto Sainio in PR#37911.
	Add a definition for Fujitsu PenCentra 200 and enable wsmouse at ucbtp.
	Tested and requested by Risto Sainio.
	[tsutsui, ticket #1066]

etc/namedb/root.cache				1.12, 1.13

	Update to 2008020400 version
	[ghen, ticket #1068]

distrib/notes/common/sysinst			patch
	fix hp700 addition
	[skrll, ticket #1071]

usr.bin/stat/stat.c				1.25

	Fix a segfault when doing 'stat -f %R' on the stdin file handle,
	instead fake the filename '(stdin)' like the %N format.
	[mlelstv, ticket #1072]

usr.sbin/postinstall/postinstall		1.57, 1.58

	Don't fail the X11 check if "/usr/X11R6/lib" doesn't exist. This is
	perfectly valid setup (e.g. no X11 or modular X11 from "pkgsrc").
	Avoid error message in "obsolete" check if "/usr/X11R6/lib"
	doesn't exist.
	[tron, ticket #1073]

sys/dev/pci/pcidevs				1.929
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data			regen

	Import PCI ids for the Matrox MGA G200e and the Intel E7230 and 82975X
	chipsets from OpenBSD.
	[tron, ticket #1074]

sys/arch/sh3/sh3/exception_vector.S		1.21 - 1.30
sys/arch/sh3/sh3/genassym.cf			1.11 - 1.12
sys/arch/sh3/sh3/pmap.c				1.63

	Implement fast path TLB miss handling.  Walk the page table without
	creating a trapframe, with exceptions disabled and using only BANK1
	registers.  If a valid pte is found, load it and return.  Otherwise
	create a trapframe and proceed to the full-blown C handler.
	[uwe, ticket #1075]

sys/kern/kern_malloc.c				1.117 via patch

	malloc: fix freelist corruption.
	[yamt, ticket #1076]

sys/arch/amd64/include/acpi_func.h		1.3

	Re-sync the (broken) amd64 ACPI Global Lock macros with their i386
	counterparts.
	[scw, ticket #1077]

share/man/man4/ddb.4				1.110, 1.111 via patch

	Add magic keyboard sequence for NetBSD-amd64.
	[tron, ticket #1079]

sys/netnatm/natm.c				1.13
sys/netnatm/natm_proto.c			1.10

	Properly define the domain, and #ifdef out the sysctl routine
	which does nothing.
	[jnemeth, ticket #1081]

sys/dev/usb/uplcom.c				1.59, 1.61 via patch
sys/dev/usb/usbdevs				patch
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h			regen

	Add some initialization magic from FreeBSD. This makes it work with
	the more recent PL2303 revision 4.
	[mlelstv, ticket #1088]

sbin/veriexecctl/veriexecctl.8:			patch

	reflect reality in the veriexecctl(8) man-page.
	[elad, ticket #1080]

share/man/man4/nfe.4				1.4
sys/dev/pci/if_nfe.c				1.22, 1.23, 1.25, 1.27
sys/dev/pci/if_nfereg.h				1.5, 1.6
sys/dev/pci/if_nfevar.h				1.5, 1.6
sys/dev/pci/pcidevs				1.914
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add NVIDIA MCP7[37] devices, from OpenBSD.
	Attach to NVIDIA MCP67/73 Ethernet controllers.
	Handle a quirk of newer MCP6x chips on reading MAC address.
	Fix from Richy Kim in PR#36576.
	Wakeup some newer chips from powerdown mode.
	via OpenBSD.
	Tested by wiz@ in PR#37868.
	[tsutsui, ticket #1061]

sys/arch/acorn32/stand/boot32/boot32.c		1.31

	Zero out the whole of the structure, not just the first 4 bytes.
	Now a small kernel will boot up on my RISC-PC.
	[chris, ticket #1063]

sys/arch/vax/vax/syscall.c			1.10

	Never ever trust the user.  Fix bug introduced in version 1.8 of  
	trap.c by ragge nearly 13 years ago.
	[matt, ticket #1090]

usr.bin/column/column.c				1.18

	Fix memory allocations in column. Fixes SegFault reported by
	Jeremy Reed on tech-misc.
	[oster, ticket #1089]

etc/rc.d/amd					1.15

	Don't try to shutdown amd(8) gracefully. It seems to cause problems
	for more people than the old (also broken) behavior. This fixes
	PR#36506 and PR#38103.
	[tron, ticket #1091]

lib/libc/locale/mbrlen.3			1.9

	bin/38047 fix bad prototype for function mbrlen
	[tnozaki, ticket #1093]

share/man/man9/uiomove.9	               patch
	Sync struct uio's documentation with reality in uiomove(9) to reflect
	the removal of uio_segflg and uio_procp.
	[elad, #1092]

sys/arch/ews4800mips/conf/RAMDISK		1.9

	Disable more options and file-systems to shrink install kernel.
	[tsutsui, ticket #1095]

sys/arch/cobalt/pci/pci_machdep.c		1.25
sys/arch/cobalt/stand/boot/cons.c		1.6

	Properly map the primary tulip Ethernet interrupt line on Qube2700
	cnscan() should return -1 (no input) if there is no console device,
	fix boot on Qube2700 (which doesn't have serial console).
	[tsutsui, ticket #1096]

sys/dev/pci/pcidevs				1.930
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen
sys/dev/pci/pucdata.c				1.53

	Support I-O DATA RSA-PCI 2 port serial board (in
	16550A compatible mode)
	[tsutsui, ticket #1097]

sys/dev/mii/rlphy.c				1.13

	Fix autonegotiation on 100BASE-TX on 8139C+ at boot time.
	This may also fix PR#34109.
	[tsutsui, ticket #1098]

sbin/newfs/newfs.8				1.71

	Fix small documentation bug as reported in PR#38192 :
	FFS  -> FFSv1
	UFS2 -> FFSv2
	[reinoud, ticket #1099]

lib/libc/stdlib/strfmon.c			1.5

	Avoid integer overflow; reported by Maksymilian Arciemowicz.   
	[mjf, ticket #1102]

sys/arch/i386/stand/bootxx/Makefile.bootxx	1.30

	Add EPIA_HACK so that boot loaders work on EDEN 5000 processors.
	[sborrill, ticket #1064]

sys/arch/i386/stand/bootxx/Makefile.bootxx	1.31

	Add -momit-leaf-frame-pointer, saves a few bytes.
	[dsl, ticket #1101]

bin/mt/mt.1					1.34

	Clarify that "mt offline" ejects tapes. Also some grammar and
	formatting fixes. PR#37727 from Randolf Richardson.
	[dholland, ticket #1100]

sys/dev/ic/ahcisata_core.c			1.6

	Move a delay() inside a loop, so that the 1s delay is really 1s.
	[bouyer, ticket #1082]

sys/arch/xen/include/xenio.h			1.6 via patch
sys/arch/xen/include/xenio3.h			1.2 via patch
sys/arch/xen/xen/privcmd.c			1.25 via patch

	Fix IOCTL_PRIVCMD_HYPERCALL issue which shows up with xen-3.1.3.
	Add a 'retval' member to the privcmd_hypercall_t argument.
	Handle the old IOCTL_PRIVCMD_HYPERCALL under COMPAT_40.
	[bouyer, ticket #1083]

sys/arch/xen/i386/xen_machdep.c			1.17-1.18

	Support root= as an alias for bootdev=, for consistency with multiboot
	support. Suggested by Pavel Cahyna.
	[bouyer, ticket #1084]

sys/dev/ic/ahcisata_core.c			1.8 via patch

	Add ATAPI support to ahcisata(4). lightly tested with a DVD burner,
	by mounting a CD and reading from it, and blanking a DVD-RW using
	cdrecord.
	[bouyer, ticket #1085]

sys/arch/xen/i386/xen_shm_machdep.c		1.3 via patch
sys/arch/xen/x86/xenfunc.c			1.4 via patch
sys/arch/xen/xen/pci_intr_machdep.c		1.4 via patch
sys/arch/xen/xen/pci_machdep.c			1.12 via patch
sys/arch/xen/xen/xbdback.c			1.30 via patch
sys/arch/xen/xen/xbdback_xenbus.c		1.14 via patch
sys/arch/xen/xen/xen_acpi_machdep.c		1.4 via patch
sys/arch/xen/xen/xenevt.c			1.20 via patch
sys/arch/xen/xen/xengnt.c			1.6 via patch
sys/arch/xen/xen/xennetback.c			1.31 via patch

	Add missing __KERNEL_RCSID()
	[bouyer, ticket #1086]

distrib/sets/lists/comp/md.i386			1.104 via patch
sys/arch/i386/Makefile				1.33 via patch
sys/arch/xen/include/Makefile			1.3 via patch
usr.bin/kdump/Makefile.ioctl-c			1.20 via patch

	Install xenio.h and xenio3.h in /usr/include/xen, for the benefit
	of xentools3.
	[bouyer, ticket #1087]

dist/bzip2/CHANGES:				patch
dist/bzip2/LICENSE:				patch
dist/bzip2/Makefile-libbz2_so:			patch
dist/bzip2/Makefile:				patch
dist/bzip2/README.COMPILATION.PROBLEMS:		patch
dist/bzip2/README.XML.STUFF:			patch
dist/bzip2/README:				patch
dist/bzip2/Y2K_INFO:				patch
dist/bzip2/blocksort.c:				patch
dist/bzip2/bz-common.xsl:			patch
dist/bzip2/bz-fo.xsl:				patch
dist/bzip2/bz-html.xsl:				patch
dist/bzip2/bzdiff.1:				patch
dist/bzip2/bzdiff:				patch
dist/bzip2/bzgrep.1:				patch
dist/bzip2/bzgrep:				patch
dist/bzip2/bzip.css:				patch
dist/bzip2/bzip2.1:				patch
dist/bzip2/bzip2.c:				patch
dist/bzip2/bzip2netbsd:				patch
dist/bzip2/bzip2recover.c:			patch
dist/bzip2/bzlib.c:				patch
dist/bzip2/bzlib.h:				patch
dist/bzip2/bzlib_private.h:			patch
dist/bzip2/bzmore.1:				patch
dist/bzip2/compress.c:				patch
dist/bzip2/crctable.c:				patch
dist/bzip2/decompress.c:			patch
dist/bzip2/dlltest.c:				patch
dist/bzip2/entities.xml:			patch
dist/bzip2/format.pl:				patch
dist/bzip2/huffman.c:				patch
dist/bzip2/manual.html:				patch
dist/bzip2/manual.texi:				patch
dist/bzip2/manual.xml:				patch
dist/bzip2/manual_1.html:			patch
dist/bzip2/manual_2.html:			patch
dist/bzip2/manual_3.html:			patch
dist/bzip2/manual_4.html:			patch
dist/bzip2/manual_abt.html:			patch
dist/bzip2/manual_ovr.html:			patch
dist/bzip2/manual_toc.html:			patch
dist/bzip2/mk251.c:				patch
dist/bzip2/randtable.c:				patch
dist/bzip2/spewG.c:				patch
dist/bzip2/unzcrash.c:				patch
dist/bzip2/words0:				patch
dist/bzip2/words2:				patch
dist/bzip2/words3:				patch
dist/bzip2/xmlproc.sh:				patch
distrib/sets/lists/base/shl.mi:			patch
distrib/sets/lists/man/mi:			patch
distrib/sets/lists/misc/mi:			patch
doc/3RDPARTY:					patch
lib/libbz2/Makefile:				patch
lib/libbz2/shlib_version:			patch

	Upgrade bzip2 to 1.0.5, fixing CVE-2008-1372 and CVE-2005-0953
	[adrianp, ticket #1106]
sys/arch/cobalt/dev/panel.c			1.16

	Print "NetBSD/cobalt Starting up...  " to LCD panel on boot, and also
	print "NetBSD/cobalt Shutting donw..." on halt via shutdown hook.
	This would be useful for users who don't have serial console.
	[tsutsui, ticket #1103]

sys/arch/cobalt/cobalt/machdep.c		1.93 via patch

	Fix botched spl(9) bug I introduced back in 3.99.18 (rev 1.64):
	Don't enable unhandled interrupts before all interrupts are processed.
	Should fix "long download, network frozen" problems reported on
	port-cobalt by several people.
	[tsutsui, ticket #1104]

sys/dev/ic/rtl8169.c				1.94, 1.95, 1.97, 1.98
sys/dev/ic/rtl81x9reg.h				1.28

	It looks vlan tag info must appear not only in the first descriptor
	but in all descriptors of a multi-descriptor transmission attempt on
	re(4).  Problem was reported and fix was confirmed by Chris Brookes
	on tech-net.  Should also close PR#37959.
	Other various, cosmetic fixes.
	[tsutsui, ticket #1105]

sys/secmodel/overlay/overlay.h			1.2
sys/secmodel/overlay/secmodel_overlay.c		1.4 via patch

	Support device scope.
	[elad, ticket #1108]

sys/dev/ata/wd.c				1.359
	The Hitachi HDP725025GLA380 returns "aborted command" instead of
	"id not found" when hitting the LBA48 bug, so also install the
	LBA48 bug workaround on "aborted command" errors.
	[bouyer, ticket #1094]

share/man/man4/rum.4				1.4
	Correct firmware path in rum(4). 
	PR#38216 from Nicola Mingotti.
	[dholland, ticket #1110]

sys/dev/mii/rlphy.c				1.14-1.15
	Prepare sc_rtl8201l flag in softc and use it in rlphy_status() so that
	we don't have to check device names of device_parent(). From FreeBSD.
	PR#38234.
	[tsutsui, ticket #1111]

sys/netinet/ip_input.c				1.263 via patch
sys/netinet/tcp_subr.c				1.225 via patch
	Make sure we send a reasonable fragment size when IPSEC is configured.
	Otherwise we end up sending a dubious "0" whenever we cannot find a
	proper association for the packet.
	Reset sack_newdata along with snd_nxt to avoid improper integer
	arithmetics that lead to sending data from an incorrect place in the
	stream, making it appear as corrupted.
	[cube, ticket #1109]

crypto/dist/ssh/channels.c			1.38 via patch
crypto/dist/ssh/session.c			1.45 via patch
crypto/dist/ssh/sshd_config.5		1.14 via patch
	Fix two vulnerabilities in OpenSSH:
	- X11 forwarding information disclosure (CVE-2008-1483)
	- ForceCommand bypass vulnerability
	[adrianp, ticket #1113]

crypto/dist/ssh/auth-options.c			1.8 via patch
crypto/dist/ssh/auth-options.h			1.4 via patch
crypto/dist/ssh/session.c			1.46 via patch
crypto/dist/ssh/sshd.8				1.39 via patch
	Add no-user-rc option which disables execution of ~/.ssh/rc
	(backport from OpenSSH 4.9)
	[adrianp, ticket #1114]

lib/libc/stdlib/strfmon.c			1.6
	Fix another integer overflow issue discovered by Maksymilian
	Arciemowicz.  On top of this, limit the range of getnumber to
	0x00ffffff to make sure that adding two of them does not cause
	an integer overflow.
	[mjf, ticket #1115]

sys/dev/vnd.c					1.174
	Add disk-info properties to vnd(4), for use by userland tools
	such as gpt(8).
	[riz, ticket #1116]

sbin/gpt/add.c					1.5
sbin/gpt/create.c				1.3
sbin/gpt/destroy.c				1.3
sbin/gpt/gpt.c					1.4-1.6
sbin/gpt/label.c				1.5-1.6
sbin/gpt/migrate.c				1.4
sbin/gpt/recover.c				1.3
sbin/gpt/remove.c				1.4
sbin/gpt/show.c					1.3
	Improve gpt(8) error and usage messages.
	[riz, ticket #1117]

etc/MAKEDEV.tmpl				1.100 via patch
	Create drvctl as part of 'all'.
	[riz, ticket #1118]

sbin/gpt/add.c					1.6
sbin/gpt/gpt.c					1.7
sbin/gpt/show.c					1.4
sys/dev/dkwedge/dkwedge_gpt.c			1.7
sys/sys/disk.h					1.47
sys/sys/disklabel_gpt.h				1.4
	Add NetBSD GPT partition types for swap, ffs, lfs, raidframe,
	and cgd.  gpt(8) now defaults to NetBSD ffs if no type is
	given, but previous FreeBSD types are still recognized in
	the DKWEDGE_AUTODISCOVER code.
	[riz, ticket #1119]

lib/libc/gdtoa/dmisc.c				1.4
lib/libc/gdtoa/gdtoa.c				1.4
lib/libc/gdtoa/gethex.c				1.4
lib/libc/gdtoa/misc.c				1.4
lib/libc/gdtoa/strtof_vaxf.c			1.4-1.5
lib/libc/gdtoa/strtopQ.c			1.4
lib/libc/gdtoa/strtopx.c			1.4
lib/libc/gdtoa/strtopxL.c			1.4
lib/libc/gdtoa/strtord.c			1.4
lib/libc/gdtoa/dtoa.c				1.5
lib/libc/gdtoa/strtod.c				1.5
lib/libc/gdtoa/g_Qfmt.c				1.3
lib/libc/gdtoa/g_xLfmt.c			1.3
lib/libc/gdtoa/g_xfmt.c				1.3
lib/libc/gdtoa/smisc.c				1.3
lib/libc/gdtoa/strtof.c				1.3
lib/libc/gdtoa/strtorQ.c			1.3
lib/libc/gdtoa/strtorx.c			1.3
lib/libc/gdtoa/strtorxL.c			1.3
lib/libc/gdtoa/g_ddfmt.c			1.2
lib/libc/gdtoa/g_dfmt.c				1.2
lib/libc/gdtoa/g_ffmt.c				1.2
lib/libc/gdtoa/strtoIQ.c			1.2
lib/libc/gdtoa/strtoId.c			1.2
lib/libc/gdtoa/strtoIdd.c			1.2
lib/libc/gdtoa/strtoIf.c			1.2
lib/libc/gdtoa/strtoIg.c			1.2
lib/libc/gdtoa/strtoIx.c			1.2
lib/libc/gdtoa/strtoIxL.c			1.2
lib/libc/gdtoa/strtodI.c			1.2
lib/libc/gdtoa/strtodnrp.c			1.2
lib/libc/gdtoa/strtopd.c			1.2
lib/libc/gdtoa/strtopdd.c			1.2
lib/libc/gdtoa/strtopf.c			1.2
lib/libc/gdtoa/strtordd.c			1.2
lib/libc/gdtoa/strtorf.c			1.2
lib/libc/gdtoa/sum.c				1.2
lib/libc/gdtoa/gdtoa.h				1.8
lib/libc/gdtoa/hdtoa.c				1.6
lib/libc/gdtoa/strtodg.c			1.6
lib/libc/stdio/vfwprintf.c			1.12
	Don't coredump on out of memory conditions. This solution leaks,
	but gdtoa is too complicated to fix.
	Try printf %99999999999.9999999999f 2
	[mjf, ticket #1120]

sys/kern/kern_ktrace.c				1.112.4.1
sys/kern/kern_sa.c				1.87.4.9
sys/sys/ktrace.h				1.45.4.1
	Pass an array of pointers in kernel VM space to ktrsaupcall for it
	to create the ktrace record instead of trying to access a pointer
	in userland.
	Fixes PR#37534
	[skrll, ticket #1121]

crypto/dist/openssl/crypto/bn/bn_mont.c		1.2

	Fix for CVE-2007-3108.
        The BN_from_montgomery function in crypto/bn/bn_mont.c in
	OpenSSL 0.9.8e and earlier does not properly perform Montgomery
	multiplication, which might allow local users to conduct
	a side-channel attack and retrieve RSA private keys.
	[adrianp, ticket #1123]

dist/tcpdump/print-802_11.c			patch
dist/tcpdump/print-bgp.c			patch
dist/tcpdump/print-isoclns.c			patch

	Fix CVE-2007-1218, CVE-2007-3798 and CAN-2005-1278 in base-tcpdump.
	[tonnerre, ticket #1124]

sys/dev/pci/agp_ali.c				1.14

	Fix infinite loop with AGP on Ali M1689 (from PR/38269 and PR/35416),
	by disallowing aperture size values below 1MB.
	[njoly, ticket #1125]

sys/dev/raidframe/rf_driver.c			1.117

	Fix display of total number of sectors if > 2^32 on 32-bit machines
	[sborrill, ticket #1126]

sys/dev/raidframe/rf_reconstruct.c		1.103

	Fixes the (mostly cosmetic) bug where the reconstruction
	status values stop updating, and from raidctl it appears that
	reconstruction has totally stalled (which it actually hasn't).
	[oster, ticket #1127]

distrib/sets/lists/man/mi			1.1062, 1.1063 via patch
share/man/man4/Makefile				1.460 via patch
share/man/man4/lii.4				1.1 via patch
sys/arch/i386/conf/ALL				1.161 via patch
sys/arch/i386/conf/GENERIC			1.885 via patch
sys/arch/i386/conf/INSTALL			1.323 via patch
sys/arch/i386/conf/XEN2_DOM0			1.43 via patch
sys/dev/DEVNAMES				1.238 via patch
sys/dev/pci/files.pci				1.303 via patch
sys/dev/pci/if_lii.c				1.1, 1.3 via patch
sys/dev/pci/if_lii.c				1.3 via patch
sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add a driver for the Atheros/Attansic L2 Fast-Ethernet chip found on a
	series of hardware that includes Asus's famous EeePC.
	[sborrill, ticket #1128]

gnu/dist/binutils/bfd/elf32-vax.c		1.5.6.1
gnu/dist/binutils/gas/config/tc-vax.c		1.4.4.1.2.1
gnu/dist/binutils/gas/config/tc-vax.h		1.1.1.1.18.1
gnu/dist/gcc4/gcc/config/vax/builtins.md	1.2.10.2
gnu/dist/gcc4/gcc/config/vax/elf.h		1.1.1.1.6.1
gnu/dist/gcc4/gcc/config/vax/netbsd-elf.h	1.1.1.1.6.1
gnu/dist/gcc4/gcc/config/vax/predicates.md	1.3.10.2
gnu/dist/gcc4/gcc/config/vax/vax-protos.h	1.1.1.1.6.1
gnu/dist/gcc4/gcc/config/vax/vax.c		1.1.1.1.6.1
gnu/dist/gcc4/gcc/config/vax/vax.h		1.2.6.1
gnu/dist/gcc4/gcc/config/vax/vax.md		1.1.1.1.4.1.2.1
gnu/dist/gcc4/gcc/config/vax/vax.opt		1.1.1.1.6.1
gnu/lib/crtstuff4/Makefile			1.1.6.1
gnu/lib/libgcc4/libgcc/Makefile			1.2.6.1
lib/libcrypto/Makefile				1.46.4.2
share/mk/bsd.own.mk				1.489.4.3
sys/arch/vax/boot/Makefile.inc			1.12.16.1
sys/arch/vax/conf/Makefile.vax			1.77.22.1
sys/arch/vax/include/macros.h			1.37.14.1
sys/lib/libkern/libkern.h			1.67.6.1
tools/gcc/Makefile				1.22.4.1

	Pullup changes to get vax shlibs working from the wrstuden-fixsa branch.
	[skrll, ticket #1129]

sys/dev/pcmcia/esp_pcmcia.c			1.30

	Fix kernel panics on attach. Fix kern/34537 (and part of kern/26909).
	[itohy, ticket #1130]

sys/arch/i386/bios/vesafb.c			1.27

	Disable splashscreen during autoconf in a number of scenarios.
	[sborrill, ticket #1135]

sys/dev/isa/if_fmv_isa.c			1.12

	Fix a botch (inverted test) in rev 1.4.
	[tsutsui, ticket #1131]

sys/arch/sparc/stand/common/conf.c		1.2
sys/arch/sparc/stand/common/promdev.c		1.21

	Add support booting from UFS2 partition for sparc.
	Tested on tme emulating SS2.
	Closes PR#36068.
	[tsutsui, ticket #1132]

usr.bin/gzip/znew				1.3

	Our gzip does not have "-o" option.
	So replace -o with >, so that znew can now work again.
	[nakayama, ticket #1133]

usr.bin/gzip/zgrep				1.6

	grep "-H" option (print the filename for each match) always prints
	filenames whether "-h" option (suppress filenames when multiple files
	are searched) is specified or not.
	Make zgrep "-h" option actually work with using "-H" option only
	when "-h" is not specified.
	Fixes PR#36062.
	[nakayama, ticket #1134]

usr.sbin/lpr/common_source/common.c		1.38

	Sort queue by time and jobid so that jobs submitted within the
	same second are printed in order.
	[mlelstv, ticket #1136]

sys/netipsec/key.c				1.54

	In key_do_allocsa_policy, fix a bad usage of key_setsadbmsg.
	The third argument is an SADB_SATYPE_*, not an IPPROTO_* .
	Fixes PR#38405
	[degroote, ticket #1137]

gnu/dist/gcc4/gcc/config/m68k/m68k.md		1.5

	Pull the follwoing fix from upstream:
	  http://gcc.gnu.org/viewcvs/trunk/gcc/config/m68k/m68k.md#rev117181
	Fixes "internal compiler error: in do_SUBST" on compiling
	floating point ops with -msoft-float or -m68010 on LP64 hosts,
	May fix PR#38359.
	[tsutsui, ticket #1138]

gnu/dist/gcc4/gcc/genemit.c			1.2
gnu/dist/gcc4/gcc/genrecog.c			1.2
gnu/dist/gcc4/gcc/hwint.h			1.2

	Defer wide int L/LL suffix choice in insn-*.c until we compile for
	host using correct set of HOST_WIDE_INT* defines.  Fixes compilation
	of native sh3 gcc on 64-bit build machines.
	PR#34549.
	[uwe, ticket #1139]

sys/dev/raidframe/rf_layout.c			1.20

	Both StripeUnitsPerParityUnit and StripeUnitsPerReconstructUnit need
	to be positive integers.
	[oster, ticket #1140]

sys/arch/x86/isa/clock.c			1.25 via patch

	unbreak i8254_get_timecount() in environments where the
	clock interrupt is derived from other sources (e.g. lapic)
	and the i8254 timer is running the full cycle without
	being used as clock interrupt source.
	[kardel, ticket #1058]

sys/netinet/ip_mroute.c				1.113

	Make sure to clear csum_flags before forward the packet.
	Fix DIAGNOSTIC kernel's panic when the machine act
	as multicast router.
	[taca, ticket #1141]

sys/dev/pci/pci_map.c				1.21

	allow pci_find_mem to map a 64-bit BAR.
	[sborrill, ticket #1142]

share/man/man4/aac.4				1.13 via patch
sys/dev/pci/aac_pci.c				1.25 via patch
sys/dev/pci/pcidevs				1.939 via patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add support for IBM ServeRAID 8k (and 8k-l)
	[sborrill, ticket #1143]

sys/dev/pci/if_bge.c				1.144 via patch

	Check wether interrupts originate from the bge hardware.
	Fixes PR kern/33433.
	[mlelstv, ticket #1144]

usr.bin/getent/getent.1				1.17 via patch
usr.bin/getent/getent.c				1.14 via patch

	Add support for "netgroup" database. The output format matches what
	Linux produces (because Solaris doesn't support this).
	[tron, ticket #1147]

libexec/mail.local/mail.local.c			1.24

	Make sure temporary errors are reported as such, using status code
	EX_TEMPFAIL (cannot lookup user through NSS, may be because of an
	unreachable NIS or LDAP server), or EX_OSERR (other file or memory
	related problems).
	[manu, ticket #1148]

share/man/man4/gem.4			1.5,1.6 via patch
sys/arch/sparc64/conf/GENERIC		1.97 via patch
sys/dev/ic/gem.c			1.59,1.61-1.68,1.70-1.73 via patch
sys/dev/ic/gemreg.h			1.11 via patch
sys/dev/ic/gemvar.h			1.16,1.18 via patch
sys/dev/mii/bmtphy.c			1.24 via patch
sys/dev/pci/if_gem_pci.c		1.25,1.27 via patch
sys/dev/pci/pcidevs	1.12		via patch
sys/dev/pci/pcidevs.h			regenerate
sys/dev/pci/pcidevs_data.h		regenerate

	Add support for Sun PCI X1141A (SX fibre) cards.
	Add improvements to the driver.
	Disable HW UDP4 and RX TCP4 checksums because they are buggy (PR#34799).
	Add improvements to bmtphy.
	[jdc, ticket #1145]

sys/dev/i2o/iop.c			patch
	Fix crash during boot on systems with an I2O controller.
	Fix port-amd64/34323
	[ad, ticket #1146]

sys/kern/uipc_usrreq.c				1.110, 1.111 via patch

	If cm->cmsg_len is not valid for unp_internalize do not use it to
	work out where the data is in unp_scan.  Fixes PR/38391
	[mlelstv, ticket #1151]

sys/arch/sparc64/sparc64/autoconf.c		1.155

	Treat ledma the same way as sbus and dma when looking for the boot path.
	Original Ultra 1's with sbus -> ledma -> le can now network boot again.
	(From martin@).
	[jdc, ticket #1152]

sys/dev/raidframe/rf_reconmap.c			1.31
sys/dev/raidframe/rf_reconmap.h			1.11
sys/dev/raidframe/rf_reconstruct.c		1.104
sys/dev/raidframe/rf_reconstruct.h		1.24
sys/dev/raidframe/rf_revent.c			1.25

	Convert the reconstruction code to use a "sliding status window"
	which will scale nicely regardless of the number of
	stripes/reconstruction units in the RAID set.  Convert the main
	reconstruction loop to rebuild the array in chunks rather than in
	one big lump. May fix bin/38471. 
	[oster, ticket #1153]

sys/dev/raidframe/rf_states.c			1.43

	Add in a missing "bp->b_resid = bp->b_bcount" in the EIO case.
	Spotted by Juergen Hannken-Illjes.  Thanks!
	[oster, ticket #1154]

distrib/sets/lists/xbase/mi			1.57
distrib/sets/lists/xbase4/mi			1.21
share/man/man4/pckbd.4				1.15
sys/dev/pckbport/wskbdmap_mfii.c		1.15
sys/dev/sun/wskbdmap_sun.c			1.15
sys/dev/usb/ukbdmap.c				1.20
sys/dev/wscons/wsksymdef.h			1.61
x11/bin/xkbcomp/symbols/Makefile		1.6
x11/bin/xkbcomp/symbols/pc/Makefile		1.5
xsrc/xfree/xc/programs/xkbcomp/symbols/colemak	1.1
xsrc/xfree/xc/programs/xkbcomp/symbols/pc/colemak 1.1

	Add support for the Colemak keyboard layout.
	[ghen, ticket #1155]

sys/dev/pci/if_ipw.c				1.40

	PR#34477: Don't dereference ni_chan if it points to the special
	``any channel'' token IEEE80211_CHAN_ANYC
	[jmcneill, ticket #1156]

bin/sh/eval.c					1.90

	Port revision 1.44 of "src/bin/sh/eval.c" from FreeBSD to fix
	PR bin/38584: exit if set -e is active an a pipeline fails.
	[tron, ticket #1157]

sys/arch/m68k/m68k/pmap_motorola.c		1.22

	Allow pmap_enter_ptpage to fail, sometimes. Pass WAIT/NOWAIT flags and
	fix some obvious locking problems. Fix panic reported in
	http://mail-index.netbsd.org/tech-kern/2006/12/12/0000.html
	[hauke, ticket #1158]

gnu/dist/binutils/bfd/tekhex.c			1.2

	Fix for PR #33551 (a.k.a CVE-2006-2362)
	Back port from the binutils CVS tree.
	Buffer overflow in getsym in tekhex.c in libbfd in Free Software
	Foundation GNU Binutils before 20060423, as used by GNU strings,
	allows context-dependent attackers to cause a denial of service
	(application crash) and possibly execute arbitrary code via a file
	with a crafted Tektronix Hex Format (TekHex) record in which the
	length character is not a valid hexadecimal character.
	[adrianp, ticket #1160]

sys/arch/sparc64/sparc64/locore.s		1.280

	Close unterminated comment.
	Fix unexpected behavior in case of loadfpstate from unaligned buffer.
	[nakayama, ticket #1159]

sys/dev/pci/auvia.c				1.66

	VT8233+ uses a different register base for capturing,
	tested by sborrill
	[sborrill, ticket #1161]

sys/dev/pci/azalia_codec.c			1.67

	Commit patch from jmcneill@ to fix "No sound on Thinkpad azalia"
	Definitely fixes a T60p, and hopefully will fix PR#37141
	for an R61 also
	[abs, ticket #1162]

dist/bind/CHANGES				patch
dist/bind/COPYRIGHT				patch
dist/bind/FAQ					patch
dist/bind/FAQ.xml				patch
dist/bind/Makefile.in				patch
dist/bind/README				patch
dist/bind/config.h.in				patch
dist/bind/configure				patch
dist/bind/configure.in				patch
dist/bind/version				patch
dist/bind/bin/check/check-tool.c		patch
dist/bind/bin/check/named-checkconf.8		patch
dist/bind/bin/check/named-checkconf.docbook	patch
dist/bind/bin/check/named-checkconf.html	patch
dist/bind/bin/check/named-checkzone.8		patch
dist/bind/bin/check/named-checkzone.c		patch
dist/bind/bin/check/named-checkzone.docbook	patch
dist/bind/bin/check/named-checkzone.html	patch
dist/bind/bin/dig/dig.1				patch
dist/bind/bin/dig/dig.c				patch
dist/bind/bin/dig/dig.docbook			patch
dist/bind/bin/dig/dig.html			patch
dist/bind/bin/dig/dighost.c			patch
dist/bind/bin/dig/host.1			patch
dist/bind/bin/dig/host.c			patch
dist/bind/bin/dig/host.docbook			patch
dist/bind/bin/dig/host.html			patch
dist/bind/bin/dig/nslookup.1			patch
dist/bind/bin/dig/nslookup.c			patch
dist/bind/bin/dig/nslookup.docbook		patch
dist/bind/bin/dig/nslookup.html			patch
dist/bind/bin/dig/include/dig/dig.h		patch
dist/bind/bin/dnssec/dnssec-keygen.8		patch
dist/bind/bin/dnssec/dnssec-keygen.c		patch
dist/bind/bin/dnssec/dnssec-keygen.docbook	patch
dist/bind/bin/dnssec/dnssec-keygen.html	patch
dist/bind/bin/dnssec/dnssec-signzone.8		patch
dist/bind/bin/dnssec/dnssec-signzone.c		patch
dist/bind/bin/dnssec/dnssec-signzone.docbook	patch
dist/bind/bin/dnssec/dnssec-signzone.html	patch
dist/bind/bin/named/client.c			patch
dist/bind/bin/named/config.c			patch
dist/bind/bin/named/control.c			patch
dist/bind/bin/named/lwresd.8			patch
dist/bind/bin/named/lwresd.docbook		patch
dist/bind/bin/named/lwresd.html			patch
dist/bind/bin/named/named.8			patch
dist/bind/bin/named/named.conf.5		patch
dist/bind/bin/named/named.conf.docbook		patch
dist/bind/bin/named/named.conf.html		patch
dist/bind/bin/named/named.docbook		patch
dist/bind/bin/named/named.html			patch
dist/bind/bin/named/query.c			patch
dist/bind/bin/named/server.c			patch
dist/bind/bin/named/update.c			patch
dist/bind/bin/nsupdate/nsupdate.8		patch
dist/bind/bin/nsupdate/nsupdate.c		patch
dist/bind/bin/nsupdate/nsupdate.docbook		patch
dist/bind/bin/nsupdate/nsupdate.html		patch
dist/bind/bin/rndc/Makefile.in			patch
dist/bind/bin/rndc/rndc-confgen.docbook		patch
dist/bind/bin/rndc/rndc.8			patch
dist/bind/bin/rndc/rndc.conf.5			patch
dist/bind/bin/rndc/rndc.conf.docbook		patch
dist/bind/bin/rndc/rndc.conf.html		patch
dist/bind/bin/rndc/rndc.docbook			patch
dist/bind/bin/rndc/rndc.html			patch
dist/bind/bin/tests/compress_test.c		patch
dist/bind/bin/tests/journalprint.c		patch
dist/bind/bin/tests/system/start.sh		patch
dist/bind/bin/tests/system/stop.sh		patch
dist/bind/bin/tests/system/checknames/ns2/named.conf patch
dist/bind/bin/tests/system/checknames/ns3/named.conf patch
dist/bind/bin/tests/system/dlv/ns5/named.conf	patch
dist/bind/bin/tests/system/dnssec/ns4/named.conf patch
dist/bind/bin/tests/system/dnssec/ns5/named.conf patch
dist/bind/bin/tests/system/dnssec/ns6/named.conf patch
dist/bind/bin/tests/system/lwresd/lwtest.c	patch
dist/bind/bin/tests/system/lwresd/tests.sh	patch
dist/bind/bin/tests/system/notify/ns3/named.conf patch
dist/bind/bin/tests/system/nsupdate/ns2/named.conf patch
dist/bind/bin/tests/system/resolver/ns1/named.conf patch
dist/bind/bin/tests/system/rrsetorder/ns3/named.conf patch
dist/bind/bin/tests/system/stress/ns3/named.conf patch
dist/bind/bin/tests/system/stress/ns4/named.conf patch
dist/bind/bin/tests/system/stub/ns3/named.conf	patch
dist/bind/bin/tests/system/upforwd/ns1/named.conf patch
dist/bind/bin/tests/system/upforwd/ns2/named.conf patch
dist/bind/bin/tests/system/upforwd/ns3/named.conf patch
dist/bind/bin/tests/system/v6synth/ns2/named.conf patch
dist/bind/bin/tests/system/v6synth/ns3/named.conf patch
dist/bind/bin/tests/system/xfer/ns3/named.conf	patch
dist/bind/bin/win32/BINDInstall/BINDInstallDlg.cpp patch
dist/bind/contrib/dbus/dbus_mgr.c		patch
dist/bind/contrib/dbus/dbus_service.c		patch
dist/bind/contrib/dbus/dbus_service.h		patch
dist/bind/contrib/dlz/bin/dlzbdb/Makefile.in	patch
dist/bind/contrib/queryperf/configure		patch
dist/bind/contrib/queryperf/configure.in	patch
dist/bind/contrib/queryperf/queryperf.c		patch
dist/bind/contrib/sdb/pgsql/zonetodb.c		patch
dist/bind/doc/arm/Bv9ARM-book.xml		patch
dist/bind/doc/arm/Bv9ARM.ch01.html		patch
dist/bind/doc/arm/Bv9ARM.ch02.html		patch
dist/bind/doc/arm/Bv9ARM.ch03.html		patch
dist/bind/doc/arm/Bv9ARM.ch04.html		patch
dist/bind/doc/arm/Bv9ARM.ch05.html		patch
dist/bind/doc/arm/Bv9ARM.ch06.html		patch
dist/bind/doc/arm/Bv9ARM.ch07.html		patch
dist/bind/doc/arm/Bv9ARM.ch08.html		patch
dist/bind/doc/arm/Bv9ARM.ch09.html		patch
dist/bind/doc/arm/Bv9ARM.ch10.html		patch
dist/bind/doc/arm/Bv9ARM.html			patch
dist/bind/doc/arm/Bv9ARM.pdf			patch
dist/bind/doc/arm/Makefile.in			patch
dist/bind/doc/arm/man.dig.html			patch
dist/bind/doc/arm/man.dnssec-keygen.html	patch
dist/bind/doc/arm/man.dnssec-signzone.html	patch
dist/bind/doc/arm/man.host.html			patch
dist/bind/doc/arm/man.named-checkconf.html	patch
dist/bind/doc/arm/man.named-checkzone.html	patch
dist/bind/doc/arm/man.named.html		patch
dist/bind/doc/arm/man.rndc-confgen.html		patch
dist/bind/doc/arm/man.rndc.conf.html		patch
dist/bind/doc/arm/man.rndc.html			patch
dist/bind/doc/misc/Makefile.in			patch
dist/bind/doc/misc/migration			patch
dist/bind/doc/rfc/index				patch
dist/bind/doc/xsl/isc-manpage.xsl.in		patch
dist/bind/lib/bind/api				patch
dist/bind/lib/bind/config.h.in			patch
dist/bind/lib/bind/configure			patch
dist/bind/lib/bind/configure.in			patch
dist/bind/lib/bind/port_before.h.in		patch
dist/bind/lib/bind/dst/dst_api.c		patch
dist/bind/lib/bind/dst/hmac_link.c		patch
dist/bind/lib/bind/irs/gai_strerror.c		patch
dist/bind/lib/bind/irs/irs_data.c		patch
dist/bind/lib/bind/isc/ctl_clnt.c		patch
dist/bind/lib/bind/make/rules.in		patch
dist/bind/lib/bind/nameser/ns_parse.c		patch
dist/bind/lib/bind/resolv/res_data.c		patch
dist/bind/lib/bind/resolv/res_init.c		patch
dist/bind/lib/bind9/api				patch
dist/bind/lib/bind9/check.c			patch
dist/bind/lib/bind9/win32/DLLMain.c		patch
dist/bind/lib/dns/adb.c				patch
dist/bind/lib/dns/api				patch
dist/bind/lib/dns/dispatch.c			patch
dist/bind/lib/dns/dnssec.c			patch
dist/bind/lib/dns/journal.c			patch
dist/bind/lib/dns/lookup.c			patch
dist/bind/lib/dns/master.c			patch
dist/bind/lib/dns/message.c			patch
dist/bind/lib/dns/openssl_link.c		patch
dist/bind/lib/dns/openssldh_link.c		patch
dist/bind/lib/dns/openssldsa_link.c		patch
dist/bind/lib/dns/rbtdb.c			patch
dist/bind/lib/dns/rdataslab.c			patch
dist/bind/lib/dns/resolver.c			patch
dist/bind/lib/dns/rootns.c			patch
dist/bind/lib/dns/sdb.c				patch
dist/bind/lib/dns/sdlz.c			patch
dist/bind/lib/dns/tsig.c			patch
dist/bind/lib/dns/validator.c			patch
dist/bind/lib/dns/view.c			patch
dist/bind/lib/dns/xfrin.c			patch
dist/bind/lib/dns/zone.c			patch
dist/bind/lib/dns/include/dns/db.h		patch
dist/bind/lib/dns/include/dns/dispatch.h	patch
dist/bind/lib/dns/include/dns/validator.h	patch
dist/bind/lib/dns/rdata/generic/dlv_32769.c	patch
dist/bind/lib/dns/rdata/generic/ds_43.c		patch
dist/bind/lib/dns/win32/DLLMain.c		patch
dist/bind/lib/dns/win32/libdns.def		patch
dist/bind/lib/isc/Makefile.in			patch
dist/bind/lib/isc/api				patch
dist/bind/lib/isc/hmacsha.c			patch
dist/bind/lib/isc/mem.c				patch
dist/bind/lib/isc/timer.c			patch
dist/bind/lib/isc/include/isc/platform.h.in	patch
dist/bind/lib/isc/include/isc/string.h		patch
dist/bind/lib/isc/powerpc/include/isc/atomic.h	patch
dist/bind/lib/isc/unix/ifiter_getifaddrs.c	patch
dist/bind/lib/isc/unix/ifiter_ioctl.c		patch
dist/bind/lib/isc/unix/net.c			patch
dist/bind/lib/isc/unix/socket.c			patch
dist/bind/lib/isc/unix/syslog.c			patch
dist/bind/lib/isc/win32/DLLMain.c		patch
dist/bind/lib/isc/win32/condition.c		patch
dist/bind/lib/isc/win32/interfaceiter.c		patch
dist/bind/lib/isc/win32/libisc.def		patch
dist/bind/lib/isc/win32/net.c			patch
dist/bind/lib/isc/win32/ntpaths.c		patch
dist/bind/lib/isc/win32/once.c			patch
dist/bind/lib/isc/win32/socket.c		patch
dist/bind/lib/isc/win32/include/isc/condition.h	patch
dist/bind/lib/isc/win32/include/isc/ipv6.h	patch
dist/bind/lib/isccc/symtab.c			patch
dist/bind/lib/isccc/win32/DLLMain.c		patch
dist/bind/lib/isccfg/api			patch
dist/bind/lib/isccfg/win32/DLLMain.c		patch
dist/bind/lib/lwres/api				patch
dist/bind/lib/lwres/context.c			patch
dist/bind/lib/lwres/getaddrinfo.c		patch
dist/bind/lib/lwres/getipnode.c			patch
dist/bind/lib/lwres/lwres_gnba.c		patch
dist/bind/lib/lwres/man/lwres.docbook		patch
dist/bind/lib/lwres/man/lwres_buffer.docbook	patch
dist/bind/lib/lwres/man/lwres_config.docbook	patch
dist/bind/lib/lwres/man/lwres_context.docbook	patch
dist/bind/lib/lwres/man/lwres_gabn.docbook	patch
dist/bind/lib/lwres/man/lwres_gai_strerror.docbook patch
dist/bind/lib/lwres/man/lwres_getaddrinfo.docbook patch
dist/bind/lib/lwres/man/lwres_gethostent.docbook patch
dist/bind/lib/lwres/man/lwres_getipnode.docbook	patch
dist/bind/lib/lwres/man/lwres_getnameinfo.docbook patch
dist/bind/lib/lwres/man/lwres_getrrsetbyname.docbook patch
dist/bind/lib/lwres/man/lwres_gnba.docbook	patch
dist/bind/lib/lwres/man/lwres_hstrerror.docbook	patch
dist/bind/lib/lwres/man/lwres_inetntop.docbook	patch
dist/bind/lib/lwres/man/lwres_noop.docbook	patch
dist/bind/lib/lwres/man/lwres_packet.docbook	patch
dist/bind/lib/lwres/man/lwres_resutil.docbook	patch
dist/bind/lib/lwres/win32/DLLMain.c		patch
dist/bind/lib/lwres/win32/liblwres.dsp		patch
dist/bind/lib/lwres/win32/liblwres.mak		patch
dist/bind/lib/lwres/win32/lwconfig.c		patch
dist/bind/lib/lwres/win32/include/lwres/platform.h patch
dist/bind/make/rules.in				patch
dist/bind/win32utils/BuildAll.bat		patch
dist/bind/win32utils/BuildSetup.bat		patch
dist/bind/win32utils/readme1st.txt		patch
dist/bind/win32utils/updateopenssl.pl		patch
doc/3RDPARTY					patch
usr.sbin/bind/Makefile.inc			patch
dist/bind/contrib/queryperf/config.h.in		patch
dist/bind/contrib/sdb/sqlite/README.sdb_sqlite	patch
dist/bind/contrib/sdb/sqlite/sqlitedb.cx	patch
dist/bind/contrib/sdb/sqlite/sqlitedb.h		patch
dist/bind/contrib/sdb/sqlite/zone2sqlite.c	patch
dist/bind/doc/rfc/rfc4398.txt			patch
dist/bind/doc/rfc/rfc4408.txt			patch
dist/bind/doc/rfc/rfc4470.txt			patch
dist/bind/doc/rfc/rfc4634.txt			patch
dist/bind/doc/rfc/rfc4641.txt			patch
dist/bind/lib/bind/port/sunos/include/paths.h	patch
dist/bind/lib/isc/alpha/Makefile.in		patch
dist/bind/lib/isc/alpha/include/Makefile.in	patch
dist/bind/lib/isc/alpha/include/isc/Makefile.in	patch
dist/bind/lib/isc/ia64/Makefile.in		patch
dist/bind/lib/isc/ia64/include/Makefile.in	patch
dist/bind/lib/isc/ia64/include/isc/Makefile.in	patch
dist/bind/lib/isc/mips/Makefile.in		patch
dist/bind/lib/isc/mips/include/Makefile.in	patch
dist/bind/lib/isc/mips/include/isc/Makefile.in	patch
dist/bind/lib/isc/noatomic/Makefile.in		patch
dist/bind/lib/isc/noatomic/include/Makefile.in	patch
dist/bind/lib/isc/noatomic/include/isc/Makefile.in patch
dist/bind/lib/isc/powerpc/Makefile.in		patch
dist/bind/lib/isc/powerpc/include/Makefile.in	patch
dist/bind/lib/isc/powerpc/include/isc/Makefile.in patch
dist/bind/lib/isc/sparc64/Makefile.in		patch
dist/bind/lib/isc/sparc64/include/Makefile.in	patch
dist/bind/lib/isc/sparc64/include/isc/Makefile.in patch
dist/bind/lib/isc/x86_32/Makefile.in		patch
dist/bind/lib/isc/x86_32/include/Makefile.in	patch
dist/bind/lib/isc/x86_32/include/isc/Makefile.in patch
dist/bind/lib/isc/x86_64/Makefile.in		patch
dist/bind/lib/isc/x86_64/include/Makefile.in	patch
dist/bind/lib/isc/x86_64/include/isc/Makefile.in patch
dist/bind/lib/lwres/win32/socket.c		patch
dist/bind/win32utils/BuildOpenSSL.bat		patch

	Update BIND to 9.4.2-P1 and turn off pthreads.
	[adrianp, ticket #1168]	

etc/named.conf					1.5

	The default named.conf should not contain a query-source statement.
	Comment it out and describe what it's for and why not to use it.
	[dholland, ticket #1169]

sys/net/if_pppoe.c				1.88
        Apply patch from Yasuoka Masahiko in PR kern/39321: fix length check
        when parsing pppoe discovery phase packets.
	[martin, ticket #1179]

crypto/dist/ipsec-tools/ChangeLog			1.91.4.64
crypto/dist/ipsec-tools/NEWS				1.1.1.6.6.3
crypto/dist/ipsec-tools/configure.ac			1.3.4.10
crypto/dist/ipsec-tools/src/libipsec/Makefile.am	1.2.4.1
crypto/dist/ipsec-tools/src/libipsec/pfkey.c		1.13.4.2
crypto/dist/ipsec-tools/src/racoon/Makefile.am		1.3.4.3
crypto/dist/ipsec-tools/src/racoon/admin.c		1.17.6.2
crypto/dist/ipsec-tools/src/racoon/cfparse.y		1.18.4.7
crypto/dist/ipsec-tools/src/racoon/cftoken.l		1.11.4.2
crypto/dist/ipsec-tools/src/racoon/crypto_openssl.c	1.11.6.4
crypto/dist/ipsec-tools/src/racoon/eaytest.c		1.7.6.2
crypto/dist/ipsec-tools/src/racoon/grabmyaddr.c		1.4.6.3
crypto/dist/ipsec-tools/src/racoon/handler.c		1.9.6.7
crypto/dist/ipsec-tools/src/racoon/handler.h		1.9.6.1
crypto/dist/ipsec-tools/src/racoon/ipsec_doi.c		1.23.4.9
crypto/dist/ipsec-tools/src/racoon/isakmp.c		1.20.6.11
crypto/dist/ipsec-tools/src/racoon/isakmp_cfg.c		1.12.6.3
crypto/dist/ipsec-tools/src/racoon/isakmp_inf.c		1.14.4.14
crypto/dist/ipsec-tools/src/racoon/kmpstat.c		1.4.6.2
crypto/dist/ipsec-tools/src/racoon/misc.c		1.4.6.1
crypto/dist/ipsec-tools/src/racoon/misc.h		1.4.6.1
crypto/dist/ipsec-tools/src/racoon/oakley.c		1.9.6.3
crypto/dist/ipsec-tools/src/racoon/pfkey.c		1.18.4.5
crypto/dist/ipsec-tools/src/racoon/plog.c		1.4.6.1
crypto/dist/ipsec-tools/src/racoon/plog.h		1.4.6.1
crypto/dist/ipsec-tools/src/racoon/proposal.c		1.13.4.2
crypto/dist/ipsec-tools/src/racoon/racoon.conf.5	1.34.4.3
crypto/dist/ipsec-tools/src/racoon/racoonctl.c		1.7.6.1
crypto/dist/ipsec-tools/src/racoon/remoteconf.c		1.9.4.2
crypto/dist/ipsec-tools/src/setkey/Makefile.am		1.1.1.2.8.1
lib/libipsec/package_version.h				1.18.2.2 via patch

	Upgrade ipsec-tools to release 0.7.1.
	Fixes security vulnerabilities CVE-2008-3651 and CVE-2008-3652.
	[manu, ticket #1183]

sys/arch/hppa/hppa/copy.S			1.8

	Fix potential kernel / userland memory corruption in copy{in,out}str
	on hppa.
	[skrll, ticket #1180]

sys/dev/pci/if_lii.c				1.5

	Fix multicast (multicast hash table were calculated incorrectly).
	[sborrill, ticket #1164]

gnu/dist/binutils/bfd/elflink.c			1.8

	Set the size of undefined symbols to 0
	[matt, ticket #1167]

usr.sbin/postinstall/postinstall		1.65

	Make sure to update root.cache too.
	[matt, ticket #1170]

sys/dev/pci/if_bge.c				1.149
sys/dev/pci/if_bgereg.h				1.47

	Add support for Broadcom 5722 and identify 5755 ASICs.
	[sborrill, ticket #1172]

sys/arch/powerpc/powerpc/trap_subr.S		1.65

	Fix bug where SRR1 (%r2) was being accidently misused and modifed
	in place of segreg (%r1).
	> From Konrad Karpowicz <konradk at pacomp dot pl>.
	[matt, ticket #1174]

sys/netbt/l2cap_lower.c				1.8

	drop L2CAP packets that exceed the negotiated MTU
	[plunky, ticket #1176]

gnu/dist/grep/src/search.c			1.3

	fix grep's -w
	[perry, ticket #1177]

sys/arch/macppc/dev/ofb.c			1.61

	fix typo, now wsfb on ofb should work properly
	[macallan, ticket #1178]

sys/arch/mips/mips/mips_machdep.c		1.202

	Add CPU_MIPS_DOUBLE_COUNT to R10K family CPUs and
	also remove (unused?) MIPS_NOT_SUPP flag from them.

	Problem on R10k O2 is reported by martin@ on port-sgimips.
	[tsutsui, ticket #1181]

lib/libsdp/search.c				1.2

	Fix problem with handling SDP contination state, from FreeBSD

	(specifically, this manifested itself when reading a long HID
	descriptor from a Microsoft Mouse.)
	[plunky, ticket #1182]

sys/net/if_spppsubr.c				1.111

	PR kern/39280: Uninitialized callout stopped in if_spppsubr layer
	in kernels without options INET6.
	[martin, ticket #1185]

sys/compat/linux32/common/linux32_ioctl.c	1.10 via patch
sys/compat/ossaudio/ossaudiovar.h		1.14

	Add ossaudio support for COMPAT_LINUX32, with help from mrg. With this
	change, audio now works on amd64 with native firefox, nspluginwrapper,
	and the 32-bit linux flash binaries.
	[jmcneill, ticket #1051]

lib/libsdp/sdp.h				1.3, 1.4
usr.sbin/sdpd/Makefile				1.4 via patch
usr.sbin/sdpd/gn.c				1.1
usr.sbin/sdpd/nap.c				1.1
usr.sbin/sdpd/panu.c				1.1
usr.sbin/sdpd/profile.c				1.5
usr.sbin/sdpd/profile.h				1.3

	add the knowledge to create service records for "Personal Area
	Networking" profiles
		NAP     Network Access Point
		GN      Group Network
		PANU    Personal Area Networking User
	[plunky, ticket #1184]

sys/net/if_pppoe.c				1.89 - 1.92

	pppoe improvements on memory allocation failures and on reconnect.
	[martin, ticket #1186]

sys/netinet6/mld6.c				1.47

	Fix from matt@ for malformed ICMPv6 MLD query (CVE-2008-2464).
	[adrianp, ticket #1187]

dist/bind/CHANGES				patch
dist/bind/COPYRIGHT				patch
dist/bind/configure				patch
dist/bind/configure.in				patch
dist/bind/version				patch
dist/bind/bin/dig/dighost.c			patch
dist/bind/bin/named/client.c			patch
dist/bind/bin/named/config.c			patch
dist/bind/bin/named/controlconf.c		patch
dist/bind/bin/named/interfacemgr.c		patch
dist/bind/bin/named/lwresd.c			patch
dist/bind/bin/named/named.conf.docbook		patch
dist/bind/bin/named/server.c			patch
dist/bind/bin/rndc/rndc.c			patch
dist/bind/bin/tests/sig0_test.c			patch
dist/bind/bin/tests/sock_test.c			patch
dist/bind/bin/tests/system/ifconfig.sh		patch
dist/bind/doc/arm/Bv9ARM-book.xml		patch
dist/bind/lib/bind/configure			patch
dist/bind/lib/bind/configure.in			patch
dist/bind/lib/dns/api				patch
dist/bind/lib/dns/dispatch.c			patch
dist/bind/lib/dns/request.c			patch
dist/bind/lib/dns/resolver.c			patch
dist/bind/lib/dns/xfrin.c			patch
dist/bind/lib/dns/include/dns/dispatch.h	patch
dist/bind/lib/isc/api				patch
dist/bind/lib/isc/timer.c			patch
dist/bind/lib/isc/include/isc/resource.h	patch
dist/bind/lib/isc/include/isc/socket.h		patch
dist/bind/lib/isc/include/isc/timer.h		patch
dist/bind/lib/isc/unix/app.c			patch
dist/bind/lib/isc/unix/resource.c		patch
dist/bind/lib/isc/unix/socket.c			patch
dist/bind/lib/isc/unix/socket_p.h		patch
dist/bind/lib/isc/win32/libisc.def		patch
dist/bind/lib/isc/win32/resource.c		patch
dist/bind/lib/isc/win32/socket.c		patch
dist/bind/lib/isccfg/api			patch
dist/bind/lib/isccfg/namedconf.c		patch
doc/3RDPARTY					patch

	Update BIND to 9.4.2-P2 (performance and bug fixes)
	[adrianp, ticket #1189]

sys/netinet/if_arp.c				1.141

	Missing "\n" in log(9) messages.
	[uebayasi, ticket #1191]

sys/dev/bio.c				patch
sys/dev/biovar.h			patch
sys/dev/pci/arcmsr.c			patch
sys/dev/pci/arcmsrvar.h			patch
sbin/bioctl/Makefile			patch
sbin/bioctl/bioctl.8			patch
sbin/bioctl/bioctl.c			patch
sbin/bioctl/dehumanize_number.c		patch
sbin/bioctl/strtonum.c			patch
sbin/bioctl/strtonum.h			patch

	Port bioctl(8) and arcmsr(4) from current:
        bioctl(8): Rewritten to handle new features like creating/removing
		hot-spare, pass-through disks and RAID volumes, start/stop
		consistency checks in volumes and others.
	arcmsr(4): Added support to create/remove hot-spare, pass-through
		disks and RAID volumes, start/stop consistency checks
		in volumes as well as showing information about physical
		disks (even if they are marked as hot-spare, pass-through
		or unused).
	[christos, ticket #1175]

gnu/dist/gcc4/gcc/config.gcc			1.18
gnu/dist/gcc4/gcc/configure.ac			1.9 via patch
gnu/dist/gcc4/gcc/configure			regen (via patch)
gnu/usr.bin/gcc4/arch/m68000/auto-host.h	regen (via patch)
gnu/usr.bin/gcc4/arch/m68000/configargs.h	regen (via patch)
gnu/usr.bin/gcc4/arch/m68000/defs.mk		regen (via patch)
gnu/usr.bin/gcc4/arch/m68000/tm.h		regen (via patch)
gnu/usr.bin/gcc4/arch/m68k/auto-host.h		regen (via patch)
gnu/usr.bin/gcc4/arch/m68k/configargs.h		regen (via patch)
gnu/usr.bin/gcc4/arch/m68k/defs.mk		regen (via patch)
gnu/usr.bin/gcc4/arch/m68k/tm.h			regen (via patch)
gnu/lib/crtstuff4/arch/m68000.mk		regen (via patch)
gnu/lib/crtstuff4/arch/m68k.mk			regen (via patch)
gnu/lib/libgcc4/arch/m68000.mk			regen (via patch)
gnu/lib/libgcc4/arch/m68k.mk			regen (via patch)

	config.gcc: Do not completely overwrite tm_defines in m68k specific
	    target selection, it may have been set globaly before for
	    NETBSD_ENABLE_PTHREADS.  This caused wrong (old, pre NetBSD 2.0)
	    builtin specs for m68k.  Fixes PR toolchain/38931.
	configure.ac:
	    make the AC_CACHE_CHECK(__stack_chk_fail, [ ... ]) cross-compile
	    friendly.
	Rerun mknative for m68k after config.gcc and configure changes.
	[martin, ticket #1188]

sys/arch/xen/include/xenbus.h			1.8 (via patch)
sys/arch/xen/xen/xbd_xenbus.c			1.24 (via patch)
sys/arch/xen/xen/xbdback_xenbus.c		1.15 (via patch)
sys/arch/xen/xenbus/xenbus_xs.c			1.14 (via patch)

	Add swedge support to xbd backed, and make the virtual block device
	handle sizes larger than 4TB. Tested by Jukka Marin.  PR#37370.
	[bouyer, ticket #1149]

usr.sbin/ypserv/ypserv/ypserv.8			1.19
usr.sbin/ypserv/ypserv/ypserv.c			1.22

	Disable hostname lookup for ypserv(8) libwrap access control,
	as they can cause performance problems while ypserv is blocked
	waiting for the DNS to respond.  Patch from Doug Needham,
	initially discussed here:
          http://mail-index.netbsd.org/tech-userlevel/2006/11/01/0014.html
	[chuck, ticket #1150]

sys/arch/xen/xen/xbd_xenbus.c			1.30
	xbd_map_align() can be called from interrupt context (though
	xbd_handler()->dk_iodone()->dk_start()->xbd_start()), so don't try
	to sleep in uvm_km_alloc().
	[bouyer, ticket #1163]

sys/arch/x86/x86/bus_dma.c			1.45
	port-i386/38935: Add appropriate x86_lfence or x86_mfence calls to
	bus_dmamap_sync(), depending on the BUS_DMASYNC flag. This makes sure
	that the kernel reads data from main memory in the intended order.
	[bouyer, ticket #1165]

sys/dev/usb/ehci.c				1.138 (via patch)
sys/dev/usb/ehcivar.h				1.31 (via patch)
sys/dev/usb/ohci.c				1.195 (via patch)
sys/dev/usb/ohcivar.h				1.45 (via patch)
sys/dev/usb/uhcivar.h				1.45 (via patch)
sys/dev/usb/uhci.c				1.223 (via patch)
sys/dev/usb/usb_mem.c				1.37 (via patch)
sys/dev/usb/usb_mem.h				1.27 (via patch)
	Add appropriate bus_dmamap_sync() calls to uhci(4), ohci(4) and
	ehci(4).  This adds explicit barriers between DMA descriptors
	reads/writes, fixing race conditions on DMA descriptors access
	with the controller.
	[bouyer, ticket #1166]

crypto/dist/heimdal/lib/krb5/crypto.c:  patch

	Fix a file descriptor leak in seed_something(), preventing pam_krb5
	from leaking file descriptors. Fixes PR lib/39434.
	[bad, ticket #1193]

distrib/notes/acorn32/prep.RISCOS		1.19
distrib/notes/common/contents			1.140, 1.141
distrib/notes/common/legal.common		1.51
distrib/notes/common/macros			1.35
distrib/notes/common/main			1.385, 1.387, 1.389 via patch,
						1.390-1.394, 1.397-1.403,
						1.405 via patch, 1.406-1.407,
						1.409, 1.413, 1.415
distrib/notes/common/sysinst			1.86-1.87
distrib/notes/common/upgrade			1.24
distrib/notes/hp300/prep			1.22
distrib/notes/i386/hardware			1.122

	Various fixes to install notes, including fix display issues
	and sync developers lists with reality
	[tsutsui, ticket #1195]

sys/altq/altq_wfq.c				1.19
sys/altq/altq_wfq.h				1.6
usr.sbin/altq/altqd/altq.conf.5			1.12
usr.sbin/altq/libaltq/qop_wfq.c			1.6

	Add support for source address hashhing in ALTQs WFQ. This allows to
	easily distribute bandwidth for huge number of clients for incoming
	traffic.
	[joerg, ticket #1197]

distrib/notes/alpha/hardware			1.15
distrib/notes/alpha/install			1.34
distrib/notes/amiga/install			1.34
distrib/notes/amiga/prep			1.27
distrib/notes/amiga/upgrade			1.27
distrib/notes/atari/xfer			1.16
distrib/notes/cats/prep				1.10
distrib/notes/common/contents			1.142
distrib/notes/common/main			1.416
distrib/notes/common/sysinst			1.91, 1.92
distrib/notes/evbarm/install			1.9
distrib/notes/evbarm/prep			1.9
distrib/notes/evbppc/hardware			1.4
distrib/notes/hp300/prep			1.23
distrib/notes/hp700/prep			1.2
distrib/notes/hpcmips/install			1.11
distrib/notes/i386/hardware			1.123
distrib/notes/macppc/hardware			1.45, 1.46
distrib/notes/macppc/install			1.37
distrib/notes/macppc/prep.OPENFIRMWARE		1.10, 1.11
distrib/notes/mvme68k/hardware			1.10
distrib/notes/mvme68k/install			1.20
distrib/notes/mvme68k/prep			1.14
distrib/notes/mvme68k/xfer			1.17
distrib/notes/next68k/prep			1.7
distrib/notes/next68k/xfer			1.7
distrib/notes/sandpoint/install			1.4
distrib/notes/sparc/hardware			1.34
distrib/notes/sparc/install			1.55
distrib/notes/sparc/prep			1.23, 1.24
distrib/notes/sparc64/install			1.30
distrib/notes/sun2/install			1.7, 1.8
distrib/notes/sun3/install			1.16
distrib/notes/vax/install			1.17

	Cosmetics or mdoc warning fixes
	[tsutsui, ticket #1198]

dist/ipf/ip_fil.c				1.16
dist/ipf/lib/printnat.c				1.1.1.7, 1.2
dist/ipf/test/regress/n12			1.2
dist/ipf/tools/ipnat_y.y			1.17
regress/sys/kern/ipf/regress/n12		1.2
regress/sys/kern/ipf/regress/n2			1.2
regress/sys/kern/ipf/regress/n5			1.2
regress/sys/kern/ipf/regress/ni1.nat		1.2
regress/sys/kern/ipf/regress/ni2.nat		1.2
regress/sys/kern/ipf/regress/ni4.nat		1.2
sys/dist/ipf/netinet/ip_compat.h		1.22
sys/dist/ipf/netinet/ip_fil.h			1.17
sys/dist/ipf/netinet/ip_nat.c			1.37, 1.38
sys/dist/ipf/netinet/ip_nat.h			1.14
sys/dist/ipf/netinet/ip_state.c			1.33

	2020447 IPFilter's NAT can undo name server random port selection
	[darrenr, ticket #1171]

gnu/dist/gdb						removed
gnu/usr.bin/gdb53					removed
distrib/cats/instkernel/Makefile		 sync with 1.14.6.1
gnu/dist/gdb6/bfd/config.bfd			 sync with 1.3.6.1
gnu/dist/gdb6/bfd/elfxx-sparc.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/bfd/elfxx-sparc.h			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/Makefile.in			 sync with 1.2.2.1.2.2
gnu/dist/gdb6/gdb/alpha-tdep.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/alpha-tdep.h			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/alphabsd-nat.c		 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/alphabsd-nat.h		 sync with 1.1.2.1
gnu/dist/gdb6/gdb/alphabsd-tdep.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/alphabsd-tdep.h		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/alphanbsd-nat.c		 sync with 1.1.2.1
gnu/dist/gdb6/gdb/alphanbsd-tdep.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/amd64-nat.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/amd64bsd-nat.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/amd64nbsd-nat.c		 sync with 1.1.1.2.6.3
gnu/dist/gdb6/gdb/amd64nbsd-tdep.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/arm-tdep.h			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/armbsd-tdep.c			 sync with 1.1.2.1
gnu/dist/gdb6/gdb/armnbsd-nat.c			 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/armnbsd-tdep.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/configure			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/configure.ac			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/i386bsd-nat.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/i386nbsd-tdep.c		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/m68kbsd-nat.c			 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/mipsnbsd-nat.c		 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/nbsd-thread.c			 sync with 1.1.2.3
gnu/dist/gdb6/gdb/ppcnbsd-nat.c			 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/ppcnbsd-tdep.c		 sync with 1.3.6.1
gnu/dist/gdb6/gdb/sh-tdep.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/shnbsd-nat.c			 sync with 1.1.1.2.6.3
gnu/dist/gdb6/gdb/shnbsd-tdep.c			 sync with 1.1.1.2.6.4
gnu/dist/gdb6/gdb/shnbsd-tdep.h			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/sparc-nat.c			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/sparc64nbsd-nat.c		 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/sparcnbsd-nat.c		 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/tramp-frame.h			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/vaxbsd-nat.c			 sync with 1.1.1.2.6.2
gnu/dist/gdb6/gdb/config/alpha/nbsd.mh		 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/config/arm/nbsd.mt		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/arm/nbsdelf.mh		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/i386/nbsd64.mh		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/m68k/nbsdelf.mh	 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/mips/nbsd.mh		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/powerpc/nbsd.mh	 sync with 1.1.1.2.6.1
gnu/dist/gdb6/gdb/config/sh/nbsd.mh		 sync with 1.1.1.1.6.2
gnu/dist/gdb6/gdb/config/sh/tm-nbsd.h		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/sparc/nbsd64.mh	 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/sparc/nbsdelf.mh	 sync with 1.1.1.1.6.1
gnu/dist/gdb6/gdb/config/vax/nbsdelf.mh		 sync with 1.1.1.1.6.1
gnu/dist/gdb6/opcodes/configure			 sync with 1.1.1.2.6.1
gnu/dist/gdb6/opcodes/configure.in		 sync with 1.1.1.2.6.1
gnu/usr.bin/Makefile				 sync with 1.126.4.1
gnu/usr.bin/gdb6/arch/alpha/config.h		 sync with 1.3.4.1
gnu/usr.bin/gdb6/arch/alpha/defs.mk		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/alpha/init.c		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/alpha/nm.h		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/arm/defs.mk		 sync with 1.2.6.2
gnu/usr.bin/gdb6/arch/arm/init.c		 sync with 1.1.6.1
gnu/usr.bin/gdb6/arch/armeb/config.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/armeb/defs.mk		 sync with 1.1.6.3
gnu/usr.bin/gdb6/arch/armeb/init.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/armeb/tm.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/armeb/version.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/i386/defs.mk		 sync with 1.4.4.1
gnu/usr.bin/gdb6/arch/i386/init.c		 sync with 1.3.6.1
gnu/usr.bin/gdb6/arch/m68000/config.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/m68000/defs.mk		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/m68000/init.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/m68000/tm.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/m68000/version.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/m68k/defs.mk		 sync with 1.1.4.1
gnu/usr.bin/gdb6/arch/m68k/init.c		 sync with 1.1.4.1
gnu/usr.bin/gdb6/arch/mipseb/config.h		 sync with 1.3.4.1
gnu/usr.bin/gdb6/arch/mipseb/defs.mk		 sync with 1.2.6.2
gnu/usr.bin/gdb6/arch/mipseb/init.c		 sync with 1.2.6.2
gnu/usr.bin/gdb6/arch/mipsel/config.h		 sync with 1.2.6.3
gnu/usr.bin/gdb6/arch/mipsel/defs.mk		 sync with 1.2.6.3
gnu/usr.bin/gdb6/arch/mipsel/init.c		 sync with 1.2.6.3
gnu/usr.bin/gdb6/arch/mipsel/tm.h		 sync with 1.2.6.2
gnu/usr.bin/gdb6/arch/mipsel/version.c		 sync with 1.2.6.2
gnu/usr.bin/gdb6/arch/powerpc/defs.mk		 sync with 1.3.6.1
gnu/usr.bin/gdb6/arch/powerpc/init.c		 sync with 1.3.6.1
gnu/usr.bin/gdb6/arch/sh3eb/config.h		 sync with 1.2.2.2
gnu/usr.bin/gdb6/arch/sh3eb/defs.mk		 sync with 1.2.8.3
gnu/usr.bin/gdb6/arch/sh3eb/init.c		 sync with 1.1.8.3
gnu/usr.bin/gdb6/arch/sh3eb/nm.h		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sh3eb/tm.h		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sh3eb/version.c		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sh3el/config.h		 sync with 1.2.2.2
gnu/usr.bin/gdb6/arch/sh3el/defs.mk		 sync with 1.2.8.3
gnu/usr.bin/gdb6/arch/sh3el/init.c		 sync with 1.1.8.3
gnu/usr.bin/gdb6/arch/sh3el/nm.h		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sh3el/tm.h		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sh3el/version.c		 sync with 1.1.8.2
gnu/usr.bin/gdb6/arch/sparc/defs.mk		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/sparc/init.c		 sync with 1.1.6.1
gnu/usr.bin/gdb6/arch/sparc64/defs.mk		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/sparc64/init.c		 sync with 1.1.6.1
gnu/usr.bin/gdb6/arch/vax/config.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/vax/defs.mk		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/vax/init.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/vax/tm.h			 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/vax/version.c		 sync with 1.1.6.2
gnu/usr.bin/gdb6/arch/x86_64/defs.mk		 sync with 1.2.6.1
gnu/usr.bin/gdb6/arch/x86_64/init.c		 sync with 1.1.6.1
gnu/usr.bin/gdb6/bfd/arch/armeb/bfd.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/armeb/bfdver.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/armeb/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/armeb/defs.mk		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/m68000/bfd.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/m68000/bfdver.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/m68000/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/m68000/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/mipsel/bfd.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/mipsel/bfdver.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/mipsel/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/mipsel/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/sh3eb/bfd.h		 sync with 1.1.8.3
gnu/usr.bin/gdb6/bfd/arch/sh3eb/bfdver.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/bfd/arch/sh3eb/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/bfd/arch/sh3eb/defs.mk		 sync with 1.1.8.3
gnu/usr.bin/gdb6/bfd/arch/sh3el/bfd.h		 sync with 1.1.8.3
gnu/usr.bin/gdb6/bfd/arch/sh3el/bfdver.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/bfd/arch/sh3el/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/bfd/arch/sh3el/defs.mk		 sync with 1.1.8.3
gnu/usr.bin/gdb6/bfd/arch/vax/bfd.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/vax/bfdver.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/vax/config.h		 sync with 1.1.6.2
gnu/usr.bin/gdb6/bfd/arch/vax/defs.mk		 sync with 1.1.6.2
gnu/usr.bin/gdb6/gdb/Makefile			 sync with 1.5.2.1.2.2
gnu/usr.bin/gdb6/gdbtui/Makefile		 sync with 1.2.6.1
gnu/usr.bin/gdb6/libiberty/arch/armeb/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/armeb/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/m68000/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/m68000/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/mipsel/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/mipsel/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/sh3eb/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/libiberty/arch/sh3eb/defs.mk	 sync with 1.1.8.2
gnu/usr.bin/gdb6/libiberty/arch/sh3el/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/libiberty/arch/sh3el/defs.mk	 sync with 1.1.8.2
gnu/usr.bin/gdb6/libiberty/arch/vax/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/libiberty/arch/vax/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/armeb/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/armeb/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/m68000/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/m68000/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/mipsel/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/mipsel/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/sh3eb/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/opcodes/arch/sh3eb/defs.mk	 sync with 1.1.8.3
gnu/usr.bin/gdb6/opcodes/arch/sh3el/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/opcodes/arch/sh3el/defs.mk	 sync with 1.1.8.3
gnu/usr.bin/gdb6/opcodes/arch/vax/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/opcodes/arch/vax/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/armeb/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/armeb/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/m68000/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/m68000/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/mipsel/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/mipsel/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/sh3eb/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/readline/arch/sh3eb/defs.mk	 sync with 1.1.8.2
gnu/usr.bin/gdb6/readline/arch/sh3el/config.h	 sync with 1.1.8.2
gnu/usr.bin/gdb6/readline/arch/sh3el/defs.mk	 sync with 1.1.8.2
gnu/usr.bin/gdb6/readline/arch/vax/config.h	 sync with 1.1.6.2
gnu/usr.bin/gdb6/readline/arch/vax/defs.mk	 sync with 1.1.6.2
gnu/usr.bin/gdb6/sim/arch/mipseb/cconfig.h	 sync with 1.1.2.1
gnu/usr.bin/gdb6/sim/arch/mipseb/config.h	 sync with 1.1.2.1
gnu/usr.bin/gdb6/sim/arch/mipseb/defs.mk	 sync with 1.1.2.1
gnu/usr.bin/gdb6/sim/arch/mipsel/cconfig.h	 sync with 1.1.2.1
gnu/usr.bin/gdb6/sim/arch/mipsel/config.h	 sync with 1.1.2.1
gnu/usr.bin/gdb6/sim/arch/mipsel/defs.mk	 sync with 1.1.2.1
lib/libkvm/kvm_sparc64.c			 sync with 1.10.18.2
lib/libpthread/pthread.c			 sync with 1.48.6.4
lib/libpthread/pthread_barrier.c		 sync with 1.6.18.1
lib/libpthread/pthread_cond.c			 sync with 1.18.12.2
lib/libpthread/pthread_debug.h			 sync with 1.8.18.1
lib/libpthread/pthread_int.h			 sync with 1.34.4.5
lib/libpthread/pthread_lock.c			 sync with 1.14.6.1
lib/libpthread/pthread_mutex.c			 sync with 1.22.4.2
lib/libpthread/pthread_run.c			 sync with 1.18.12.4
lib/libpthread/pthread_rwlock.c			 sync with 1.13.6.2
lib/libpthread/pthread_sa.c			 sync with 1.37.6.5
lib/libpthread/pthread_sig.c			 sync with 1.47.4.8
lib/libpthread/pthread_sleep.c			 sync with 1.7.6.2
lib/libpthread/sem.c				 sync with 1.9.6.2
lib/libpthread/arch/sh3/pthread_md.h		 sync with 1.3.6.1
regress/lib/libpthread/resolv/Makefile		 sync with 1.1.12.1
regress/lib/libpthread/sigrunning/Makefile	 sync with 1.1.2.1
regress/lib/libpthread/sigrunning/sigrunning.c	 sync with 1.1.2.1
share/mk/bsd.own.mk				 sync with 1.489.4.3
sys/arch/amd64/amd64/locore.S			 sync with 1.18.14.1
sys/arch/amd64/amd64/machdep.c			 sync with 1.44.2.3.2.1
sys/arch/amd64/conf/kern.ldscript		 sync with 1.1.70.1
sys/arch/cats/conf/Makefile.cats.inc		 sync with 1.17.30.1
sys/arch/shark/conf/Makefile.shark.inc		 sync with 1.6.30.1
sys/arch/sparc64/conf/kern.ldscript		 sync with 1.7.26.2
sys/arch/sparc64/conf/kern32.ldscript		 sync with 1.6.26.2
sys/arch/sparc64/include/kcore.h		 sync with 1.4.92.2
sys/arch/sparc64/sparc64/locore.s		 sync with 1.232.4.4
sys/arch/sparc64/sparc64/machdep.c		 sync with 1.193.4.3
sys/arch/sparc64/sparc64/pmap.c			 sync with 1.184.2.1.2.4
sys/conf/newvers.sh				 sync with 1.42.26.2
sys/kern/kern_sa.c				 sync with 1.87.4.11
sys/kern/kern_synch.c				 sync with 1.173.4.2
sys/sys/savar.h					 sync with 1.20.10.2
tools/gdb/Makefile				 sync with 1.9.4.1
tools/gdb/mknative-gdb				 sync with 1.1.6.1

	pullup the wrstuden-fixsa CVS branch to netbsd-4:
	toolchain/35540 - GDB 6 support for pthreads.
	port-sparc64/37534 - ktrace firefox gives
	    kernel trap 30: data access expection
	GDB changes:
	- delete gdb53
	- enable gdb6 on all architectures
	- add support for amd64 crash dumps
	- add support for sparc64 crash dumps
	- add support for /proc pid to executable filename for all archs
	- enable thread support for all architectures
	- add a note section to kernels to all platforms
	- support detection/unwinding of signals for most architectures.
	- Fix PTHREAD_UCONTEXT_TO_REG / PTHREAD_REG_TO_UCONTEXT on sh3.
	- Apply fix from binutils-current so that sparc gdb can be cross built
	  on a 64bit host.
	SA/pthread changes:
	Pre-allocate memory needed for event delivery. Eliminates dropped
	interrupts under load. 
	Deliver intra-process signals to running threads
	Eliminate some deadlock scenarios
	Fix intra-process signal delivery when delivering to a thread waiting
	for signals. Makes afs work again!
	[skrll, ticket #1196]

libexec/ftpd/ftpd.c				1.179

	PR/35449: Shigeya Suzuki: ftpd does not register socket address
	into PAM
	[lukem, ticket #1199]

libexec/ftpd/ftpd.c				1.182

	Rename cred_t to ftpd_cred_t; the former causes a nameclash on Solaris.
	[lukem, ticket #1200]

libexec/ftpd/Makefile				1.58
libexec/ftpd/ftpd.c				1.183
libexec/ftpd/version.h				1.66

	Reorganize USE_PAM support so that the reply(331,) from USER is
	performed by the pam_conv (PAM conversation) callback, which then
	getline()s the PASS reply internally.  This involves calling
	auth_pam() from user() and caching the result to use later in pass().
	This allows the PAM modules to present a different password prompt
	dialog if necesary (for example, for a OTP password).
	[lukem, ticket #1201]

libexec/ftpd/extern.h				1.58
libexec/ftpd/ftpcmd.y				1.88
libexec/ftpd/ftpd.c				1.187
libexec/ftpd/version.h				patch

	Don't split large commands into multiple commands; just fail on them.
	This prevents CSRF-like attacks, when a web browser is used to access
	an ftp server.
	Reported by Maksymilian Arciemowicz <cxib@securityreason.com>.
	Fix mostly derived from OpenBSD, written by
	Moritz Jodeit <moritz@OpenBSD.org>
	[lukem, ticket #1202]

distrib/notes/common/main			1.417 - 1.420
distrib/notes/common/postinstall		1.68, 1.69

	Various update and fixes to developers lists.
	Update URLs for packages PKG_PATH 
	Add a note about a version mismatch warning of pkg_add(1) command.
	[tsutsui, ticket #1203]

distrib/hpcarm/Makefile				1.4 - 1.6
distrib/hpcarm/instkernel/Makefile		1.1
distrib/hpcarm/stand/Makefile			1.1 - 1.2
distrib/hpcmips/Makefile			1.29 - 1.33
distrib/hpcmips/instkernel/Makefile		1.1
distrib/hpcmips/stand/Makefile			1.1 - 1.2
distrib/hpcsh/Makefile				1.7 - 1.9
distrib/hpcsh/instkernel/Makefile		1.1
distrib/hpcsh/stand/Makefile			1.1 - 1.2
distrib/miniroot/Makefile			1.65 - 1.66
etc/etc.hpcarm/Makefile.inc			1.6 - 1.8
etc/etc.hpcmips/Makefile.inc			1.9 - 1.10
etc/etc.hpcsh/Makefile.inc			1.4 - 1.5

	Fix the following problems:
	- builds for hpcarm and hpcsh fail on build.sh -jN (even if N=1)
	- hpcarm miniroot.fs.gz isn't installed into proper dir
	- no cksum files in (some) miniroot dirs
	[tsutsui, ticket #1204]

sys/dev/pci/arcmsr.c				1.22
sys/dev/pci/arcmsrvar.h				1.13

	PR/39583: Brad du Plessis: acrmsr(4) driver doesn't report number of
	volumes correctly to bioctl(8)
	PR/39584: Juan RP: arcmsr(4) driver disk state values are incorrect
	(for ARC-1220)
	[christos, ticket #1205]

common/lib/libprop/prop_array.3			1.5
common/lib/libprop/prop_bool.3			1.3
common/lib/libprop/prop_data.3			1.4
common/lib/libprop/prop_dictionary.3		1.8
common/lib/libprop/prop_dictionary_util.3	1.2
common/lib/libprop/prop_ingest.3		1.3
common/lib/libprop/prop_number.3		1.7
common/lib/libprop/prop_object.3		1.6
common/lib/libprop/prop_string.3		1.4 

	boolean_t -> bool
	TRUE -> true
	FALSE -> false
	Completes processing of ticket 904, fixes PR lib/38013.
	[joerg, ticket #904]

sys/arch/sparc64/sparc64/locore.s		1.261

	Cosmetic: remove an unused .globl declaration
	[martin, ticket #945]

sys/dev/raidframe/rf_netbsdkintf.c		1.228

	don't leak a vnode in the wedge case.
	[oster, ticket #979]

sys/dev/raidframe/rf_netbsdkintf.c		1.234

	Implement support for drvctl in RAIDframe.  Thanks to jnemeth@ for
	initial patch.
	[oster, ticket #981]

sys/dev/raidframe/rf_netbsdkintf.c		1.235 via patch

	We need to initialize dk_driver as well.  Thanks to Ronald Roskens
	for reporting the problem and testing the fix.
	[oster, ticket #984]

sys/arch/macppc/dev/snapper.c			1.14-1.21
	- proper support for 24bit audio on TAS3004 / snapper codecs
	- fix sample rate setup bugs ( otherwise the chip would always stay in
	  44.1kHz )
	- add support for the codecs found in G4 Mac Minis ( AOAKeylargo and
	  AOAK2 ), which don't have hardware volume control
	- add support for 'tumbler' codecs found in some iBook G3 models
	[macallan, ticket #616]

src/sys/dev/pci/pcidevs				1.902
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data			regen
sys/dev/pci/mpt_pci.c				1.12
	Add SYMBIOS SAS1068_2, SAS1064E_2 and SAS1068E_2
	[bouyer, ticket #1192]

doc/HACKS					patch
x11/Xserver/os/Makefile				patch
x11/bin/lbxproxy/Makefile			patch
	Workaround vax gcc segfault on XFree's connection.c by building
	this file -O0 for vax.
	[bouyer, ticket #1207]

sys/dev/ic/aac.c				1.41 via patch
sys/dev/ic/aacreg.h				1.13 via patch
sys/dev/ic/aacvar.h				1.13 via patch
sys/dev/ic/ld_aac.c				1.22 via patch
	Add support for >2TB arrays and implement raw I/O mode which is a
	requirement for this.
	[sborrill, ticket #1208]

sys/netinet6/icmp6.c				1.150
	Fix for CVE-2008-3530 from matt@
	Implement improved checking for MTU values on ICMP 'Packet Too Big
	Messages'
	[adrianp, ticket #1209]

src/sys/netinet6/in6.c				1.141 via patch
src/sys/netinet6/in6_var.h			1.59 via patch
src/sys/netinet6/nd6_nbr.c			1.89-1.90 via patch
	If a neighbor solictation isn't from the unspecified address,
	make sure that the source address matches one of the interfaces
	address prefixes.  Fixes CVE-2008-2476/VU#472363.
	[adrianp, ticket #1210]

sys/dev/pci/if_wm.c				1.162
sys/dev/pci/pcidevs				1.961-1.962 via patch

	Add support for more ethenet ICH9 devices. Tested by Pouya D.
	Tafti on a 82801I_IGP_M_AMT.
	[bouyer, ticket #1215]

libexec/ld.elf_so/rtld.c			1.122
libexec/ld.elf_so/rtld.h			1.79
libexec/ld.elf_so/symbol.c			1.47

	Make dlsym follow dependencies.  Fixes PR lib/39649.
	[jmcneill, ticket #1211]

usr.bin/config/scan.l				1.11

	Avoid memory leak in error case. PR bin/39721.
	[dholland, ticket #1212]

sbin/ping6/ping6.c				1.71

	Fix reversed test in connection with combining -i and -l. If some
	packets have already sent because of the preload count handling, we
	shouldn't start off by sending another one right away. The reversed
	test causes ping6 to wait one interval before sending anything at all
	if you don't use -l. PR bin/39732.
	[dholland, ticket #1214]

gnu/lib/crtstuff4/arch/vax.mk			patch
gnu/lib/libgcc4/arch/vax.mk			patch
gnu/usr.bin/gcc4/arch/vax/auto-host.h		patch
gnu/usr.bin/gcc4/arch/vax/configargs.h		patch
gnu/usr.bin/gcc4/arch/vax/defs.mk		patch
gnu/usr.bin/gcc4/libiberty/defs.mk		patch

	Regenerate after vax shared support was added.
	[skrll, ticket #1216]

sys/arch/cobalt/conf/INSTALL			1.32,1.35

	Enable bpfilter so that dhclient can work.  Allow root device to be
	detected, rather than hardcoding it to nfs.
	[tsutsui, ticket #1217]

doc/3RDPARTY					patch
distrib/sets/lists/base/mi			1.773
share/zoneinfo/africa				1.1.1.26
share/zoneinfo/asia				1.1.1.43
share/zoneinfo/australasia			1.17
share/zoneinfo/backward				1.1.1.19
share/zoneinfo/europe				1.1.1.38
share/zoneinfo/iso3166.tab			1.1.1.17
share/zoneinfo/leapseconds			1.1.1.15
share/zoneinfo/northamerica			1.1.1.42
share/zoneinfo/southamerica			1.1.1.39,1.1.1.40
share/zoneinfo/zone.tab				1.1.1.31

	Update to tzdata2008g.
	[jnemeth, ticket #1213]

share/man/man8/afterboot.8                      1.35, 1.37, 1.38 via patch
                                      
        Fix reference to sshd_config and provide more information
        about DHCP.
        [tsutsui, ticket #1218]       
                                      
distrib/notes/common/main			1.421
distrib/notes/common/sysinst			1.95
distrib/notes/i386/hardware			1.124
distrib/notes/mac68k/install			1.30

	Use `\*[Am]' rather than `\*&' for ampersand.
	[tsutsui, ticket #1219]

sys/arch/x86/x86/x86_autoconf.c			1.35 via patch

	If no booted_device is found in find_root(), also check CD-ROM boot
	with strategy bootloader does.  This allows one CD system with cd9660
	root file system and mfs using GENERIC.
	[tsutsui, ticket #1220]

sys/arch/sgimips/conf/files.sgimips		1.44
sys/arch/sgimips/mace/if_mec.c			1.9,1.12,1.14,1.17-18,1.20-30
sys/arch/sgimips/mace/if_mecreg.h		1.4
sys/arch/sgimips/sgimips/bus.c			1.50

	Improve the stability and performance of mec(4).
	[tsutsui, ticket #1221]

sys/arch/atari/dev/ncr5380.c			1.56

	Remove unwanted 'xs->xs_status |= XS_STS_DONE' which caused
	scsipi_done() to bail out early.
	[abs, ticket #1222]

tools/gcc/mknative-gcc				1.23

	Collect the libobjc config.h
	[mrg, ticket #1228]

sys/arch/atari/dev/atari5380.c			1.43-1.45

	Fix a pointer arithmetic botch and specify volatile to some
	pointers to access DMA registers.
	[abs, ticket #1223]

gnu/lib/libobjc4/Makefile: revision 1.10 via patch
gnu/lib/libobjc4/arch/alpha/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/arm/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/armeb/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/hppa/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/i386/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/m68000/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/m68k/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/mipseb/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/mipsel/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/powerpc/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/sh3eb/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/sh3el/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/sparc/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/sparc64/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/vax/config.h: 1.1 via patch
gnu/lib/libobjc4/arch/x86_64/config.h: 1.1 via patch

	Regenerate all mknative-gcc files after skrll@'s fix to grab the
        objc config.h.  Use this config.h in libobjc4.
	This should address PR 37966.
	[mrg, ticket #1230]

sys/arch/atari/conf/GENERIC.in			1.74
sys/arch/atari/conf/README			1.3
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/BOOT			regen
sys/arch/atari/conf/BOOTX			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen

	Remove SERCONSOLE from the Falcon config.
	[abs, ticket #1227]

common/lib/libc/arch/alpha/gen/byte_swap_2.S	1.3
common/lib/libc/arch/alpha/gen/byte_swap_4.S	1.3
common/lib/libc/arch/sh3/string/memset.S	1.2
common/lib/libc/gen/bswap16.c			1.2
common/lib/libc/gen/bswap32.c			1.2
common/lib/libc/gen/bswap64.c			1.2
common/lib/libc/hash/rmd160/rmd160.c		1.4
common/lib/libc/hash/sha1/sha1.c		1.3
common/lib/libc/hash/sha2/sha2.c		1.7
common/lib/libc/inet/inet_addr.c		1.2
common/lib/libc/md/md4c.c			1.3
common/lib/libc/md/md5c.c			1.3
common/lib/libprop/prop_data.c			1.10
usr.bin/sed/compile.c				1.35
sys/sys/rmd160.h				1.2
sys/sys/sha2.h					1.2
tools/compat/Makefile				1.52
tools/compat/configure.ac			1.67
tools/compat/configure				regen
tools/compat/nbtool_config.h.in			regen

        Fix crossbuilding on Cygwin (PR toolchain/29032).
	[tsutsui, ticket #1224]

etc/etc.atari/MAKEDEV.conf			1.8

	The NetBSD/atari installer can use md2a as a root device, so ensure
	the 'floppy' target creates md2
	[abs, ticket #1231]

bin/echo/echo.c					1.18
bin/sh/bltin/bltin.h				1.13 via patch
bin/sh/bltin/echo.c				1.14
bin/sh/output.c					1.30
bin/sh/output.h					1.19

	Check ferror(stdout) and exit(1) if there's been a problem.
	Fixes PR bin/39574 from Ed Ravin, but with a simpler patch.
	output.c output.h: expose OUTPUT_ERR (flag for an exposed flags
	variable)
	bltin.h: support ferror()
	echo.c: use ferror() to fail on output write errors
	Another piece of PR bin/39574.
	[dholland, ticket #1232]

sys/dev/wscons/wsdisplay.c			1.123

	In wsdisplay_kbdholdscreen(), just return if sc->sc_focus is NULL.
	There is apparently no guarantee sc->sc_focus will be non-NULL,
	as proved by a crash I experienced earlier today (admittedly on 4.0.1).
	[he, ticket #1235]

etc/rc.d/wpa_supplicant				1.2

	Add a 'reload' option - from Peter Bex
	[abs, ticket #1236]

sys/arch/amd64/amd64/netbsd32_machdep.c		1.54
sys/arch/x86/include/mtrr.h			1.4
sys/arch/x86/x86/mtrr_i686.c			1.18

	hack around PR#38480:
	- rename MTRR_I686_NVAR to MTRR_I686_NVAR_MAX, still set to 8
	- store mtrr VCNT value into i686_mtrr_vcnt.  if it is less than 8,
	   zero out the relevant parts of mtrr_raw[].msraddr
	- replace all usage of MTRR_I686_NVAR with either i686_mtrr_vcnt or
	   with MTRR_I686_NVAR_MAX as appropriate
	- in i686_mtrr_reload() and mtrr_init_first() don't use mtrr_raw[]
	   addresses of 0
	still needs a bunch of reworking to handle VCNT > 8 case.
	[sborrill, ticket #1173]

sys/netinet/tcp_timer.c				1.83 via patch

	Fix kern/39769: race condition in TCP timers
	[bouyer, ticket #1234]

sys/arch/amd64/amd64/machdep.c			1.106, 1.107 via patch

	sync with i386/i386/machdep.c:init386()
	- introduce add_mem_cluster() as done in i386
	- apply rev. 1.480 from i386/i386/machdep.c: fixes PR 17199 for amd64
	- apply rev. 1.492 from i386/i386/machdep.c: fixes PR 13399 for amd64
	[cegger, ticket #1233]

usr.bin/fsplit/fsplit.c				1.26 via patch

	Two robustness fixes:
	   (1) make ridiculously small filename buffer larger;
	   (2) don't accidentally try to generate files with names
	       containing '/'.
	[dholland, ticket #1238]

gnu/dist/gcc4/gcc/config/m68k/m68k.c		1.4
gnu/dist/gcc4/gcc/config/m68k/m68k.md		1.8
gnu/dist/gcc4/gcc/version.c			patch

	Applied a patch from Roman Zippel to fix jump table addressing
	in the M68k codegen.
	Taken from the gcc mailing list January 2007:
	http://gcc.gnu.org/ml/gcc-patches/2007-01/msg02476.html
	[phx, ticket #1237]

usr.bin/make/parse.c				1.143

	When we extend the buffer used to read makefiles (in order to
	read lines longer than 32k) remember the new length so we DTRT
	for lines longer than 64k.  Should fix PR/37684
	[dsl, ticket #1239]

usr.bin/make/parse.c				1.146

	PR/38840: Pierre Pronchery: make crashes while parsing long
	lines in Makefiles
	[dsl, ticket #1240]

lib/libc/arch/sparc64/sys/__sigaction14_sigtramp.c 1.8

	Properly use siginfo based signal delivery on sparc64 in all
	cases.  Previously calls to signal(3) would cause use of the
	legacy signal trampoline.
	[martin, ticket #1241]

usr.bin/who/who.c				1.23

	Don't strip "pts/" when using ptyfs. Fixes PR/39201.
	[dholland, ticket #1242]

common/lib/libprop/prop_dictionary.c		1.33
common/lib/libprop/prop_number.c		1.20
common/lib/libprop/prop_object.c		1.23 via patch
common/lib/libprop/prop_object_impl.h		1.28

	Fix two race conditions in proplib.
	[haad, ticket #1243]

share/man/man5/statvfs.5			1.10
share/man/man7/symlink.7			1.13, 1.15 via patch

	Remove description of ST_MAGICLINKS; it went away a long time
	ago.  Fixes PR 36947.
	[dholland, ticket #1244]

sys/dev/pci/if_wm.c				1.163

	Fixes nasty EEPROM-trashing bug on ich8 and ich9 chipsets
	as described in
	  http://mail-index.netbsd.org/current-users/2008/12/02/msg006435.html
	[sketch, ticket #1246]

sys/arch/amiga/dev/siop.c			1.59
sys/arch/amiga/dev/siop2.c			1.31

	Deal with unrecognized SCSI message byte - restart script to
	clear the ACK.  No longer hangs the driver when an unhandled
	message byte is seen.
	[mhitch, ticket #1247]

sys/dev/ic/mc146818.c				1.17 via patch

	Fix possible 1 second spin on reading/updating clock.
	[tsutsui, ticket #1248]

sys/dev/raidframe/rf_driver.c			1.120
sys/dev/raidframe/rf_reconstruct.c		1.106

	When unconfiguring an array where a reconstruct is in progress, abort
	the reconstruct and wait for IOs to drain before pulling the plug.
	Should fix the panic reported by der Mouse on tech-kern.
	[oster, ticket #1249]

crypto/dist/ipsec-tools/src/setkey/parse.y	1.11
	Support icmp codes.  Fixes PR#39056.
	[mlelstv, ticket #1250]

sys/arch/atari/atari/be_bus.c			1.10
sys/arch/atari/atari/le_bus.c			1.14
sys/arch/atari/atari/mainbus.c			1.8
sys/arch/atari/dev/wdc_mb.c			1.33
	Sprinkle volatile to bus_space(9) access functions.
	[tsutsui, ticket #1252]

sys/arch/atari/dev/clock.c			1.39
sys/arch/atari/include/param.h			1.31
	Simplify delay based on x86 version.
	[tsutsui, ticket #1253]

lib/libc/stdio/fparseln.c			1.6-1.7
	Fix a condition so that fparseln() doesn't report spurious empty
	lines, e.g. after 2 comment lines, or on EOF after a single comment
	line.  No escape character means no escaped characters.  Modify the
	fix, so that no pointless realloc()s are done in the case of multiple
	empty continuation lines Comment the code to make the logic obvious.
	Fixes PR#40317.
	[martin, ticket #1254]

sys/arch/sparc/stand/bootblk/bootblk.fth	1.8

	Instead of bailing out with "Inode not directory", assume that
	the disk is a RAIDframe mirror, apply the RAID boot offset,
	and try to boot again.
	Fixes the problem where disks would be unbootable if partitioned
	normally and then converted to RAID 1 without being zeroed first.
	[jdc, ticket #1251]

lib/libc/gen/fts.c				1.35

	Ensure fts_close() doesn't spuriously close fd 0,
	by testing FTS_SYMFOLLOW in fts_flags instead of fts_options.
	Fix provided by Ben Harris in PR 40319
	[lukem, ticket #1256]

distrib/atari/floppies/common/dot.profile	1.3
distrib/atari/floppies/install/list		1.8
distrib/atari/floppies/prepare/install.md	1.3
distrib/atari/floppies/prepare/list		1.5
distrib/atari/miniroot/Makefile.inc		delete
distrib/atari/miniroot/disktab.shadow		delete
distrib/atari/miniroot/dot.profile		delete
distrib/atari/miniroot/install.md		delete
distrib/atari/miniroot/list			delete
distrib/atari/miniroot/termcap.vt		delete
sys/arch/atari/stand/installboot/installboot.c	1.21

	Since dl.d_type is always "unknown" now, pick the type of bootblock to
	install based on the device name: eg /dev/fd0c would be floppy
	Fix atari sysinst based miniroot image, and retire old (unreferenced)
	miniroot.
	[abs, ticket #1257]

sys/arch/atari/atari/atari_init.c		1.68 - 1.70
sys/arch/atari/atari/genassym.cf		1.28
sys/arch/atari/atari/pmap.c			1.106, 1.111 (via patch)
sys/arch/atari/atari/pmap_bootstrap.c		1.1
sys/arch/atari/conf/files.atari			1.113
sys/arch/atari/include/pcb.h			1.7 - 1.9
sys/arch/atari/include/pmap.h			1.35, 1.37, 1.39 (via patch)
sys/arch/atari/include/pte.h			1.8
sys/arch/atari/include/vmparam.h		1.22

	These changes make atari pmap sync with (more well maintained)
	amiga pmap, and also include (missed) necessary MD changes
	on yamt-km merge.
	[tsutsui, ticket #1258]

build.sh					1.200

	"\t" does not represent a tab in sed regular expressions,
	so use a ${tab} variable instead.
	[apb, ticket #1259]

distrib/atari/floppies/install/list		1.9
distrib/atari/floppies/prepare/list		1.6

	Add df(1) to installation md_root files for atari.
	It looks df(1) had been required by MAKEDEV(8) since NetBSD 1.6 days,
	and this could workaround PR port-atari/40316 in branches with
	minimum pullups.
	[tsutsui, ticket #1260]

sys/arch/atari/dev/ncr5380.c			1.57

	To be safe, do not use DMA for Falcon
	[tjam, ticket #1261]

usr.bin/make/make.1				1.151

	Fix blatantly wrong exposition of .WAIT example.
	PR bin/40372 from Gao Ya'nan.
	[dholland, ticket #1262]

distrib/sets/lists/base/md.atari		1.50
distrib/utils/sysinst/arch/atari/md.c		1.23
sys/arch/atari/stand/Makefile.booters		1.1
sys/arch/atari/stand/Makefile.inc		delete
sys/arch/atari/stand/bootxx/Makefile.bootxx	1.8 via patch
sys/arch/atari/stand/bootxx/bootxx.c		1.13
sys/arch/atari/stand/bootxx/start.S		1.1
sys/arch/atari/stand/bootxxx/Makefile.bootxxx	1.4, 1.5
sys/arch/atari/stand/bootxxx/bootxxx.c		1.4
sys/arch/atari/stand/bootxxx/start.S		1.1
sys/arch/atari/stand/installboot/disklabel.c	1.3
sys/arch/atari/stand/installboot/installboot.c	1.22
sys/arch/atari/stand/installboot/installboot.h	1.9
sys/arch/atari/stand/libsa/Makefile		1.28
sys/arch/atari/stand/tostools/libtos/aout.c	1.11
sys/arch/atari/stand/tostools/libtos/elf.c	1.9
sys/arch/atari/stand/tostools/libtos/libtos.h	1.5
sys/arch/atari/stand/tostools/libtos/sysinfo.c	1.8
sys/arch/atari/stand/xxboot/Makefile.xxboot	1.5

	Fixes for atari bootloader and installation.
	Fix PR port-atari/40315: Bootloader fails on Atari TT030
	[tsutsui, ticket #1263]

sys/dev/pci/aac_pci.c				1.26

	Allocate enough space for the aac_pci_softc, not just the aac_softc.
	[briggs, ticket #1255]

sys/arch/atari/conf/GENERIC.in			1.75, 1.76 via patch
src/sys/arch/atari/conf/ATARITT			regen
src/sys/arch/atari/conf/BOOT			regen
src/sys/arch/atari/conf/BOOTX			regen
src/sys/arch/atari/conf/FALCON			regen
src/sys/arch/atari/conf/HADES			regen
src/sys/arch/atari/conf/MILAN-ISAIDE		regen
src/sys/arch/atari/conf/MILAN-PCIIDE		regen

	Increase min ST_POOL_SIZE from 22 to 24 to avoid out of ST memory
	issues.  Tested by Tuomo.
	Enable 68060 support in FALCON & BOOTX kernels for CT60/63 upgrades
	Drop KERNFS from INSTALL kernels
	Drop 68040 support from ATARITT kernels
	[tjam, ticket #1264]

share/misc/airport				1.31

	PR/40404 - Robert Elz -- Thailand airport updates
	[jnemeth, ticket #1265]

sys/net/if_gre.c				1.80

	initialize error, cause gcc3 says so.
	[dholland, ticket #1266]

lib/libc/net/getaddrinfo.c			1.92

	Cause getaddrinfo() without socktype specification to work correctly
	for numeric addresses.  The documentation appears to say this works.
	This change also causes getaddrinfo() with NULL hint (expressly
	documented as working) to work properly for numeric addresses.
	[tls, ticket #1267]

sys/dev/eisa/if_ep_eisa.c			1.40

	Add id for 5090 variant - reported in PR kern/40524 by
	Andrew Daugherity.
	[martin, ticket #1271]

sys/arch/m68k/fpe/fpu_emulate.c			1.28

	In fpu_emul_arith(), check lower 7 bits in word1 rather than only
	6 bits to check 040/060 FP instructions, and don't call fpu_implode()
	and fpu_upd_fpsr() if no vaild emulated result is set otherwise these
	functions cause NULL pointer dereference.
	[tsutsui, ticket #1268]

usr.bin/locale/locale.c				1.7

	Fix off-by-one in malloc().
	[tnozaki, ticket #1269]

sbin/raidctl/raidctl.c				1.40

	Use correct format to print the "numBlocks" element in a RAIDframe
	component label. raidctl(8) should now print the correct number of
	blocks for RAID sets larger than 1TB.

	Patch supplied by Bernhard Moellemann in PR bin/40479.
	[tron, ticket #1270]

sbin/rndctl/rndctl.8				1.16
sbin/rndctl/rndctl.c				1.18

	Adjust synopsis and description to make it clear that -d devname and 
	-t devtype are mutually exclusive.
	Instead of silently ignoring extra args, print a usage error.  This
	adddresses the silent failure reported in PR 39862 by Brian A. Seklecki
	Adjust usage message to match the synopsis in the man page.
	[dholland, ticket #1274]

tools/compat/compat_defs.h			patch
tools/compat/configure				patch
tools/compat/configure.ac			patch
tools/compat/nbtool_config.h.in			patch

	Fix build on netbsd-5 amd64 hosts.
	[adrianp, ticket #1278]

usr.sbin/syslogd/syslogd.8			patch

	Fix typo: LOT_NOTICE -> LOG_NOTICE.
	[bouyer, ticket #1272]

sys/dev/raidframe/rf_reconstruct.c		1.107

	If we see a RF_RECON_WRITE_ERROR event we know a write has
	finished and we need to account for that.  Failure to do so
	means we can end up waiting forever for writes we think are
	outstanding, but which have already completed.

	Addresses the RAIDframe part of PR#40569.
	[oster, ticket #1276]

sys/dev/ic/ahcisata_core.c			1.19

	When an error is reported on a write, data may have been
	transfered to the device's cache anyway and so cmdh_prdbc
	reports a completed transfer. If we use it to update
	ata_bio->bcount this has 2 conseqences:
	- the automatic LBA48 workaround doesn't qick in because bcount
	is used to compute the last sector of the transfer (wd(4) part
	of kern/40569)
	- wd(4) will report a B_ERROR buffer with a b_resid of 0, which
	panics a DIAGNOSTIC kernel
	Fix by ignoring cmdh_prdbc if we had a write with errors, and in
	this case leave ata_bio->bcount at its initial value.

	While there use NOERROR instead of 0 for ata_bio->error (cosmetic).
	[bouyer, ticket #1277]

bin/sh/redir.c					1.30

	Conform to XCU Section 2.8.2 (Exit Status for Commands) reported
	by Oki.  Fixes PR#36822.
	[msaitoh, ticket #1281]

sys/net/if_pppoe.c				1.94 via patch

	PR/40690: Jordan Gordeev: pppoe(4) doesn't work when PPPoE relays
	are present. Add support for sending the session id tag back.
	[christos, ticket #1279]

usr.sbin/user/user.c				1.121

	Use getpwnam_r to avoid trashing result of previous call to
	getpwnam().  Fixes PR bin/40994.
	[mlelstv, ticket #1286]

sys/arch/xen/xen/if_xennet_xenbus.c		1.34
src/sys/arch/xen/xen/xbd_xenbus.c		1.39

	Fix rnd(4) support for Xen3 xennet. Add rnd(4) support to Xen3 xbd.
	Should fix PR port-xen/40739.
	[bouyer, ticket #1282]

sys/kern/init_sysctl.c				1.158

	always calculate "needed" for KERN_FILE2 calls.  this allows a caller
	to get an estimate of the needed space, like the intention is.
	[mrg, ticket #1287]

usr.sbin/pstat/pstat.c				1.113

	convert getfiles() to use KERN_FILE2 sysctl.
	Now it can survive "struct file" changing, as is upcoming.
	[mrg, ticket #1289]

src/sys/arch/macppc/include/bus.h               patch
	
	Provide dummy bus_space_alloc() and bus_space_free(), some
	driver needs it.
	[martin, ticket #1283]

distrib/sets/lists/base/mi		1.706-707,1.797 via patch
distrib/sets/lists/man/mi		1.1006
etc/mtree/NetBSD.dist			1.340
share/man/man4/Makefile			1.432
sys/arch/amd64/conf/GENERIC		1.149 via patch
sys/arch/i386/conf/ALL			1.103
sys/arch/i386/conf/GENERIC		1.832
sys/arch/i386/conf/GENERIC_LAPTOP	1.237
sys/arch/macppc/conf/GENERIC		1.257
sys/arch/sparc64/conf/GENERIC		1.86
sys/dev/usb/usbdevs			1.468,1.479-480 via patch
sys/dev/usb/usbdevs.h			regen
sys/dev/usb/usbdevs_data.h		regen
sys/dev/microcode/Makefile		1.7
sys/dev/usb/files.usb			patch
share/man/man4/zyd.4			1.1 via patch
sys/dev/microcode/zyd/Makefile		1.1-1.2
sys/dev/microcode/zyd/build.c		1.1
sys/dev/microcode/zyd/microcode.h	1.1
sys/dev/microcode/zyd/zd1211-license	1.1
sys/dev/microcode/zyd/zyd-zd1211	1.1
sys/dev/microcode/zyd/zyd-zd1211b	1.1
sys/dev/usb/if_zyd.c			patch
sys/dev/usb/if_zydreg.h			1.1-1.2

	Add ZyDAS ZD1211/ZD1211B USB IEEE 802.11b/g wireless network device
	support
	[msaitoh, ticket #1284]

sbin/fsck_ext2fs/fsck.h				1.14 via patch
sbin/fsck_ext2fs/fsck_ext2fs.8			1.15 via patch
sbin/fsck_ext2fs/inode.c			1.23 via patch
sbin/fsck_ext2fs/main.c				1.30 via patch
sbin/fsck_ffs/fsck.h				1.47 via patch
sbin/fsck_ffs/fsck_ffs.8			1.44 via patch
sbin/fsck_ffs/inode.c				1.61 via patch
sbin/fsck_ffs/main.c				1.71 via patch
sbin/fsck_lfs/fsck.h				1.18 via patch
sbin/fsck_lfs/fsck_lfs.8			1.21 via patch
sbin/fsck_lfs/inode.c				1.40 via patch
sbin/fsck_lfs/main.c				1.38 via patch

	Disable userid to username lookups by default. Add a -U flag to
	perform them.
	In single user mode lookups that involve the network might not work
	and they slow down fsck.
	[manu, ticket #1288]

usr.sbin/btpand/Makefile			1.1, 1.2
usr.sbin/btpand/bnep.c				1.1 - 1.3
usr.sbin/btpand/bnep.h				1.1
usr.sbin/btpand/btpand.8			1.1 - 1.3
usr.sbin/btpand/btpand.c			1.1
usr.sbin/btpand/btpand.h			1.1
usr.sbin/btpand/channel.c			1.1
usr.sbin/btpand/client.c			1.1, 1.2
usr.sbin/btpand/packet.c			1.1
usr.sbin/btpand/sdp.c				1.1, 1.2
usr.sbin/btpand/sdp.h				1.1, 1.2
usr.sbin/btpand/server.c			1.1, 1.2
usr.sbin/btpand/tap.c				1.1 via patch
usr.sbin/Makefile				patch
distrib/sets/lists/base/mi			patch
distrib/sets/lists/comp/mi			patch
distrib/sets/lists/man/mi			patch

	add btpand(8), a Bluetooth PAN daemon
	[plunky, ticket #1290]


share/mk/bsd.sys.mk				patch

	Avoid passing "-std=c99" in CFLAGS on host platforms
	that use a compiler other than GCC.  Requested in PR 40540
	[apb, ticket 1285]
usr.bin/netstat/inet.c				1.89
usr.bin/netstat/inet6.c				1.51
usr.bin/netstat/iso.c				1.31

	Make netstat handle -a properly; that is, don't show unconnected
	listener sockets unless -a was given. (It was checking the local
	address instead of the remote address for being INADDR_ANY or
	equivalent.)
	PR 38093 from Dieter Roelants; I adjusted the patch a little.
	[dholland, ticket #1292]

share/man/man3/bits.3				1.3

	PR/39381 - Taylor R Campbell
	missing line break causing funny formatting
	[dholland, ticket #1293]

sys/net/if_ether.h				1.52

	PR/39203: Paul Ripke: PPPoE issues with broken MTU/MRU implementations
	Allow larger frames for systems that don't negotiate MTU/MRU properly.
	[dholland, ticket #1294]

sys/dev/usb/if_ural.c				1.29 via patch

	Fix type.
	s/amrr_min_success_threshold/amrr_max_success_threshold/ in second line.
	[msaitoh, ticket #1295]

sys/dev/ic/rt2560.c				1.14 via patch
sys/dev/ic/rt2661.c				1.20 via patch
sys/dev/usb/if_rum.c				1.17 via patch
sys/dev/usb/if_ural.c				1.26 via patch

	Fix a number of driver which doesn't check wep flag in *_tx_mgt.
	It is incorrect because we need to encrypt some management frame
	in case of shared authentification.
	[msaitoh, ticket #1298]

sys/dev/ic/rtl8169.c		1.104 (via patch), 1.105 (via patch),
				1.106 (via patch), 1.108, 1.109 (via patch),
				1.110, 1.111, 1.112, 1.113
sys/dev/ic/rtl81x9reg.h		1.30, 1.31, 1.32, 1.33, 1.34, 1.35
sys/dev/ic/rtl81x9var.h		1.42, 1.43, 1.44, 1.45
sys/dev/pci/if_re_pci.c		1.35

	Add support for 8168C/8111C/8102E chips
	Fix MAC reset issue (PR kern/41009)
	Add/fix HW checksum support (PR kern/40955)
	[tsutsui, ticket #1297]

common/lib/libprop/prop_object.c	patch

	Fix crash where user was able to crash proplib with trying to
	internalize bad xml file with non-existing data type e.g. <number>.
	[haad, ticket #1296]

sys/kern/kern_sig.c				1.296

	In sigput(), save the siginfo no matter whether SA_SIGINFO is
	set or not.  There are also sigtimedwait(2) et al. to catch
	signals without invoking a signal handler. Addresses the first
	test case in PR kern/41076.
	[drochner, ticket #1299]

lib/libpthread/pthread_sig.c			patch

	In the pthreads wrapper for __sigaction14, return -1 and set errno
	rather than returning an error number directly like many pthreads
	functions do. Fixes a problem where sigaction(-1, ...) returns
	EINVAL instead of failing with EINVAL, reported by Matteo Beccati
	in PR lib/41085.
	[dholland, ticket #1301]

sys/sys/file.h					patch
sys/kern/uipc_usrreq.c				patch

	Avoid deep recursion and file descriptor exhaustion.
	1. unp_detach: go not call unp_gc directly for descriptors
	that are unixdomain sockets themselves. Instead mark them
	for cleanup during garbage collection.
	2. unp_gc: handle detach of descriptors that were marked earlier.
	3. prohibit transfer of descriptors within SCM_RIGHTS messages if
	(num_files_in_transit > maxfiles / unp_rights_ratio)                    
	[mlelstv, ticket #1303]

sys/dist/pf/net/pf.c				1.54 via patch

	Fix http://www.securityfocus.com/archive/1/502634.
	[christos, ticket #1305]

sys/dev/sbus/zx.c				1.25 via patch
sys/dev/sbus/zxreg.h				1.6 via patch
sys/dev/sbus/zxvar.h				1.3

	Use bus_space(9) to access registers.  SETREG() macro using bogus
	casts against packed structures doesn't work on gcc4. (no
	character on screen).  See also:
	http://mail-index.NetBSD.org/port-sparc/2003/11/11/0002.html
	[tsutsui, ticket #1300]

sys/arch/mvme68k/stand/Makefile.booters		1.18
sys/arch/mvme68k/stand/bootst/dev_tape.c	1.11
sys/arch/mvme68k/stand/bootst/version		1.5

	Fix for install/40961: The RAMDISK kernel has grown significantly
	since bootst was written. Grab 3MB of the kernel image from tape
	in hackprom_diskrd() instead of 2MB.
	Bump bootst version on account of the above fix.
	While here, use -Os instead of -O2 to compile mvme68k stand code.
	[scw, ticket #1304]

dist/ntp/ntpq/ntpq.c				1.12

	Fix CVE-2009-0159.
	[christos, ticket #1308]

lib/libc/db/btree/bt_split.c			1.19
lib/libc/db/hash/hash_buf.c			1.15, 1.16
lib/libc/db/mpool/mpool.c			1.19

	Avoid information leaks by zeroing memory, from FreeBSD.
	[christos, ticket #1310]

lib/libedit/common.c				1.23

	fix mis-evaluating whether a char is digit or not.
	[msaitoh, ticket #1307]

sys/arch/vax/vax/subr.S				1.26

	Make copyin(9) and copyout(9) work with 64KB or larger data blocks.
	Fixes broken pipe(2) problem mentioned in PR port-vax/41139.
	[mhitch, ticket #1309]

lib/libc/db/hash/hash_buf.c			1.17, 1.18

	Fix build fallout from ticket 1310
	[hauke, ticket #1311]

usr.sbin/racoonctl/Makefile			1.5 via patch

	adjust the ADMINPORTDIR to match that of racoon (with which
	it'll want to talk) fixes PR 41376
	[spz, ticket #1312]

lib/libc/stdio/vfwprintf.c			1.15

	printf("%zi\n", (ssize_t)-1); now correcly prints -1 on i386
	[cube, ticket #1313]

share/man/man8/afterboot.8			1.39

	Fix typo, from Shannon -jj Behrens in PR 41375.
	[dholland, ticket #1314]

sys/arch/mac68k/conf/GENERIC			1.188
sys/arch/mac68k/obio/esp.c			1.51 via patch

	Add LOCKDEBUG option, commented out, so that people know it's there.
	esp_quick_dma_go() gets called from the MI ncr53c9x_intr() handler,
	which protects itself against multiple invocation with a
	simple_lock.  Fixes PR mac68k/38758.
	[hauke, ticket #1315]

sys/arch/xen/xen/if_xennet_xenbus.c		1.35

	Do not forget to detach rnd(4) device when removing a xennet device.
	[jym, ticket #1316]

sys/arch/sparc/include/psl.h			1.45

	Add memory clobbers to the inline assembler modifying/testing the %psr
	register, to avoid the compiler reordering instructions out of critical
	sections. Should fix PR port-sparc/41372.
	[martin, ticket #1317]

lib/libc/gen/sysctl.3				patch

	document PROC_PID_LIMIT_SBSIZE. Addresses PR 36463.
	[snj, ticket #1318]

dist/ntp/ntpd/ntp_crypto.c			1.15

	Fix CVE-2009-1252: Buffer overflow in ntpd crypto code. A remote
	attacker can send a specially constructed request packet that
	would overflow the sprintf()'ed buffer causing ntpd to crash.
	[mrg, ticket #1320]

sys/net80211/ieee80211_netbsd.h			1.15
sys/sys/queue.h					1.49

	Move TAILQ_FOREACH_SAFE to sys/queue.h.
	[joerg, ticket #1321]

Makefile					patch
UPDATING					patch
distrib/sets/lists/base/mi			patch
distrib/sets/lists/base/shl.elf			patch
distrib/sets/lists/base/shl.mi			patch
distrib/sets/lists/comp/mi			patch
distrib/sets/lists/comp/shl.mi			patch
distrib/sets/lists/man/mi			patch
external/Makefile				patch
external/bsd/Makefile				patch
external/bsd/fetch/Makefile			patch
external/bsd/fetch/Makefile.inc			patch
external/bsd/fetch/dist/libfetch/common.c	patch
external/bsd/fetch/dist/libfetch/common.h	patch
external/bsd/fetch/dist/libfetch/errlist.sh	patch
external/bsd/fetch/dist/libfetch/fetch.3	patch
external/bsd/fetch/dist/libfetch/fetch.c	patch
external/bsd/fetch/dist/libfetch/fetch.cat3	patch
external/bsd/fetch/dist/libfetch/fetch.h	patch
external/bsd/fetch/dist/libfetch/file.c		patch
external/bsd/fetch/dist/libfetch/ftp.c		patch
external/bsd/fetch/dist/libfetch/ftp.errors	patch
external/bsd/fetch/dist/libfetch/http.c		patch
external/bsd/fetch/dist/libfetch/http.errors	patch
external/bsd/fetch/lib/Makefile			patch
external/bsd/fetch/lib/shlib_version		patch
external/bsd/libarchive/Makefile		patch
external/bsd/libarchive/Makefile.inc		patch
external/bsd/libarchive/prepare-import.sh	patch
external/bsd/libarchive/bin/Makefile		patch
external/bsd/libarchive/bin/Makefile.inc	patch
external/bsd/libarchive/bin/cpio/Makefile	patch
external/bsd/libarchive/bin/tar/Makefile	patch
external/bsd/libarchive/dist/COPYING		patch
external/bsd/libarchive/dist/NEWS		patch
external/bsd/libarchive/dist/cpio/bsdcpio.1	patch
external/bsd/libarchive/dist/cpio/cmdline.c	patch
external/bsd/libarchive/dist/cpio/cpio.c	patch
external/bsd/libarchive/dist/cpio/cpio.h	patch
external/bsd/libarchive/dist/cpio/cpio_platform.h patch
external/bsd/libarchive/dist/cpio/err.c		patch
external/bsd/libarchive/dist/cpio/matching.c	patch
external/bsd/libarchive/dist/cpio/matching.h	patch
external/bsd/libarchive/dist/cpio/pathmatch.c	patch
external/bsd/libarchive/dist/cpio/pathmatch.h	patch
external/bsd/libarchive/dist/cpio/test/list.h	patch
external/bsd/libarchive/dist/cpio/test/main.c	patch
external/bsd/libarchive/dist/cpio/test/test.h	patch
external/bsd/libarchive/dist/cpio/test/test_0.c	patch
external/bsd/libarchive/dist/cpio/test/test_basic.c patch
external/bsd/libarchive/dist/cpio/test/test_format_newc.c patch
external/bsd/libarchive/dist/cpio/test/test_gcpio_compat.c patch
external/bsd/libarchive/dist/cpio/test/test_gcpio_compat_ref.bin.uu patch
external/bsd/libarchive/dist/cpio/test/test_gcpio_compat_ref.crc.uu patch
external/bsd/libarchive/dist/cpio/test/test_gcpio_compat_ref.newc.uu patch
external/bsd/libarchive/dist/cpio/test/test_gcpio_compat_ref.ustar.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_B.c patch
external/bsd/libarchive/dist/cpio/test/test_option_L.c patch
external/bsd/libarchive/dist/cpio/test/test_option_a.c patch
external/bsd/libarchive/dist/cpio/test/test_option_c.c patch
external/bsd/libarchive/dist/cpio/test/test_option_d.c patch
external/bsd/libarchive/dist/cpio/test/test_option_ell.c patch
external/bsd/libarchive/dist/cpio/test/test_option_f.c patch
external/bsd/libarchive/dist/cpio/test/test_option_f.cpio.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_help.c patch
external/bsd/libarchive/dist/cpio/test/test_option_m.c patch
external/bsd/libarchive/dist/cpio/test/test_option_m.cpio.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_t.c patch
external/bsd/libarchive/dist/cpio/test/test_option_t.cpio.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_t.stdout.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_tv.stdout.uu patch
external/bsd/libarchive/dist/cpio/test/test_option_u.c patch
external/bsd/libarchive/dist/cpio/test/test_option_version.c patch
external/bsd/libarchive/dist/cpio/test/test_option_y.c patch
external/bsd/libarchive/dist/cpio/test/test_option_z.c patch
external/bsd/libarchive/dist/cpio/test/test_owner_parse.c patch
external/bsd/libarchive/dist/cpio/test/test_pathmatch.c patch
external/bsd/libarchive/dist/libarchive/archive.h patch
external/bsd/libarchive/dist/libarchive/archive_check_magic.c patch
external/bsd/libarchive/dist/libarchive/archive_endian.h patch
external/bsd/libarchive/dist/libarchive/archive_entry.3 patch
external/bsd/libarchive/dist/libarchive/archive_entry.c patch
external/bsd/libarchive/dist/libarchive/archive_entry.h patch
external/bsd/libarchive/dist/libarchive/archive_entry_copy_stat.c patch
external/bsd/libarchive/dist/libarchive/archive_entry_link_resolver.c patch
external/bsd/libarchive/dist/libarchive/archive_entry_private.h patch
external/bsd/libarchive/dist/libarchive/archive_entry_stat.c patch
external/bsd/libarchive/dist/libarchive/archive_entry_strmode.c patch
external/bsd/libarchive/dist/libarchive/archive_platform.h patch
external/bsd/libarchive/dist/libarchive/archive_private.h patch
external/bsd/libarchive/dist/libarchive/archive_read.3 patch
external/bsd/libarchive/dist/libarchive/archive_read.c patch
external/bsd/libarchive/dist/libarchive/archive_read_data_into_fd.c patch
external/bsd/libarchive/dist/libarchive/archive_read_extract.c patch
external/bsd/libarchive/dist/libarchive/archive_read_open_fd.c patch
external/bsd/libarchive/dist/libarchive/archive_read_open_file.c patch
external/bsd/libarchive/dist/libarchive/archive_read_open_filename.c patch
external/bsd/libarchive/dist/libarchive/archive_read_open_memory.c patch
external/bsd/libarchive/dist/libarchive/archive_read_private.h patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_all.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_bzip2.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_compress.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_gzip.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_none.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_compression_program.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_all.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_ar.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_cpio.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_empty.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_iso9660.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_mtree.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_tar.c patch
external/bsd/libarchive/dist/libarchive/archive_read_support_format_zip.c patch
external/bsd/libarchive/dist/libarchive/archive_string.c patch
external/bsd/libarchive/dist/libarchive/archive_string.h patch
external/bsd/libarchive/dist/libarchive/archive_string_sprintf.c patch
external/bsd/libarchive/dist/libarchive/archive_util.3 patch
external/bsd/libarchive/dist/libarchive/archive_util.c patch
external/bsd/libarchive/dist/libarchive/archive_virtual.c patch
external/bsd/libarchive/dist/libarchive/archive_windows.c patch
external/bsd/libarchive/dist/libarchive/archive_windows.h patch
external/bsd/libarchive/dist/libarchive/archive_write.3 patch
external/bsd/libarchive/dist/libarchive/archive_write.c patch
external/bsd/libarchive/dist/libarchive/archive_write_disk.3 patch
external/bsd/libarchive/dist/libarchive/archive_write_disk.c patch
external/bsd/libarchive/dist/libarchive/archive_write_disk_private.h patch
external/bsd/libarchive/dist/libarchive/archive_write_disk_set_standard_lookup.c patch
external/bsd/libarchive/dist/libarchive/archive_write_open_fd.c patch
external/bsd/libarchive/dist/libarchive/archive_write_open_file.c patch
external/bsd/libarchive/dist/libarchive/archive_write_open_filename.c patch
external/bsd/libarchive/dist/libarchive/archive_write_open_memory.c patch
external/bsd/libarchive/dist/libarchive/archive_write_private.h patch
external/bsd/libarchive/dist/libarchive/archive_write_set_compression_bzip2.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_compression_compress.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_compression_gzip.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_compression_none.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_compression_program.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_ar.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_by_name.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_cpio.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_cpio_newc.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_pax.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_shar.c patch
external/bsd/libarchive/dist/libarchive/archive_write_set_format_ustar.c patch
external/bsd/libarchive/dist/libarchive/config_freebsd.h patch
external/bsd/libarchive/dist/libarchive/config_windows.h patch
external/bsd/libarchive/dist/libarchive/cpio.5	patch
external/bsd/libarchive/dist/libarchive/filter_fork.c patch
external/bsd/libarchive/dist/libarchive/filter_fork.h patch
external/bsd/libarchive/dist/libarchive/libarchive-formats.5 patch
external/bsd/libarchive/dist/libarchive/libarchive.3 patch
external/bsd/libarchive/dist/libarchive/libarchive_internals.3 patch
external/bsd/libarchive/dist/libarchive/mtree.5	patch
external/bsd/libarchive/dist/libarchive/tar.5 patch
external/bsd/libarchive/dist/libarchive/test/list.h patch
external/bsd/libarchive/dist/libarchive/test/main.c patch
external/bsd/libarchive/dist/libarchive/test/read_open_memory.c patch
external/bsd/libarchive/dist/libarchive/test/test.h patch
external/bsd/libarchive/dist/libarchive/test/test_acl_basic.c patch
external/bsd/libarchive/dist/libarchive/test/test_acl_pax.c patch
external/bsd/libarchive/dist/libarchive/test/test_archive_api_feature.c patch
external/bsd/libarchive/dist/libarchive/test/test_bad_fd.c patch
external/bsd/libarchive/dist/libarchive/test/test_compat_gtar.c patch
external/bsd/libarchive/dist/libarchive/test/test_compat_gtar_1.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_compat_tar_hardlink.c patch
external/bsd/libarchive/dist/libarchive/test/test_compat_tar_hardlink_1.tar.uu patch
external/bsd/libarchive/dist/libarchive/test/test_compat_zip.c patch
external/bsd/libarchive/dist/libarchive/test/test_compat_zip_1.zip.uu patch
external/bsd/libarchive/dist/libarchive/test/test_empty_write.c patch
external/bsd/libarchive/dist/libarchive/test/test_entry.c patch
external/bsd/libarchive/dist/libarchive/test/test_entry_strmode.c patch
external/bsd/libarchive/dist/libarchive/test/test_link_resolver.c patch
external/bsd/libarchive/dist/libarchive/test/test_pax_filename_encoding.c patch
external/bsd/libarchive/dist/libarchive/test/test_pax_filename_encoding.tar.gz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_compress_program.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_data_large.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_extract.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_ar.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_bin.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_bin_Z.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_bin_bz2.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_bin_gz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_odc.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_svr4_gzip.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_cpio_svr4c_Z.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_empty.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_gz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_13.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_17.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_17_posix00.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_17_posix01.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_17_posix10.tgz.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_gtar_sparse_1_17_posix10_modified.tar.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_iso_gz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_isorr_bz2.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_isorr_bz2.iso.bz2.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_mtree.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_pax_bz2.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tar.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tar_empty_filename.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tar_empty_filename.tar.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tbz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tgz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_tz.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_zip.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_format_zip.zip.uu patch
external/bsd/libarchive/dist/libarchive/test/test_read_large.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_pax_truncated.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_position.c patch
external/bsd/libarchive/dist/libarchive/test/test_read_truncated.c patch
external/bsd/libarchive/dist/libarchive/test/test_tar_filenames.c patch
external/bsd/libarchive/dist/libarchive/test/test_tar_large.c patch
external/bsd/libarchive/dist/libarchive/test/test_ustar_filenames.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_compress.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_compress_program.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_disk.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_disk_hardlink.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_disk_perms.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_disk_secure.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_ar.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_cpio.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_cpio_empty.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_cpio_newc.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_cpio_odc.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_shar_empty.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_tar.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_tar_empty.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_format_tar_ustar.c patch
external/bsd/libarchive/dist/libarchive/test/test_write_open_memory.c patch
external/bsd/libarchive/dist/tar/bsdtar.1	patch
external/bsd/libarchive/dist/tar/bsdtar.c	patch
external/bsd/libarchive/dist/tar/bsdtar.h	patch
external/bsd/libarchive/dist/tar/bsdtar_platform.h patch
external/bsd/libarchive/dist/tar/getdate.y	patch
external/bsd/libarchive/dist/tar/matching.c	patch
external/bsd/libarchive/dist/tar/read.c		patch
external/bsd/libarchive/dist/tar/siginfo.c	patch
external/bsd/libarchive/dist/tar/subst.c	patch
external/bsd/libarchive/dist/tar/tree.c		patch
external/bsd/libarchive/dist/tar/tree.h		patch
external/bsd/libarchive/dist/tar/util.cx	patch
external/bsd/libarchive/dist/tar/write.c	patch
external/bsd/libarchive/dist/tar/test/main.c	patch
external/bsd/libarchive/dist/tar/test/test.h	patch
external/bsd/libarchive/dist/tar/test/test_0.c	patch
external/bsd/libarchive/dist/tar/test/test_basic.c patch
external/bsd/libarchive/dist/tar/test/test_copy.c patch
external/bsd/libarchive/dist/tar/test/test_getdate.c patch
external/bsd/libarchive/dist/tar/test/test_help.c patch
external/bsd/libarchive/dist/tar/test/test_option_T.c patch
external/bsd/libarchive/dist/tar/test/test_patterns.c patch
external/bsd/libarchive/dist/tar/test/test_stdio.c patch
external/bsd/libarchive/dist/tar/test/test_version.c patch
external/bsd/libarchive/include/config_netbsd.h	patch
external/bsd/libarchive/lib/Makefile		patch
external/bsd/libarchive/lib/shlib_version	patch
external/bsd/pkg_install/Makefile		patch
external/bsd/pkg_install/Makefile.inc		patch
external/bsd/pkg_install/prepare-import.sh	patch
external/bsd/pkg_install/dist/add/add.h		patch
external/bsd/pkg_install/dist/add/main.c	patch
external/bsd/pkg_install/dist/add/perform.c	patch
external/bsd/pkg_install/dist/add/pkg_add.1	patch
external/bsd/pkg_install/dist/admin/README	patch
external/bsd/pkg_install/dist/admin/admin.h	patch
external/bsd/pkg_install/dist/admin/audit-packages.sh.in patch
external/bsd/pkg_install/dist/admin/audit.c	patch
external/bsd/pkg_install/dist/admin/check.c	patch
external/bsd/pkg_install/dist/admin/download-vulnerability-list.sh.in patch
external/bsd/pkg_install/dist/admin/main.c	patch
external/bsd/pkg_install/dist/admin/pkg_admin.1	patch
external/bsd/pkg_install/dist/bpm/bpm.1		patch
external/bsd/pkg_install/dist/bpm/bpm.sh.in	patch
external/bsd/pkg_install/dist/create/build.c	patch
external/bsd/pkg_install/dist/create/create.h	patch
external/bsd/pkg_install/dist/create/main.c	patch
external/bsd/pkg_install/dist/create/perform.c	patch
external/bsd/pkg_install/dist/create/pkg_create.1 patch
external/bsd/pkg_install/dist/create/pl.c	patch
external/bsd/pkg_install/dist/create/util.c	patch
external/bsd/pkg_install/dist/delete/pkg_delete.1 patch
external/bsd/pkg_install/dist/delete/pkg_delete.c patch
external/bsd/pkg_install/dist/info/info.h	patch
external/bsd/pkg_install/dist/info/main.c	patch
external/bsd/pkg_install/dist/info/perform.c	patch
external/bsd/pkg_install/dist/info/pkg_info.1	patch
external/bsd/pkg_install/dist/info/show.c	patch
external/bsd/pkg_install/dist/lib/automatic.c	patch
external/bsd/pkg_install/dist/lib/config.h.in	patch
external/bsd/pkg_install/dist/lib/conflicts.c	patch
external/bsd/pkg_install/dist/lib/decompress.c	patch
external/bsd/pkg_install/dist/lib/defs.h	patch
external/bsd/pkg_install/dist/lib/dewey.c	patch
external/bsd/pkg_install/dist/lib/dewey.hx	patch
external/bsd/pkg_install/dist/lib/fexec.c	patch
external/bsd/pkg_install/dist/lib/file.c	patch
external/bsd/pkg_install/dist/lib/global.c	patch
external/bsd/pkg_install/dist/lib/gpgsig.c	patch
external/bsd/pkg_install/dist/lib/iterate.c	patch
external/bsd/pkg_install/dist/lib/lib.h		patch
external/bsd/pkg_install/dist/lib/license.c	patch
external/bsd/pkg_install/dist/lib/lpkg.c	patch
external/bsd/pkg_install/dist/lib/opattern.c	patch
external/bsd/pkg_install/dist/lib/parse-config.c patch
external/bsd/pkg_install/dist/lib/pkcs7.c	patch
external/bsd/pkg_install/dist/lib/pkg_install.conf.5.in patch
external/bsd/pkg_install/dist/lib/pkg_io.c	patch
external/bsd/pkg_install/dist/lib/pkg_signature.c patch
external/bsd/pkg_install/dist/lib/pkg_summary.5	patch
external/bsd/pkg_install/dist/lib/pkgdb.c	patch
external/bsd/pkg_install/dist/lib/pkgsrc.7	patch
external/bsd/pkg_install/dist/lib/plist.c	patch
external/bsd/pkg_install/dist/lib/remove.c	patch
external/bsd/pkg_install/dist/lib/str.c		patch
external/bsd/pkg_install/dist/lib/var.c		patch
external/bsd/pkg_install/dist/lib/version.c	patch
external/bsd/pkg_install/dist/lib/version.h	patch
external/bsd/pkg_install/dist/lib/vulnerabilities-file.c patch
external/bsd/pkg_install/dist/lib/xwrapper.c	patch
external/bsd/pkg_install/dist/x509/pkgsrc.cnf	patch
external/bsd/pkg_install/dist/x509/pkgsrc.sh	patch
external/bsd/pkg_install/dist/x509/signing.txt patch
external/bsd/pkg_install/lib/Makefile		patch
external/bsd/pkg_install/lib/config.h		patch
external/bsd/pkg_install/lib/nbcompat.h		patch
external/bsd/pkg_install/sbin/Makefile		patch
external/bsd/pkg_install/sbin/Makefile.inc	patch
external/bsd/pkg_install/sbin/bpm/Makefile	patch
external/bsd/pkg_install/sbin/pkg_add/Makefile	patch
external/bsd/pkg_install/sbin/pkg_admin/Makefile patch
external/bsd/pkg_install/sbin/pkg_create/Makefile patch
external/bsd/pkg_install/sbin/pkg_delete/Makefile patch
external/bsd/pkg_install/sbin/pkg_info/Makefile	patch
external/lib/Makefile				patch
usr.sbin/Makefile				patch

	Pull up pkg_install-20090528, libarchive-2.5.5 and libfetch-2.23
	with the associated build infrastructure as of 20090529 from HEAD. 
	[joerg, ticket #1322]

share/i18n/csmapper/CP/mapper.dir.CP.src	1.10 via patch

	PR/39445, fix wrong charsets priority for CP932.
	[tnozaki, ticket #1194]

sys/arch/sh3/sh3/locore_subr.S			1.52

	Fix logic error in copyinstr() when deciding whether to return EFAULT
	or ENAMETOOLONG.
	[uwe, ticket #1323]

lib/libpam/modules/pam_unix/pam_unix.c		1.13
	Restore the good old UNIX behavior of root password changing: only root
	may change the root password.

	(Checked that everybody else's password can be changed without any
	problem, and checked that root can still change the root password.)
	[tonnerre, ticket #1326]

usr.bin/window/ttgeneric.c			1.11

	PR/41581: Der mouse: window SEGV with certain terminals.  does strcmp
	first and then checks for null pointer for underline and bold.
	[christos, ticket #1324]

sys/arch/amd64/amd64/mainbus.c			1.28 via patch
sys/arch/i386/i386/mainbus.c			1.85 via patch
sys/arch/x86/x86/mp.c				1.2 via patch
sys/arch/x86/x86/mpacpi.c			patch
sys/arch/x86/x86/mpbios.c			patch

	Apply fixes from jmcneill@ for PR port-i386/38729 (ACPI kernel booted
	under qemu cannot detect devices):
	- make MP SCANPCI function for ACPI_SCANPCI and MPBIOS_SCANPCI
	  return a number of attached PCI busses
	- if no valid PCI busses are attached in the MP SCANPCI function,
	  try to probe and attach pci0 at mainbus as well as kernels
	  with no SCANPCI options
	[tsutsui, ticket #1327]

sys/compat/linux/common/linux_sched.c		1.59

	In linux_sys_sched_getaffinity(), do not leak memory on error.
	[njoly, ticket #1328]

external/bsd/pkg_install/dist/admin/pkg_admin.1	1.1.1.7
external/bsd/pkg_install/dist/lib/license.c	1.1.1.3
external/bsd/pkg_install/dist/lib/version.h	1.1.1.16

	Merge pkg_install-20090610 from HEAD
	[joerg, ticket #1325]

dist/tcpdump/print-bgp.c			patch
dist/tcpdump/print-isoclns.c			patch
dist/tcpdump/print-ldp.c			patch
dist/tcpdump/print-rsvp.c			patch
 
	Fix CAN-2005-1278, CAN-2005-1279 and CAN-2005-1280.
	[tonnerre, ticket #1329]
 
games/hunt/huntd/answer.c			1.10

	Fix possible remote DoS of a running hunt game, and prevent
	a possible theoretical attack involving >= 1 billion ammo.
	[dholland, ticket #1330]

games/hack/extern.h				1.11
games/hack/hack.do_name.c			1.9, 1.10
games/hack/hack.eat.c				1.8
games/hack/hack.end.c				1.12 via patch
games/hack/hack.fight.c				1.10 via patch
games/hack/hack.h				1.13 via patch
games/hack/hack.invent.c			1.12, 1.13
games/hack/hack.main.c				1.12, 1.13
games/hack/hack.objnam.c			1.9
games/hack/hack.options.c			1.9  
games/hack/hack.pri.c				1.11
games/hack/hack.rip.c				1.10, 1.11
games/hack/hack.shk.c				1.10
games/hack/hack.topl.c				1.10, 1.11
games/hack/hack.unix.c				1.12, 1.13
        
	sprintf -> snprintf, plus some use of strlcpy/strlcat where
       	appropriate.
	Fix two serious string-handling bugs (one exploitable, one
	probably exploitable) and also add proper checking/paranoia
	in several other places.
	[dholland, ticket #1331]

crypto/dist/ssh/cipher.c			1.22 via patch
crypto/dist/ssh/cipher.h			1.3 via patch
crypto/dist/ssh/packet.c			1.32 via patch

	Add special handling for CBC cipher modes to make them appear
	less favorable than CTR modes. Also, in order to avoid creating
	oracles unnecessarily, change behavior in various situations
	from "Drop connection" to "Ignore packets up to 256kB". This
	affects CBC mode ciphers only.
	[tonnerre, ticket #1332]

crypto/dist/openssl/apps/speed.c		patch
crypto/dist/openssl/apps/spkac.c		patch
crypto/dist/openssl/apps/verify.c		patch
crypto/dist/openssl/apps/x509.c			patch
crypto/dist/openssl/crypto/asn1/asn1.h		patch
crypto/dist/openssl/crypto/asn1/asn1_err.c	patch
crypto/dist/openssl/crypto/asn1/tasn_dec.c	patch
crypto/dist/openssl/ssl/s2_clnt.c		patch
crypto/dist/openssl/ssl/s2_srvr.c		patch
crypto/dist/openssl/ssl/s3_clnt.c		patch
crypto/dist/openssl/ssl/s3_srvr.c		patch
crypto/dist/openssl/ssl/ssltest.c		patch

	Fixes for CVE-2009-0590, CVE-2009-0789, and CVE-2008-5077.
	[tonnerre, ticket #1333]

crypto/dist/openssl/crypto/pqueue/pqueue.c	patch
crypto/dist/openssl/crypto/pqueue/pqueue.h	patch
crypto/dist/openssl/ssl/d1_both.c		patch
crypto/dist/openssl/ssl/d1_pkt.c		patch
crypto/dist/openssl/ssl/s3_pkt.c		patch
crypto/dist/openssl/ssl/ssl.h			patch
crypto/dist/openssl/ssl/ssl_err.c		patch

	Another OpenSSL security update.
	[tonnerre, ticket #1334]

crypto/dist/openssl/ssl/d1_both.c		patch

	Fix build problem introduced with ticket 1334.
	[spz, ticket #851]

dist/dhcp/client/dhclient.c			1.20

	Limit the length of the address mask before we copy it.
	Fixes CVE-2009-0692.
	[tonnerre, ticket #1336]

dist/dhcp/server/dhcp.c				1.11

	Fix behavior of dhcpd in the case where clientid and hardware
	ethernet definitions are mixed. Fixes a refcount assertion.
	[tonnerre, ticket #1337]

common/lib/libc/hash/sha2/sha2.c		patch
crypto/dist/openssl/crypto/evp/m_sha1.c		patch
distrib/sets/lists/base/shl.mi			patch
distrib/sets/lists/comp/mi			patch
lib/libc/shlib_version				patch
lib/libc/hash/sha2/Makefile.inc			patch
lib/libc/hash/sha2/sha2.3			patch
lib/libc/hash/sha2/sha224hl.c			patch
lib/libc/include/namespace.h			patch
lib/libcrypto/libc-sha256.c			patch
lib/libcrypto/libc-sha512.c			patch
lib/libcrypto/sha.inc				patch
lib/libcrypto/shlib_version			patch
sys/sys/sha2.h					patch

	- Add support for SHA224 to libc
	- Fix Big Endian support in some cases
	- Use libc support in libcrypto
	[joerg, ticket #1338]

dist/bind/bin/named/update.c			patch

	Fix CVE-2009-0696.
	[christos, ticket #1347]

src/sys/dev/ic/rtl8169.c	1.107, 1.114, 1.115, 1.116, 1.117 (via patch),
				1.118 (via patch), 1.119, 1.121
src/sys/dev/ic/rtl81x9reg.h	1.36, 1.37, 1.38, 1.39
src/sys/dev/ic/rtl81x9var.h	1.47
src/sys/dev/mii/rgephy.c	1.16, 1.18, 1.19, 1.27 (via patch)
src/sys/dev/mii/rgephyreg.h	1.3
src/sys/dev/pci/if_re_pci.c	1.36

	- add support for RTL8211B(L) to rgephy(4)
	- add a wakeup instruction for rgephy(4) on newer re(4) chips
	- detect RTL8169CP, RTL8168D/8111D, and RTL8103E variants
	- fix rgephy(4) problem on RTL8111D reported on current-users:
	  http://mail-index.NetBSD.org/current-users/2009/04/12/msg008977.html
	  http://mail-index.NetBSD.org/current-users/2009/04/19/msg009096.html
	- pull more quirk handling from FreeBSD
	- fix RX hwcksum for DESCV2 chips for PR kern/40605
	- remove "B" suffix from RTL8168 device names in attach message 
	[tsutsui, ticket #1339]

lib/libc/sys/intro.2				1.53, 1.54

	Mention, along with the behavior of succeeding system calls, the
	normal behavior of succeeding library functions regarding errno.
	(That is, they may leave arbitrary nonzero values in errno.)
	Ok kleink@; related to PR lib/41567 as well as a recent thread on
	tech-userlevel.
	[dholland, ticket #1340]

lib/libc/stdlib/strtol.3			1.25, 1.26 via patch
lib/libc/stdlib/strtoul.3			1.22, 1.23 via patch

	Clarify the description of the errno behavior, based on the recent
	thread in tech-userlevel.
	[dholland, ticket #1341]

sys/dev/pci/if_bge.c			1.135, 1.146, 1.151-1.152,
					1.155-1.167 via patch
sys/dev/pci/if_bgereg.h			1.43, 1.48-1.52
sys/dev/pci/if_bgevar.h			1.1
sys/dev/mii/brgphy.c			1.36, 1.40, 1.43-1.44 and
					1.47-1.48 via patch
sys/dev/mii/brgphyreg.h			1.3-1.4
sys/dev/mii/miidevs			1.75, 1.77, 1.85
sys/dev/mii/miidevs.h			regen
sys/dev/mii/miidevs_data.h		regen
sys/dev/mii/miivar.h			1.54
	For bge:
	  - Really set Tx threshold.
	  - Fix the case of setting a flag in BGE_PCI_DMA_RW_CTL on
	    conventional PCI.
	  - Fix some bugs that the driver unable to detect link loss
	    (OpenBSD 1.135, FreeBSD 1.102)
	  - bge_tick(): fix some extra input error (OpenBSD 1.221 FreeBSD 1.212)
	  - Acknowledge link change interrupts by setting the 'link changed' bit
	    in the status register (used to have no effect). FreeBSD 1.44
	    (OpenBSD 1.21)
	  - Add some fiber support (OpenBSD 1.220)
	  - Set BGE_MISCCFG_KEEP_GPHY_POWER as {Open,Free}BSD and linux.
	  - Add special case code to fix a problem with the BCM5704 in TBI
	    mode (FreeBSD rev. 1.71, OpenBSD rev. 1.35)
	  - Force an interrupt in bge_ifmedia_upd (FreeBSD rev. 1.205, OpenBSD  
	    rev. 1.242)
	  - Add missing workaround for 5705 (FreeBSD rev. 1.44, OpenBSD rev.
	    1.21)
	  - Don't print error message only when the register is BGE_SRS_MODE.
	    It occurs on some environment (and once after boot?). Other *BSDs
	    and Linux don't print the error message for all registers.
	  - Fix comments.
	  - Remove obsolete codes.
	  - Add BCM5786 support.
	for brgphy:
	  - Add some quirk codes.
	  - Add support for BCM5462, BCM54K2, BCM5708C, BCM5722, and BCM5906.
	[msaitoh, ticket #1342]

usr.bin/printenv/printenv.c			1.10

	(1) reject instead of ignore extra arguments;
	(2) reject requests for environment variables containing '='
	    (PR 41774, but with different patch)
	(3) fix capitalization of usage message
	[dholland, ticket #1343]

lib/libc/sys/intro.2				1.50 via patch

	PR/40060 - Bug Hunting -- grammar fix
	[dholland, ticket #1344]

sbin/wsconsctl/wsconsctl.8			1.26

	PR/40059 - Bug Hunting -- add Xref to wscons.conf(5)
	[dholland, ticket #1345]

external/bsd/pkg_install/dist/info/perform.c	 1.1.1.10
external/bsd/pkg_install/dist/lib/license.c	 1.1.1.4
external/bsd/pkg_install/dist/lib/pkg_install.conf.5.in	 1.1.1.5
external/bsd/pkg_install/dist/lib/version.h	 1.1.1.17

	Import pkg_install-20090724:
	- license handling: accept upper case letters. Keep license checks
	  case-sensitive as done in the older pkgsrc logic. Document this.
	  OK dillo@, schmonz@, wiz@
	- pkg_info:
	- fix handling of non-packages, that are valid archives
	- invert order of pkg_info -r to better match the expectations of
	  make update.' external/bsd/pkg_install
	[joerg, ticket #1346]

sys/arch/pmax/pmax/machdep.c			1.233

	Fix an #ifdef botch in rev 1.214 that causes
	[ Kernel symbol table invalid! ] message at boot,
	which means no ksyms(4) support even on GENERIC kernel.
	[tsutsui, ticket #1348]

lib/libc/sys/semctl.2				1.18
lib/libc/sys/shmctl.2				1.20

	Fix pastos. From Jukka Salmi in PR 41605, with a very minor adjustment.
	[dholland, ticket #1351]

usr.bin/xlint/lint1/init.c			1.22

	pushinit(): fix a use-after-free bug.
	[msaitoh, ticket #1353]

sbin/dkctl/dkctl.8				1.19, 1.20
sbin/dkctl/dkctl.c				1.18

	list the partition types addwedge understands, so you don't need to
	utsl to find out what strings to use here
	fixes PR 37252
	make dkctl conform to its man page and print the device name on
	addwedge when the addition was successful (as well as indicating
	success).
	[spz, ticket #1350]

bin/pax/options.c				1.105 via patch
usr.bin/ctags/C.c				1.19
usr.bin/ctags/ctags.h				1.9
usr.bin/ctags/fortran.c				1.11
usr.bin/ctags/lisp.c				1.11
usr.bin/ctags/print.c				1.10
usr.bin/ctags/yacc.c				1.12
usr.bin/gencat/gencat.c				1.30 via patch

	Rename internal getline() function to get_line() so it does
	not conflict with -current's getline(3) libc function.
	[plunky, ticket #1354]

sys/dev/pci/twa.c				1.32

	Disable completely bogus DIAGNOSTIC check.
	[bouyer, ticket #1349]

sys/kern/kern_exec.c				1.149 via patch

	Fix ktrace of data from iovec based system calls.
	Fixes PR/41819
	[dsl, ticket #1352]

etc/ssh/ssh_known_hosts				1.5

	add morden, mollari, pkgbuild and build
	adjust function names' keys
	add the proper names of hosts too in preparation of their
	function moving
	[spz, ticket #1355]

usr.bin/netstat/netstat.1			1.52

	Fix typo
	[dholland, ticket #1356]

usr.bin/chflags/chflags.1			1.18

	Add some markup to improve clarity.
	[dholland, ticket #1357]

sys/netinet/tcp_usrreq.c			1.148 via patch

	Make the sysctl routines take raise to splnet() before dealing with
	any data structures.
	[mlelstv, ticket #1358]

xfree/xc/extras/expat/lib/xmltok_impl.c		1.2

	Apply revisions 1.14 and 1.15 from expat CVS to fix SA36425.
	[snj, ticket #1359]

share/man/man7/release.7			1.31 via patch
distrib/cdrom/hide-hfs.lst			1.5
distrib/mac68k/stand/Makefile			1.6 via patch
distrib/notes/common/main			1.451
distrib/sets/Makefile				1.70
distrib/sets/makesrctars			1.37
distrib/sets/makesums				1.16

	Only generate SHA512 and MD5 checksums for releases.
	[snj, ticket #1365]

usr.sbin/pstat/pstat.c				1.115

	Distinguish between UFS1 and UFS2 inodes by reading the ufsmount
	structure, the previous heuristic of comparing the size fields
	of inode and dinode failed.
	[mlelstv, ticket #1360]

bin/kill/kill.c					1.26

	Make sure that numerical signals and pids are in range for their types.
	Fixes PR bin/42143
	[spz, ticket #1361]

sys/arch/i386/include/npx.h			1.23

	Fix wrong memory layout of the FPU save frame. The debugger against a
	ptrace'd process would be confused.
	[mlelstv, ticket #1362]

sys/arch/amd64/amd64/fpu.c			1.29 via patch
sys/arch/amd64/amd64/machdep.c			1.105 via patch
sys/arch/amd64/amd64/netbsd32_machdep.c		1.59 via patch
sys/arch/i386/i386/machdep.c			1.647 via patch
sys/arch/i386/isa/npx.c				1.132 via patch

	PR port-i386/39299 FPU use in signal handlers is unsafe
	Ensure FP state is reset, if FP is used in a signal handler.
	[mlelstv, ticket #1363]

external/bsd/pkg_install/dist/add/add.h			1.1.1.3 - 1.1.1.5
external/bsd/pkg_install/dist/add/main.c		1.1.1.4 - 1.1.1.6
external/bsd/pkg_install/dist/add/perform.c		1.1.1.10 - 1.1.1.12
external/bsd/pkg_install/dist/add/pkg_add.1		1.1.1.8
external/bsd/pkg_install/dist/admin/audit.c		1.1.1.6
external/bsd/pkg_install/dist/admin/main.c		1.1.1.8 - 1.1.1.11
external/bsd/pkg_install/dist/admin/pkg_admin.1		1.1.1.9
external/bsd/pkg_install/dist/create/build.c		1.1.1.6
external/bsd/pkg_install/dist/create/create.h		1.1.1.4
external/bsd/pkg_install/dist/create/main.c		1.1.1.5
external/bsd/pkg_install/dist/create/perform.c		1.1.1.4
external/bsd/pkg_install/dist/delete/pkg_delete.1	1.1.1.5 - 1.1.1.6
external/bsd/pkg_install/dist/delete/pkg_delete.c	1.1.1.5
external/bsd/pkg_install/dist/info/info.h		1.1.1.4 - 1.1.1.5
external/bsd/pkg_install/dist/info/main.c		1.1.1.6 - 1.1.1.7
external/bsd/pkg_install/dist/info/perform.c		1.1.1.11
external/bsd/pkg_install/dist/info/show.c		1.1.1.7
external/bsd/pkg_install/dist/lib/config.h.in		1.1.1.4
external/bsd/pkg_install/dist/lib/conflicts.c		1.1.1.3
external/bsd/pkg_install/dist/lib/decompress.c		1.1.1.3
external/bsd/pkg_install/dist/lib/fexec.c		1.1.1.3
external/bsd/pkg_install/dist/lib/file.c		1.1.1.4 - 1.1.1.5
external/bsd/pkg_install/dist/lib/gpgsig.c		1.1.1.2
external/bsd/pkg_install/dist/lib/iterate.c		1.1.1.3
external/bsd/pkg_install/dist/lib/lib.h			1.1.1.8 - 1.1.1.9
external/bsd/pkg_install/dist/lib/license.c		1.1.1.5
external/bsd/pkg_install/dist/lib/parse-config.c	1.1.1.5 - 1.1.1.7
external/bsd/pkg_install/dist/lib/pkcs7.c		1.1.1.4
external/bsd/pkg_install/dist/lib/pkg_install.conf.5.in	1.1.1.6 - 1.1.1.8
external/bsd/pkg_install/dist/lib/pkg_io.c		1.1.1.7
external/bsd/pkg_install/dist/lib/pkg_signature.c	1.1.1.6
external/bsd/pkg_install/dist/lib/pkgdb.c		1.1.1.4 - 1.1.1.5
external/bsd/pkg_install/dist/lib/plist.c		1.1.1.5
external/bsd/pkg_install/dist/lib/remove.c		1.1.1.2
external/bsd/pkg_install/dist/lib/var.c			1.1.1.3
external/bsd/pkg_install/dist/lib/version.h		1.1.1.18 - 1.1.1.21

	Update to pkg_install-20091008:
	- pkg_add: add support to check license conditions before installation
	- pkg_delete: add -k option to skip over preserve packages.
	- WARNS=4 clean, fix some potential uses of uninitialized variables
	- Add a new command for pkg_admin: findbest. It takes one or more
	  patterns and searches for the best match in PKG_PATH, just like
	  pkg_add would.
	  It prints the URLs of the best match for each pattern to stdout.
	- Rewrite the config file parser to read the file only once.
	- Fix a bug in pkg_add's -P handling. For dependencies the pkgdb path
	  was computed incorrectly and included destdir more than once.
	- Fix the ACTIVE_FTP option to actually set the "a" flag and not the
	  old "p" flag.
	- restore pkg_add -f functionality for missing dependencies (PR 42001)
	- pkg_admin rebuild should count packages correctly (he@), also
	  count @pkgdir   
	- fix gpg-sign-package syntax in pkg_admin(1)
	- change default URL for pkg-vulnerabilities to use HTTP
	- Fix German accent
	- Don't dereference a null pointer for pkg_admin add
	[joerg, ticket #1364]

sys/netinet6/ip6_forward.c			1.67

	Clear cksum flags before any further processing like
	ip_forward does. Many drivers set the UDP/TCP v4 flags even
	for v6 traffic and if the packet is encapsulated with gif,
	the IPv6 header would get corrupted by ip_output.
	[joerg, ticket #1366]

usr.bin/comm/comm.c				1.18

	Don't include newlines when comparing to prevent errors when
	lines have characters that sort lower such as tabs.
	[darcy, ticket #1367]

sys/net/if_tap.c				1.60

	Fix a potential leak on tap device close; purging the send
	queue did not actually release the dequeued mbufs.
	[plunky, ticket #1368]

dist/ntp/ntpd/ntp_request.c			patch

	Fix CVE-2009-3563.
	[kardel, ticket #1369]

etc/defaults/rc.conf				1.107

	Make rtsold_flags default to -a. Closes PR/39657.
	[dholland, ticket #1370]

sys/sys/stat.h					1.59

	Parenthesize S_IS*() macro arguments to prevent breakage with
	certain arguments. Addresses PR/41919.
	[dholland, ticket #1371]

sys/netbt/rfcomm_session.c			1.16

	When receiving a MCC PN response, the max frame size that the remote
	party requests must be less than the one we asked for which will not
	be greater than the max acceptable value so no need to test for that
	but make sure that it is not smaller than minimum acceptable value.
	[plunky, ticket #1372]

crypto/dist/openssl/ssl/s3_lib.c		patch
crypto/dist/openssl/ssl/s3_pkt.c		patch
crypto/dist/openssl/ssl/s3_srvr.c		patch
crypto/dist/openssl/ssl/ssl_locl.h		patch

	Disable OpenSSL renegotiation, thus avoiding CVE-2009-3555.
	[tonnerre, ticket #1373]

sys/lib/libkern/arc4random.c			1.21

	Keep arc4_i and arc4_j synchronised after a rekeying. This
	prevents accidentally ending up in a short ARC4 cycle.
	[joerg, ticket #1374]

sys/dev/pci/azalia.c				patch

	Signedness bug/crash in azalia.  Fixes PR 42604.
	[tonnerre, ticket #1375]

dist/bind/CHANGES				patch
dist/bind/FAQ					patch
dist/bind/FAQ.xml				patch
dist/bind/bin/named/query.c			patch
dist/bind/bin/tests/system/conf.sh.in		patch
dist/bind/bin/tests/system/dnssec/ns2/example.db.in patch
dist/bind/bin/tests/system/dnssec/ns2/sign.sh	patch
dist/bind/bin/tests/system/dnssec/tests.sh	patch
dist/bind/doc/rfc/index				patch
dist/bind/lib/dns/api				patch
dist/bind/lib/dns/include/dns/types.h		patch
dist/bind/lib/dns/masterdump.c			patch
dist/bind/lib/dns/openssldsa_link.c		patch
dist/bind/lib/dns/opensslrsa_link.c		patch
dist/bind/lib/dns/rbtdb.c			patch
dist/bind/lib/dns/resolver.c			patch
dist/bind/lib/dns/validator.c			patch
dist/bind/lib/lwres/man/lwres.html		patch
dist/bind/lib/lwres/man/lwres_buffer.html	patch
dist/bind/lib/lwres/man/lwres_config.html	patch
dist/bind/lib/lwres/man/lwres_context.html	patch
dist/bind/lib/lwres/man/lwres_gabn.html		patch
dist/bind/lib/lwres/man/lwres_gai_strerror.html	patch
dist/bind/lib/lwres/man/lwres_getaddrinfo.html	patch
dist/bind/lib/lwres/man/lwres_gethostent.html	patch
dist/bind/lib/lwres/man/lwres_getipnode.html	patch
dist/bind/lib/lwres/man/lwres_getnameinfo.html	patch
dist/bind/lib/lwres/man/lwres_getrrsetbyname.html patch
dist/bind/lib/lwres/man/lwres_gnba.html		patch
dist/bind/lib/lwres/man/lwres_hstrerror.html	patch
dist/bind/lib/lwres/man/lwres_inetntop.html	patch
dist/bind/lib/lwres/man/lwres_noop.html		patch
dist/bind/lib/lwres/man/lwres_packet.html	patch
dist/bind/lib/lwres/man/lwres_resutil.html	patch
dist/bind/version				patch

	Backport changes from 9.4.3-9.4.3-P5 to 9.4.2, fixing a number of
	security issues.
	[christos, ticket #1376]

xsrc/xfree/xc/extras/expat/lib/xmlparse.c		1.2

	Add patch from upstream CVS to fix CVE-2009-3560 (possible DOS due to
	crash on bad input).
	[tron, ticket #1383]

distrib/sparc/ramdisk/dot.profile		1.20
sys/arch/sparc/sparc/auxreg.h			1.13
sys/arch/sparc/stand/common/promdev.c		1.23

	Don't try to read disklabel to check FS_RAID on floppy boot since
	reopening floppy could cause Data Access Exception later.
	Fixes PR port-sparc/42186, ok'ed by mrg@.

	Use /dev/fd0a rather than /dev/rfd0a to read instfs.tgz image from
	floppy.  It looks newer (appearred after 1.6) gzip tries to read
	less than DEV_BSIZE (to check header?) so we can't use raw device
	directly.  (note sparc bootfs ramdisk doesn't have dd(1))
	Workaround for PR port-sparc/42193, and would also fix PR install/28734.

	Explicitly clear AUXIO4M_FTC bit in FTC_FLIP macro used on
	pseudo-dma for floppy, as well as AUXIO4C_FTC bit for sun4c.
	A comment in the macro says AUXIO4M_FTC bit is auto-clear,
	but my two SS20s (including compatible) with 150MHz hyperSPARCs
	get data_overrun without it, and no bad side effect on SS5
	(works with and without this change).
	Closes PR port-sparc/42516, which is the last one of a bunch of
	floppy issue on NetBSD/sparc since NetBSD 2.0 days. See
	http://mail-index.NetBSD.org/port-sparc/2009/12/20/msg000484.html
	for details.
	[tsutsui, ticket #1379]

bin/sh/cd.c					1.40
bin/sh/sh.1					1.95, 1.97
bin/sh/sh.1					1.97

	Make the cd builtin accept and ignore -P, which is a kshism that
	has been allowed to leak into POSIX and selects the behavior cd
	already implements.
	Closes PR bin/42557 and also relevant to PR pkg/42168.
	[dholland, ticket #1380]

common/lib/libc/hash/sha2/sha2.c		1.20

	Fix unaligned access as reported in PR port-sparc/42273
	[joerg, ticket #1381]

common/lib/libc/hash/sha2/sha2.c		1.21

	Fix unaligned access in *_Final for SHA224/SHA256/SHA384.
	Remaining part of PR 42273.
	[joerg, ticket #1382]

